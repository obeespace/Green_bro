/*! For license information please see main.3c726ab9.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,U=Object.assign;function V(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function F(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function z(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case S:return"Profiler";case _:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){$(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,_e=null;function Se(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Te(e){Ee?_e?_e.push(e):_e=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=_e;if(_e=Ee=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ie(e,t){return e(t)}function Ae(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ie(e,t,n)}finally{Ne=!1,(null!==Ee||null!==_e)&&(Ae(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Oe=!1}function Le(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Me=!1,Ue=null,Ve=!1,je=null,Fe={onError:function(e){Me=!0,Ue=e}};function ze(e,t,n,r,i,a,o,s,u){Me=!1,Ue=null,Le.apply(Fe,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,_t,St,Tt=!1,Ct=[],It=null,At=null,Nt=null,Rt=new Map,Pt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void St(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Vt(e)&&n.delete(t)}function Ft(){Tt=!1,null!==It&&Vt(It)&&(It=null),null!==At&&Vt(At)&&(At=null),null!==Nt&&Vt(Nt)&&(Nt=null),Rt.forEach(jt),Pt.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function Bt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==At&&zt(At,e),null!==Nt&&zt(Nt,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ut(n),null===n.blockedOn&&Ot.shift()}var Ht=b.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var i=kt,a=Ht.transition;Ht.transition=null;try{kt=1,Kt(e,t,n,r)}finally{kt=i,Ht.transition=a}}function Gt(e,t,n,r){var i=kt,a=Ht.transition;Ht.transition=null;try{kt=4,Kt(e,t,n,r)}finally{kt=i,Ht.transition=a}}function Kt(e,t,n,r){if(qt){var i=Xt(e,t,n,r);if(null===i)qr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Xt(e,t,n,r))&&qr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Qt=null;function Xt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),fn=U({},ln,{view:0,detail:0}),hn=an(fn),dn=U({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(U({},dn,{dataTransfer:0})),mn=an(U({},fn,{relatedTarget:0})),yn=an(U({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=U({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(U({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Sn(){return _n}var Tn=U({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(Tn),In=an(U({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(U({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=an(U({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=U({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Rn),On=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Mn=c&&"TextEvent"in window&&!Ln,Un=c&&(!Dn||Ln&&8<Ln&&11>=Ln),Vn=String.fromCharCode(32),jn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Gr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Qn(e){Vr(e,0)}function Xn(e){if(K(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var $n=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Xn(Kn)){var t=[];Wn(t,Kn,e,we(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Kn)}function ar(e,t){if("click"===e)return Xn(t)}function or(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},_r={};function Sr(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Er[e]=n[t];return e}c&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Tr=Sr("animationend"),Cr=Sr("animationiteration"),Ir=Sr("animationstart"),Ar=Sr("transitionend"),Nr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),u(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Dr=Rr[Or];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Tr,"onAnimationEnd"),Pr(Cr,"onAnimationIteration"),Pr(Ir,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var c=Ue;Me=!1,Ue=null,Ve||(Ve=!0,je=c)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Ur(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Ur(i,s,l),a=u}}}if(Ve)throw e=je,Ve=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Fr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":l="focus",u=mn;break;case"focusout":l="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Tr:case Cr:case Ir:u=yn;break;case Ar:u=Nn;break;case"scroll":u=hn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&c.push(Wr(p,v,d)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(f=Be(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==l?s:bi(l),(s=new c(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,u&&l)e:{for(h=l,p=0,d=c=u;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)c=Kr(c),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Kr(c),h=Kr(h)}c=null}else c=null;null!==u&&Qr(o,s,u,c,!1),null!==l&&null!==f&&Qr(o,f,l,c,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yn;else if(qn(s))if($n)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?bi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Fn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Un&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Bn=!0)),0<(y=Gr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Vn);case"textInput":return(e=t.data)===Vn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Fn(e,t)?(e=en(),Zt=Jt=$t=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Vr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Pe(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=Pe(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ei=-1;function _i(e){return{current:e}}function Si(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function Ti(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Ci={},Ii=_i(Ci),Ai=_i(!1),Ni=Ci;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Si(Ai),Si(Ii)}function Di(e,t,n){if(Ii.current!==Ci)throw Error(a(168));Ti(Ii,t),Ti(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return U({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ni=Ii.current,Ti(Ii,e),Ti(Ai,Ai.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Si(Ai),Si(Ii),Ti(Ii,e)):Si(Ai),Ti(Ai,n)}var Vi=null,ji=!1,Fi=!1;function zi(e){null===Vi?Vi=[e]:Vi.push(e)}function Bi(){if(!Fi&&null!==Vi){Fi=!0;var e=0,t=kt;try{var n=Vi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,ji=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ke(Ze,Bi),i}finally{kt=t,Fi=!1}}return null}var Hi=[],qi=0,Wi=null,Gi=0,Ki=[],Qi=0,Xi=null,Yi=1,$i="";function Ji(e,t){Hi[qi++]=Gi,Hi[qi++]=Wi,Wi=e,Gi=t}function Zi(e,t,n){Ki[Qi++]=Yi,Ki[Qi++]=$i,Ki[Qi++]=Xi,Xi=e;var r=Yi;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,$i=a+e}else Yi=1<<a|n<<i|r,$i=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=Hi[--qi],Hi[qi]=null,Gi=Hi[--qi],Hi[qi]=null;for(;e===Xi;)Xi=Ki[--Qi],Ki[Qi]=null,$i=Ki[--Qi],Ki[Qi]=null,Yi=Ki[--Qi],Ki[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Yi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=li(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=_i(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Si(ya),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ta=null;function Ca(e){null===Ta?Ta=[e]:Ta.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Iu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ua(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,c=l=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=U({},f,h);break e;case 2:Na=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=f):c=c.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=f}}function Va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nl(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nl(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(nl(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Ha(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Pi(t)?Ni:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function qa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Pi(t)?Ni:Ii.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Xa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ol(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Dl(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ll(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ul(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dl(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=Vl(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ll(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case x:return n.key===i?c(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y,f=m}if(v===s.length)return n(i,f),ia&&Ji(i,v),l;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return ia&&Ji(i,v),l}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),l}function m(i,s,u,l){var c=L(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,l);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===f?c=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),c;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,l))&&(s=o(g,s,m),null===f?c=g:f.sibling=g,f=g);return ia&&Ji(i,m),c}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?c=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===E){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===P&&Qa(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ga(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===E?((a=Ll(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Dl(o.type,o.key,o.props,null,r.mode,u)).ref=Ga(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vl(o,r.mode,u)).return=r,r=a}return s(r);case P:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Ul(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ya=Xa(!0),$a=Xa(!1),Ja={},Za=_i(Ja),eo=_i(Ja),to=_i(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ti(Za,t)}function io(){Si(Za),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ti(eo,e),Ti(Za,n))}function oo(e){eo.current===e&&(Si(Za),Si(eo))}var so=_i(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function _o(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=ls,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Co(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Io(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var f=c.lane;if((po&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=h,s=r):l=l.next=h,vo.lanes|=f,Mu|=f}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Po(e,t){var n=vo,r=Co(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,qo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,jo(9,Do.bind(null,n,r,i,t),void 0,null),null===Au)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Uo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Uo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Uo(e){var t=Aa(e,1);null!==t&&nl(t,e,1,-1)}function Vo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fo(){return Co().memoizedState}function zo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=Co();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function Ho(e,t){return zo(8390656,8,e,t)}function qo(e,t){return Bo(2048,8,e,t)}function Wo(e,t){return Bo(4,2,e,t)}function Go(e,t){return Bo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ko.bind(null,t,e),n)}function Xo(){}function Yo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return Co().memoizedState}function ts(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ia(e,t,n,r))){nl(n,e,r,el()),as(n,t,r)}}function ns(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ca(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ia(e,t,i,r))&&(nl(n,e,r,i=el()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Sa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Sa,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:Ho,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Vo,useDebugValue:Xo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Vo(!1),t=e[0];return e=Zo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Au)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ho(Lo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Au.identifierPrefix;if(ia){var n=$i;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:qo,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:$o,useReducer:Ao,useRef:Fo,useState:function(){return Ao(Io)},useDebugValue:Xo,useDeferredValue:function(e){return Jo(Co(),mo.memoizedState,e)},useTransition:function(){return[Ao(Io)[0],Co().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1},ls={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:qo,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:$o,useReducer:No,useRef:Fo,useState:function(){return No(Io)},useDebugValue:Xo,useDeferredValue:function(e){var t=Co();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[No(Io)[0],Co().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qu||(qu=!0,Wu=r),hs(0,t)},n}function vs(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sl.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?$a(t,null,n,r):Ya(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=_o(e,t,n,r,a,i),n=So(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Es(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_s(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return qs(e,t,i)}return t.flags|=1,(e=Ol(a,r)).ref=t.ref,e.return=t,t.child=e}function _s(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,qs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Cs(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ou,Pu),Pu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ou,Pu),Pu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Ou,Pu),Pu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Ou,Pu),Pu|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var a=Pi(n)?Ni:Ii.current;return a=Ri(t,a),_a(t,i),n=_o(e,t,n,r,a,i),r=So(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Is(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(_a(t,i),null===t.stateNode)Hs(e,t),Ha(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Sa(l):l=Ri(t,l=Pi(n)?Ni:Ii.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&qa(t,o,r,l),Na=!1;var h=t.memoizedState;o.state=h,Ua(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ai.current||Na?("function"===typeof c&&(Fa(t,n,c,r),u=t.memoizedState),(s=Na||Ba(t,n,s,r,h,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ma(t.type,s),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Sa(u):u=Ri(t,u=Pi(n)?Ni:Ii.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&qa(t,o,r,u),Na=!1,h=t.memoizedState,o.state=h,Ua(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ai.current||Na?("function"===typeof d&&(Fa(t,n,d,r),p=t.memoizedState),(l=Na||Ba(t,n,l,r,h,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,a,i)}function As(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ui(t,n,!1),qs(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Rs(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ps,Os,Ds,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Us(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(so,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Ml(u,i,0,null),e=Ll(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ls,e):Vs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,js(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ml({mode:"visible",children:r.children},i,0,null),(o=Ll(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return js(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,js(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Au)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),nl(r,e,i,-1))}return vl(),js(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cl.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Qi++]=Yi,Ki[Qi++]=$i,Ki[Qi++]=Xi,Yi=e.id,$i=e.overflow,Xi=t),(t=Vs(t,r.children)).flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ol(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Ol(r,s):(s=Ll(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Ol(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vs(e,t){return(t=Ml({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Vs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ol(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ol(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Pi(t.type)&&Oi(),Gs(t),null;case 3:return r=t.stateNode,io(),Si(Ai),Si(Ii),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ol(aa),aa=null))),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Y(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&jr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ps(e,t),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":Y(e,r),i=X(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&jr("scroll",e):null!=c&&k(e,o,c,u))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ds(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Si(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(ol(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Du&&(Du=3):vl())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Gs(t),null;case 10:return xa(t.type._context),Gs(t),null;case 19:if(Si(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Du||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>Bu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*$e()-o.renderingStartTime>Bu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=so.current,Ti(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return fl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pu)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ai),Si(Ii),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fl(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=X(e,i),r=X(e,r),o=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&jr("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Ys=!1,$s="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_l(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){_l(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var cu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||Zs(n,t);case 6:var r=cu,i=fu;cu=null,hu(e,t,n),fu=i,null!==(cu=r)&&(fu?(e=cu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(fu?(e=cu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(cu,n.stateNode));break;case 4:r=cu,i=fu,cu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),cu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Ys&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){_l(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,hu(e,t,n),Ys=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Il.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,fu=!1;break e;case 3:case 4:cu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===cu)throw Error(a(160));du(o,s,i),cu=null,fu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){_l(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){_l(e,e.return,m)}try{nu(5,e,e.return)}catch(m){_l(e,e.return,m)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){_l(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&$(i,o),ke(u,s);var c=ke(u,o);for(s=0;s<l.length;s+=2){var f=l[s],h=l[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,c)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){_l(e,e.return,m)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){_l(e,e.return,m)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){_l(e,e.return,m)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=$e())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(c=Ys)||f,vu(t,e),Ys=c):vu(t,e),yu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Js=e,f=e.child;null!==f;){for(h=Js=f;null!==Js;){switch(p=(d=Js).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Zs(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){_l(r,n,m)}}break;case 5:Zs(d,d.return);break;case 22:if(null!==d.memoizedState){wu(h);continue}}null!==p?(p.return=d,Js=p):wu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(m){_l(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){_l(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){_l(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,n){Js=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ys;s=Xs;var l=Ys;if(Xs=o,(Ys=u)&&!l)for(Js=i;null!==Js;)u=(o=Js).child,22===o.tag&&null!==o.memoizedState?xu(i):null!==u?(u.return=o,Js=u):xu(i);for(;null!==a;)Js=a,ku(a,t,n),a=a.sibling;Js=i,Xs=s,Ys=l}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):bu(e)}}function bu(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Va(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Va(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Ys||512&t.flags&&iu(t)}catch(d){_l(t,t.return,d)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function wu(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function xu(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){_l(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){_l(t,i,u)}}var a=t.return;try{iu(t)}catch(u){_l(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){_l(t,o,u)}}}catch(u){_l(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Eu,_u=Math.ceil,Su=b.ReactCurrentDispatcher,Tu=b.ReactCurrentOwner,Cu=b.ReactCurrentBatchConfig,Iu=0,Au=null,Nu=null,Ru=0,Pu=0,Ou=_i(0),Du=0,Lu=null,Mu=0,Uu=0,Vu=0,ju=null,Fu=null,zu=0,Bu=1/0,Hu=null,qu=!1,Wu=null,Gu=null,Ku=!1,Qu=null,Xu=0,Yu=0,$u=null,Ju=-1,Zu=0;function el(){return 0!==(6&Iu)?$e():-1!==Ju?Ju:Ju=$e()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Iu)&&0!==Ru?Ru&-Ru:null!==va.transition?(0===Zu&&(Zu=vt()),Zu):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nl(e,t,n,r){if(50<Yu)throw Yu=0,$u=null,Error(a(185));yt(e,n,r),0!==(2&Iu)&&e===Au||(e===Au&&(0===(2&Iu)&&(Uu|=n),4===Du&&sl(e,Ru)),rl(e,r),1===n&&0===Iu&&0===(1&t.mode)&&(Bu=$e()+500,ji&&Bi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Au?Ru:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(ul.bind(null,e)):zi(ul.bind(null,e)),oi((function(){0===(6&Iu)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Al(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Ju=-1,Zu=0,0!==(6&Iu))throw Error(a(327));var n=e.callbackNode;if(xl()&&e.callbackNode!==n)return null;var r=ht(e,e===Au?Ru:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var i=Iu;Iu|=2;var o=pl();for(Au===e&&Ru===t||(Hu=null,Bu=$e()+500,hl(e,t));;)try{gl();break}catch(u){dl(e,u)}wa(),Su.current=o,Iu=i,null!==Nu?t=0:(Au=null,Ru=0,t=Du)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=al(e,i))),1===t)throw n=Lu,hl(e,0),sl(e,r),rl(e,$e()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ml(e,r))&&(0!==(o=pt(e))&&(r=o,t=al(e,o))),1===t))throw n=Lu,hl(e,0),sl(e,r),rl(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wl(e,Fu,Hu);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=zu+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wl.bind(null,e,Fu,Hu),t);break}wl(e,Fu,Hu);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_u(r/1960))-r)){e.timeoutHandle=ri(wl.bind(null,e,Fu,Hu),r);break}wl(e,Fu,Hu);break;default:throw Error(a(329))}}}return rl(e,$e()),e.callbackNode===n?il.bind(null,e):null}function al(e,t){var n=ju;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Fu,Fu=n,null!==t&&ol(t)),e}function ol(e){null===Fu?Fu=e:Fu.push.apply(Fu,e)}function sl(e,t){for(t&=~Vu,t&=~Uu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ul(e){if(0!==(6&Iu))throw Error(a(327));xl();var t=ht(e,0);if(0===(1&t))return rl(e,$e()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=Lu,hl(e,0),sl(e,t),rl(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,Fu,Hu),rl(e,$e()),null}function ll(e,t){var n=Iu;Iu|=1;try{return e(t)}finally{0===(Iu=n)&&(Bu=$e()+500,ji&&Bi())}}function cl(e){null!==Qu&&0===Qu.tag&&0===(6&Iu)&&xl();var t=Iu;Iu|=1;var n=Cu.transition,r=kt;try{if(Cu.transition=null,kt=1,e)return e()}finally{kt=r,Cu.transition=n,0===(6&(Iu=t))&&Bi()}}function fl(){Pu=Ou.current,Si(Ou)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nu)for(n=Nu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Si(Ai),Si(Ii),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(so);break;case 10:xa(r.type._context);break;case 22:case 23:fl()}n=n.return}if(Au=e,Nu=e=Ol(e.current,null),Ru=Pu=t,Du=0,Lu=null,Vu=Uu=Mu=0,Fu=ju=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function dl(e,t){for(;;){var n=Nu;try{if(wa(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Tu.current=null,null===n||null===n.return){Du=1,Lu=t,Nu=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Ru,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){ms(o,c,t),vl();break e}l=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(cs(l,u));break e}}o=l=cs(l,u),4!==Du&&(Du=2),null===ju?ju=[o]:ju.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,l,t));break e;case 1:u=l;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gu||!Gu.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}bl(n)}catch(b){t=b,Nu===n&&null!==n&&(Nu=n=n.return);continue}break}}function pl(){var e=Su.current;return Su.current=os,null===e?os:e}function vl(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Au||0===(268435455&Mu)&&0===(268435455&Uu)||sl(Au,Ru)}function ml(e,t){var n=Iu;Iu|=2;var r=pl();for(Au===e&&Ru===t||(Hu=null,hl(e,t));;)try{yl();break}catch(i){dl(e,i)}if(wa(),Iu=n,Su.current=r,null!==Nu)throw Error(a(261));return Au=null,Ru=0,Du}function yl(){for(;null!==Nu;)kl(Nu)}function gl(){for(;null!==Nu&&!Xe();)kl(Nu)}function kl(e){var t=Eu(e.alternate,e,Pu);e.memoizedProps=e.pendingProps,null===t?bl(e):Nu=t,Tu.current=null}function bl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Pu)))return void(Nu=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Nu=n);if(null===e)return Du=6,void(Nu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nu=t);Nu=t=e}while(null!==t);0===Du&&(Du=5)}function wl(e,t,n){var r=kt,i=Cu.transition;try{Cu.transition=null,kt=1,function(e,t,n,r){do{xl()}while(null!==Qu);if(0!==(6&Iu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Au&&(Nu=Au=null,Ru=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ku||(Ku=!0,Al(tt,(function(){return xl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cu.transition,Cu.transition=null;var s=kt;kt=1;var u=Iu;Iu|=4,Tu.current=null,function(e,t){if(ei=qt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,l=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(u=s),d===o&&++f===r&&(l=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){_l(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,gu(n,e,i),Ye(),Iu=u,kt=s,Cu.transition=o}else e.current=n;if(Ku&&(Ku=!1,Qu=e,Xu=i),0===(o=e.pendingLanes)&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(qu)throw qu=!1,e=Wu,Wu=null,e;0!==(1&Xu)&&0!==e.tag&&xl(),0!==(1&(o=e.pendingLanes))?e===$u?Yu++:(Yu=0,$u=e):Yu=0,Bi()}(e,t,n,r)}finally{Cu.transition=i,kt=r}return null}function xl(){if(null!==Qu){var e=bt(Xu),t=Cu.transition,n=kt;try{if(Cu.transition=null,kt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,Xu=0,0!==(6&Iu))throw Error(a(331));var i=Iu;for(Iu|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Js=c;null!==Js;){var f=Js;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Js=h;else for(;null!==Js;){var d=(f=Js).sibling,p=f.return;if(au(f),f===c){Js=null;break}if(null!==d){d.return=p,Js=d;break}Js=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Js=g;break e}Js=o.return}}var k=e.current;for(Js=k;null!==Js;){var b=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Js=b;else e:for(s=k;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(x){_l(u,u.return,x)}if(u===s){Js=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Js=w;break e}Js=u.return}}if(Iu=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Cu.transition=t}}return!1}function El(e,t,n){e=Da(e,t=ps(0,t=cs(n,t),1),1),t=el(),null!==e&&(yt(e,1,t),rl(e,t))}function _l(e,t,n){if(3===e.tag)El(e,e,n);else for(;null!==t;){if(3===t.tag){El(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Da(t,e=vs(t,e=cs(n,e),1),1),e=el(),null!==t&&(yt(t,1,e),rl(t,e));break}}t=t.return}}function Sl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Au===e&&(Ru&n)===n&&(4===Du||3===Du&&(130023424&Ru)===Ru&&500>$e()-zu?hl(e,0):Vu|=n),rl(e,t)}function Tl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Aa(e,t))&&(yt(e,t,n),rl(e,n))}function Cl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tl(e,n)}function Il(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tl(e,n)}function Al(e,t){return Ke(e,t)}function Nl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,n,r){return new Nl(e,t,n,r)}function Pl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ol(e,t){var n=e.alternate;return null===n?((n=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dl(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Pl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Ll(n.children,i,o,t);case _:s=8,i|=8;break;case S:return(e=Rl(12,n,t,2|i)).elementType=S,e.lanes=o,e;case A:return(e=Rl(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Rl(19,n,t,i)).elementType=N,e.lanes=o,e;case O:return Ml(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case C:s=9;break e;case I:s=11;break e;case R:s=14;break e;case P:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rl(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ll(e,t,n,r){return(e=Rl(7,e,r,t)).lanes=n,e}function Ml(e,t,n,r){return(e=Rl(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Ul(e,t,n){return(e=Rl(6,e,null,t)).lanes=n,e}function Vl(e,t,n){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fl(e,t,n,r,i,a,o,s,u){return e=new jl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function zl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bl(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function Hl(e,t,n,r,i,a,o,s,u){return(e=Fl(n,r,!0,e,0,a,0,s,u)).context=Bl(null),n=e.current,(a=Oa(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),rl(e,r),e}function ql(e,t,n,r){var i=t.current,a=el(),o=tl(i);return n=Bl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(nl(e,i,o,a),La(e,i,o)),o}function Wl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kl(e,t){Gl(e,t),(e=e.alternate)&&Gl(e,t)}Eu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Us(e,t,n):(Ti(so,1&so.current),null!==(e=qs(e,t,n))?e.sibling:null);Ti(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return qs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Ri(t,Ii.current);_a(t,n),i=_o(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=As(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===R)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Es(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Ua(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Rs(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Rs(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=$a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=qs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&la(t),null;case 13:return Us(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ai.current){t=qs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Oa(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ea(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ea(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_a(t,n),r=r(i=Sa(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Es(e,t,r,i=ma(r.type,i),n);case 15:return _s(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Hs(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,_a(t,n),Ha(t,r,i),Wa(t,r,i,n),As(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return Ss(e,t,n)}throw Error(a(156,t.tag))};var Ql="function"===typeof reportError?reportError:function(e){console.error(e)};function Xl(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wl(o);s.call(e)}}ql(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wl(o);a.call(e)}}var o=Hl(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),cl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wl(u);s.call(e)}}var u=Fl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),cl((function(){ql(t,u,n,r)})),u}(n,t,e,i,r);return Wl(o)}Yl.prototype.render=Xl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));ql(e,t,null,null)},Yl.prototype.unmount=Xl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){ql(null,e,null,null)})),t[pi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ut(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rl(t,$e()),0===(6&Iu)&&(Bu=$e()+500,Bi()))}break;case 13:cl((function(){var t=Aa(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Kl(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nl(t,e,134217728,el());Kl(e,134217728)}},Et=function(e){if(13===e.tag){var t=tl(e),n=Aa(e,t);if(null!==n)nl(n,e,t,el());Kl(e,t)}},_t=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=ll,Ae=cl;var tc={usingClientEntryPoint:!1,Events:[ki,bi,wi,Te,Ce,ll]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$l(t))throw Error(a(200));return zl(e,t,null,n)},t.createRoot=function(e,t){if(!$l(e))throw Error(a(299));var n=!1,r="",i=Ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Fl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Xl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$l(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hl(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(a(40));return!!e._reactRootContainer&&(cl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.jsx=l,t.jsxs=l},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!_.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:E.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var l=0;l<e.length;l++){var c=a+I(s=e[l],l);u+=A(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=A(s=s.value,t,i,c=a+I(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:E};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)x.call(t,l)&&!_.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(m=!1,b(e),!v)if(null!==r(l))v=!0,O(x);else{var t=r(c);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(T),T=-1),p=!0;var a=d;try{for(b(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(l)&&i(l),b(n)}else i(l);h=r(l)}if(null!==h)var u=!0;else{var f=r(c);null!==f&&D(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,_=!1,S=null,T=-1,C=5,I=-1;function A(){return!(t.unstable_now()-I<C)}function N(){if(null!==S){var e=t.unstable_now();I=e;var n=!0;try{n=S(!0,e)}finally{n?E():(_=!1,S=null)}}else _=!1}if("function"===typeof k)E=function(){k(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=N,E=function(){P.postMessage(null)}}else E=function(){y(N,0)};function O(e){S=e,_||(_=!0,E())}function D(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(g(T),T=-1):m=!0,D(w,a-o))):(e.sortIndex=s,n(l,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/green_bro/",function(){var e,t=n(791),r=n.t(t,2),i=n(250);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){if(t&&("object"===m(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function k(e){var t=v();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function b(e,t,n){return b=v()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&h(i,n.prototype),i},b.apply(null,arguments)}function w(e){var t="function"===typeof Map?new Map:void 0;return w=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return b(e,arguments,p(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,e)},w(e)}function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var E,_="popstate";function S(e){return{usr:e.state,key:e.key}}function T(e,t,n,r){return void 0===n&&(n=null),x({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?I(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function C(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function I(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function A(t,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,l=void 0!==u&&u,c=s.history,f=e.Pop,h=null;function d(){f=e.Pop,h&&h({action:f,location:p.location})}var p={get action(){return f},get location(){return t(s,c)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(_,d),h=e,function(){s.removeEventListener(_,d),h=null}},createHref:function(e){return n(s,e)},push:function(t,n){f=e.Push;var i=T(p.location,t,n);r&&r(i,t);var a=S(i),o=p.createHref(i);try{c.pushState(a,"",o)}catch(u){s.location.assign(o)}l&&h&&h({action:f,location:i})},replace:function(t,n){f=e.Replace;var i=T(p.location,t,n);r&&r(i,t);var a=S(i),o=p.createHref(i);c.replaceState(a,"",o),l&&h&&h({action:f,location:i})},go:function(e){return c.go(e)}};return p}function N(e,t,n){void 0===n&&(n="/");var r=U(("string"===typeof t?I(t):t).pathname||"/",n);if(null==r)return null;var i=R(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=L(i[o],r);return a}function R(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(V(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var o=B([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(V(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),R(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:D(o,e.index),routesMeta:s})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(E||(E={}));var P=/^:\w+$/,O=function(e){return"*"===e};function D(e,t){var n=e.split("/"),r=n.length;return n.some(O)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!O(e)})).reduce((function(e,t){return e+(P.test(t)?3:""===t?1:10)}),r)}function L(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=M({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var f=s.route;a.push({params:r,pathname:B([i,c.pathname]),pathnameBase:H(B([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=B([i,c.pathnameBase]))}return a}function M(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);j("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=s(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],l=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";l=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return j(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:l,pattern:e}}function U(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function V(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function j(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function F(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function z(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=I(e):(V(!(i=x({},e)).pathname||!i.pathname.includes("?"),F("?","pathname","search",i)),V(!i.pathname||!i.pathname.includes("#"),F("#","pathname","hash",i)),V(!i.search||!i.search.includes("#"),F("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var l=s.split("/");".."===l[0];)l.shift(),u-=1;i.pathname=l.join("/")}a=u>=0?t[u]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?I(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:q(a),hash:W(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!f&&!h||(c.pathname+="/"),c}var B=function(e){return e.join("/").replace(/\/\/+/g,"/")},H=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},q=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},W=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},G=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n)}(w(Error));var K=f((function e(t,n,r){l(this,e),this.status=t,this.statusText=n||"",this.data=r}));function Q(e){return e instanceof K}function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X.apply(this,arguments)}var Y="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},$=t.useState,J=t.useEffect,Z=t.useLayoutEffect,ee=t.useDebugValue;function te(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!Y(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var ne=t.createContext(null);var re=t.createContext(null);var ie=t.createContext(null);var ae=t.createContext(null);var oe=t.createContext(null);var se=t.createContext(null);var ue=t.createContext({outlet:null,matches:[]});var le=t.createContext(null);function ce(){return null!=t.useContext(se)}function fe(){return ce()||V(!1),t.useContext(se).location}function he(e){return e.filter((function(t,n){return 0===n||!t.route.index&&t.pathnameBase!==e[n-1].pathnameBase}))}function de(){ce()||V(!1);var e=t.useContext(oe),n=e.basename,r=e.navigator,i=t.useContext(ue).matches,a=fe().pathname,o=JSON.stringify(he(i).map((function(e){return e.pathnameBase}))),s=t.useRef(!1);t.useEffect((function(){s.current=!0}));var u=t.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=z(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:B([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return u}function pe(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(ue).matches,a=fe().pathname,o=JSON.stringify(he(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return z(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function ve(){var e=function(){var e,n=t.useContext(le),r=we(ye.UseRouteError),i=t.useContext(ue),a=i.matches[i.matches.length-1];if(n)return n;return i||V(!1),!a.route.id&&V(!1),null==(e=r.errors)?void 0:e[a.route.id]}(),n=Q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",t.createElement("code",{style:o},"errorElement")," props on\xa0",t.createElement("code",{style:o},"<Route>")))}var me,ye,ge=function(e){d(r,e);var n=k(r);function r(e){var t;return l(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return f(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(le.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function ke(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(ne);return a&&r.route.errorElement&&(a._deepestRenderedBoundaryId=r.route.id),t.createElement(ue.Provider,{value:n},i)}function be(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||V(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,l=r?o.route.errorElement||t.createElement(ve,null):null,c=function(){return t.createElement(ke,{match:o,routeContext:{outlet:e,matches:n.concat(i.slice(0,s+1))}},u?l:void 0!==o.route.element?o.route.element:e)};return r&&(o.route.errorElement||0===s)?t.createElement(ge,{location:r.location,component:l,error:u,children:c()}):c()}),null)}function we(e){var n=t.useContext(ie);return n||V(!1),n}!function(e){e.UseRevalidator="useRevalidator"}(me||(me={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(ye||(ye={}));var xe;function Ee(e){V(!1)}function _e(n){var r=n.basename,i=void 0===r?"/":r,a=n.children,o=void 0===a?null:a,s=n.location,u=n.navigationType,l=void 0===u?e.Pop:u,c=n.navigator,f=n.static,h=void 0!==f&&f;ce()&&V(!1);var d=i.replace(/^\/*/,"/"),p=t.useMemo((function(){return{basename:d,navigator:c,static:h}}),[d,c,h]);"string"===typeof s&&(s=I(s));var v=s,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,x=v.state,E=void 0===x?null:x,_=v.key,S=void 0===_?"default":_,T=t.useMemo((function(){var e=U(y,d);return null==e?null:{pathname:e,search:k,hash:w,state:E,key:S}}),[d,y,k,w,E,S]);return null==T?null:t.createElement(oe.Provider,{value:p},t.createElement(se.Provider,{children:o,value:{location:T,navigationType:l}}))}function Se(n){var r=n.children,i=n.location,a=t.useContext(re);return function(n,r){ce()||V(!1);var i,a=t.useContext(ie),o=t.useContext(ue).matches,s=o[o.length-1],u=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),c=(s&&s.route,fe());if(r){var f,h="string"===typeof r?I(r):r;"/"===l||(null==(f=h.pathname)?void 0:f.startsWith(l))||V(!1),i=h}else i=c;var d=i.pathname||"/",p=N(n,{pathname:"/"===l?d:d.slice(l.length)||"/"}),v=be(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:B([l,e.pathname]),pathnameBase:"/"===e.pathnameBase?l:B([l,e.pathnameBase])})})),o,a||void 0);return r?t.createElement(se.Provider,{value:{location:X({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:e.Pop}},v):v}(a&&!r?a.router.routes:Ce(r),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(xe||(xe={}));var Te=new Promise((function(){}));t.Component;function Ce(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==Ee&&V(!1),e.props.index&&e.props.children&&V(!1);var a=[].concat(u(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Ce(e.props.children,a)),r.push(o)}else r.push.apply(r,Ce(e.props.children,n))})),r}function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ie.apply(this,arguments)}function Ae(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Ne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Re(e){var n,r=e.basename,i=e.children,a=e.window,o=t.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),A((function(e,t){var n=e.location;return T("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:C(t)}),null,n)));var u=o.current,l=s(t.useState({action:u.action,location:u.location}),2),c=l[0],f=l[1];return t.useLayoutEffect((function(){return u.listen(f)}),[u]),t.createElement(_e,{basename:r,children:i,location:c.location,navigationType:c.action,navigator:u})}var Pe=t.forwardRef((function(e,n){var r=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,s=e.state,u=e.target,l=e.to,c=e.preventScrollReset,f=Ae(e,Ne),h=function(e,n){var r=(void 0===n?{}:n).relative;ce()||V(!1);var i=t.useContext(oe),a=i.basename,o=i.navigator,s=pe(e,{relative:r}),u=s.hash,l=s.pathname,c=s.search,f=l;return"/"!==a&&(f="/"===l?a:B([a,l])),o.createHref({pathname:f,search:c,hash:u})}(l,{relative:i}),d=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,l=de(),c=fe(),f=pe(e,{relative:u});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:C(c)===C(f);l(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[c,l,f,a,o,i,e,s,u])}(l,{replace:o,state:s,target:u,preventScrollReset:c,relative:i});return t.createElement("a",Ie({},f,{href:h,onClick:a?r:function(e){r&&r(e),e.defaultPrevented||d(e)},ref:n,target:u}))}));var Oe,De;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Oe||(Oe={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(De||(De={}));function Le(){Le=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new _(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=w(o,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=u;var c={};function f(){}function h(){}function d(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,i)&&(p=y);var g=d.prototype=f.prototype=Object.create(p);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==m(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,s(g,"constructor",d),s(d,"constructor",h),h.displayName=s(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},k(b.prototype),s(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(g),s(g,o,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,c):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}function Me(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function Ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Me(a,r,i,o,s,"next",e)}function s(e){Me(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Ve={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},je=t.createContext&&t.createContext(Ve),Fe=function(){return Fe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Fe.apply(this,arguments)},ze=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Be(e){return e&&e.map((function(e,n){return t.createElement(e.tag,Fe({key:n},e.attr),Be(e.child))}))}function He(e){return function(n){return t.createElement(qe,Fe({attr:Fe({},e.attr)},n),Be(e.child))}}function qe(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,s=ze(e,["attr","size","title"]),u=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",Fe({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:Fe(Fe({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==je?t.createElement(je.Consumer,null,(function(e){return n(e)})):n(Ve)}function We(e){return He({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}}]})(e)}function Ge(e){return He({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"}}]})(e)}function Ke(e){return He({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 14v6m-3-3h6M6 10h2a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2zm10 0h2a2 2 0 002-2V6a2 2 0 00-2-2h-2a2 2 0 00-2 2v2a2 2 0 002 2zM6 20h2a2 2 0 002-2v-2a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2z"}}]})(e)}function Qe(e){return He({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M518.3 459a8 8 0 0 0-12.6 0l-112 141.7a7.98 7.98 0 0 0 6.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attr:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0 1 52.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 0 1-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]})(e)}function Xe(e){return He({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 0 0-44.4 0L77.5 505a63.9 63.9 0 0 0-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0 0 18.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]})(e)}function Ye(e){return He({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0z"}}]})(e)}function $e(e){return He({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"}},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"}}]})(e)}function Je(e){return He({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 13v-2H7V8l-5 4 5 4v-3z"}},{tag:"path",attr:{d:"M20 3h-9c-1.103 0-2 .897-2 2v4h2V5h9v14h-9v-4H9v4c0 1.103.897 2 2 2h9c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2z"}}]})(e)}var Ze=n.p+"static/media/avater.8e7ab55da0bc52271ed8.jpg";function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt=(0,t.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),it=(0,t.createContext)({});var at=(0,t.createContext)(null),ot="undefined"!==typeof document,st=ot?t.useLayoutEffect:t.useEffect,ut=(0,t.createContext)({strict:!1});function lt(e,n,r,i){var a=(0,t.useContext)(it).visualElement,o=(0,t.useContext)(ut),s=(0,t.useContext)(at),u=(0,t.useContext)(rt).reducedMotion,l=(0,t.useRef)(void 0);i=i||o.renderer,!l.current&&i&&(l.current=i(e,{visualState:n,parent:a,props:r,presenceId:s?s.id:void 0,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:u}));var c=l.current;return st((function(){c&&c.syncRender()})),(0,t.useEffect)((function(){c&&c.animationState&&c.animationState.animateChanges()})),st((function(){return function(){return c&&c.notifyUnmount()}}),[]),c}function ct(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function ft(e){return"string"===typeof e||Array.isArray(e)}function ht(e){return"object"===typeof e&&"function"===typeof e.start}var dt=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function pt(e){return ht(e.animate)||dt.some((function(t){return ft(e[t])}))}function vt(e){return Boolean(pt(e)||e.variants)}function mt(e){var n=function(e,t){if(pt(e)){var n=e.initial,r=e.animate;return{initial:!1===n||ft(n)?n:void 0,animate:ft(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(it)),r=n.initial,i=n.animate;return(0,t.useMemo)((function(){return{initial:r,animate:i}}),[yt(r),yt(i)])}function yt(e){return Array.isArray(e)?e.join(" "):e}var gt=function(e){return{isEnabled:function(t){return e.some((function(e){return!!t[e]}))}}},kt={measureLayout:gt(["layout","layoutId","drag"]),animation:gt(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:gt(["exit"]),drag:gt(["drag","dragControls"]),focus:gt(["whileFocus"]),hover:gt(["whileHover","onHoverStart","onHoverEnd"]),tap:gt(["whileTap","onTap","onTapStart","onTapCancel"]),pan:gt(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:gt(["whileInView","onViewportEnter","onViewportLeave"])};function bt(e){var n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}var wt={hasAnimatedSinceResize:!0,hasEverUpdated:!1},xt=1;var Et=(0,t.createContext)({}),_t=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n,[{key:"getSnapshotBeforeUpdate",value:function(){var e=this.props,t=e.visualElement,n=e.props;return t&&t.setProps(n),null}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return this.props.children}}]),n}(t.Component),St=(0,t.createContext)({}),Tt=Symbol.for("motionComponentSymbol");function Ct(e){var n=e.preloadedFeatures,r=e.createVisualElement,i=e.projectionNodeConstructor,a=e.useRender,o=e.useVisualState,s=e.Component;n&&function(e){for(var t in e)"projectionNodeConstructor"===t?kt.projectionNodeConstructor=e[t]:kt[t].Component=e[t]}(n);var u=(0,t.forwardRef)((function(e,u){var l=nt(nt(nt({},(0,t.useContext)(rt)),e),{},{layoutId:It(e)}),c=l.isStatic,f=null,h=mt(e),d=c?void 0:bt((function(){if(wt.hasEverUpdated)return xt++})),p=o(e,c);if(!c&&ot){h.visualElement=lt(s,p,l,r);var v=(0,t.useContext)(ut).strict,m=(0,t.useContext)(St);h.visualElement&&(f=h.visualElement.loadFeatures(l,v,n,d,i||kt.projectionNodeConstructor,m))}return t.createElement(_t,{visualElement:h.visualElement,props:l},f,t.createElement(it.Provider,{value:h},a(s,e,d,function(e,n,r){return(0,t.useCallback)((function(t){t&&e.mount&&e.mount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):ct(r)&&(r.current=t))}),[n])}(p,h.visualElement,u),p,c,h.visualElement)))}));return u[Tt]=s,u}function It(e){var n=e.layoutId,r=(0,t.useContext)(Et).id;return r&&void 0!==n?r+"-"+n:n}function At(e){function t(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ct(e(t,n))}if("undefined"===typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var Nt=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function Rt(e){return"string"===typeof e&&!e.includes("-")&&!!(Nt.indexOf(e)>-1||/[A-Z]/.test(e))}var Pt={};var Ot=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dt=new Set(Ot);function Lt(e,t){var n=t.layout,r=t.layoutId;return Dt.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Pt[e]||"opacity"===e)}var Mt=function(e){return!!(null===e||void 0===e?void 0:e.getVelocity)};function Ut(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}var Vt={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jt=function(e,t){return Ot.indexOf(e)-Ot.indexOf(t)};function Ft(e){return e.startsWith("--")}var zt=function(e,t){return t&&"number"===typeof e?t.transform(e):e},Bt=function(e,t){return function(n){return Math.max(Math.min(n,t),e)}},Ht=function(e){return e%1?Number(e.toFixed(5)):e},qt=/(-)?([\d]*\.?[\d])+/g,Wt=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Gt=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Kt(e){return"string"===typeof e}var Qt=function(e){return{test:function(t){return Kt(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return"".concat(t).concat(e)}}},Xt=Qt("deg"),Yt=Qt("%"),$t=Qt("px"),Jt=Qt("vh"),Zt=Qt("vw"),en=Object.assign(Object.assign({},Yt),{parse:function(e){return Yt.parse(e)/100},transform:function(e){return Yt.transform(100*e)}}),tn={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},nn=Object.assign(Object.assign({},tn),{transform:Bt(0,1)}),rn=Object.assign(Object.assign({},tn),{default:1}),an=nt(nt({},tn),{},{transform:Math.round}),on={borderWidth:$t,borderTopWidth:$t,borderRightWidth:$t,borderBottomWidth:$t,borderLeftWidth:$t,borderRadius:$t,radius:$t,borderTopLeftRadius:$t,borderTopRightRadius:$t,borderBottomRightRadius:$t,borderBottomLeftRadius:$t,width:$t,maxWidth:$t,height:$t,maxHeight:$t,size:$t,top:$t,right:$t,bottom:$t,left:$t,padding:$t,paddingTop:$t,paddingRight:$t,paddingBottom:$t,paddingLeft:$t,margin:$t,marginTop:$t,marginRight:$t,marginBottom:$t,marginLeft:$t,rotate:Xt,rotateX:Xt,rotateY:Xt,rotateZ:Xt,scale:rn,scaleX:rn,scaleY:rn,scaleZ:rn,skew:Xt,skewX:Xt,skewY:Xt,distance:$t,translateX:$t,translateY:$t,translateZ:$t,x:$t,y:$t,z:$t,perspective:$t,transformPerspective:$t,opacity:nn,originX:en,originY:en,originZ:$t,zIndex:an,fillOpacity:nn,strokeOpacity:nn,numOctaves:an};function sn(e,t,n,r){var i=e.style,a=e.vars,o=e.transform,s=e.transformKeys,u=e.transformOrigin;s.length=0;var l=!1,c=!1,f=!0;for(var h in t){var d=t[h];if(Ft(h))a[h]=d;else{var p=on[h],v=zt(d,p);if(Dt.has(h)){if(l=!0,o[h]=v,s.push(h),!f)continue;d!==(p.default||0)&&(f=!1)}else h.startsWith("origin")?(c=!0,u[h]=v):i[h]=v}}if(t.transform||(l||r?i.transform=function(e,t,n,r){var i=e.transform,a=e.transformKeys,o=t.enableHardwareAcceleration,s=void 0===o||o,u=t.allowTransformNone,l=void 0===u||u,c="";a.sort(jt);var f,h=Ut(a);try{for(h.s();!(f=h.n()).done;){var d=f.value;c+="".concat(Vt[d]||d,"(").concat(i[d],") ")}}catch(p){h.e(p)}finally{h.f()}return s&&!i.z&&(c+="translateZ(0)"),c=c.trim(),r?c=r(i,n?"":c):l&&n&&(c="none"),c}(e,n,f,r):i.transform&&(i.transform="none")),c){var m=u.originX,y=void 0===m?"50%":m,g=u.originY,k=void 0===g?"50%":g,b=u.originZ,w=void 0===b?0:b;i.transformOrigin="".concat(y," ").concat(k," ").concat(w)}}var un=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function ln(e,t,n){for(var r in t)Mt(t[r])||Lt(r,n)||(e[r]=t[r])}function cn(e,n,r){var i={};return ln(i,e.style||{},e),Object.assign(i,function(e,n,r){var i=e.transformTemplate;return(0,t.useMemo)((function(){var e={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};return sn(e,n,{enableHardwareAcceleration:!r},i),Object.assign({},e.vars,e.style)}),[n])}(e,n,r)),e.transformValues?e.transformValues(i):i}function fn(e,t,n){var r={},i=cn(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),r.style=i,r}var hn=new Set(["initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll"].concat(["whileInView","onViewportEnter","onViewportLeave","viewport"],["whileTap","onTap","onTapStart","onTapCancel"],["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],["onPan","onPanStart","onPanSessionStart","onPanEnd"]));function dn(e){return hn.has(e)}var pn,vn=function(e){return!dn(e)};try{(pn=require("@emotion/is-prop-valid").default)&&(vn=function(e){return e.startsWith("on")?!dn(e):pn(e)})}catch(TS){}function mn(e,t,n){var r={};for(var i in e)(vn(i)||!0===n&&dn(i)||!t&&!dn(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function yn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gn(e,t,n){return"string"===typeof e?e:$t.transform(t+n*e)}var kn={offset:"stroke-dashoffset",array:"stroke-dasharray"},bn={offset:"strokeDashoffset",array:"strokeDasharray"};var wn=["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"];function xn(e,t,n,r){var i=t.attrX,a=t.attrY,o=t.originX,s=t.originY,u=t.pathLength,l=t.pathSpacing,c=void 0===l?1:l,f=t.pathOffset,h=void 0===f?0:f;sn(e,yn(t,wn),n,r),e.attrs=e.style,e.style={};var d=e.attrs,p=e.style,v=e.dimensions;d.transform&&(v&&(p.transform=d.transform),delete d.transform),v&&(void 0!==o||void 0!==s||p.transform)&&(p.transformOrigin=function(e,t,n){var r=gn(t,e.x,e.width),i=gn(n,e.y,e.height);return"".concat(r," ").concat(i)}(v,void 0!==o?o:.5,void 0!==s?s:.5)),void 0!==i&&(d.x=i),void 0!==a&&(d.y=a),void 0!==u&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;var a=i?kn:bn;e[a.offset]=$t.transform(-r);var o=$t.transform(t),s=$t.transform(n);e[a.array]="".concat(o," ").concat(s)}(d,u,c,h,!1)}var En=function(){return nt(nt({},{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}),{},{attrs:{}})};function _n(e,n){var r=(0,t.useMemo)((function(){var t=En();return xn(t,n,{enableHardwareAcceleration:!1},e.transformTemplate),nt(nt({},t.attrs),{},{style:nt({},t.style)})}),[n]);if(e.style){var i={};ln(i,e.style,e),r.style=nt(nt({},i),r.style)}return r}function Sn(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=function(n,r,i,a,o,s){var u=o.latestValues,l=(Rt(n)?_n:fn)(r,u,s),c=nt(nt(nt({},mn(r,"string"===typeof n,e)),l),{},{ref:a});return i&&(c["data-projection-id"]=i),(0,t.createElement)(n,c)};return n}var Tn=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()};function Cn(e,t,n,r){var i=t.style,a=t.vars;for(var o in Object.assign(e.style,i,r&&r.getProjectionStyles(n)),a)e.style.setProperty(o,a[o])}var In=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function An(e,t,n,r){for(var i in Cn(e,t,void 0,r),t.attrs)e.setAttribute(In.has(i)?i:Tn(i),t.attrs[i])}function Nn(e){var t=e.style,n={};for(var r in t)(Mt(t[r])||Lt(r,e))&&(n[r]=t[r]);return n}function Rn(e){var t=Nn(e);for(var n in e){if(Mt(e[n]))t["x"===n||"y"===n?"attr"+n.toUpperCase():n]=e[n]}return t}function Pn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}var On=function(e){return Array.isArray(e)},Dn=function(e){return On(e)?e[e.length-1]||0:e};function Ln(e){var t=Mt(e)?e.get():e;return function(e){return Boolean(e&&"object"===typeof e&&e.mix&&e.toValue)}(t)?t.toValue():t}var Mn=["transitionEnd","transition"];var Un=function(e){return function(n,r){var i=(0,t.useContext)(it),a=(0,t.useContext)(at),o=function(){return function(e,t,n,r){var i=e.scrapeMotionValuesFromProps,a=e.createRenderState,o=e.onMount,s={latestValues:Vn(t,n,r,i),renderState:a()};return o&&(s.mount=function(e){return o(t,e,s)}),s}(e,n,i,a)};return r?o():bt(o)}};function Vn(e,t,n,r){var i={},a=r(e);for(var o in a)i[o]=Ln(a[o]);var s=e.initial,u=e.animate,l=pt(e),c=vt(e);t&&c&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===u&&(u=t.animate));var f=!!n&&!1===n.initial,h=(f=f||!1===s)?u:s;h&&"boolean"!==typeof h&&!ht(h)&&(Array.isArray(h)?h:[h]).forEach((function(t){var n=Pn(e,t);if(n){var r=n.transitionEnd,a=(n.transition,yn(n,Mn));for(var o in a){var s=a[o];if(Array.isArray(s))s=s[f?s.length-1:0];null!==s&&(i[o]=s)}for(var u in r)i[u]=r[u]}}));return i}var jn,Fn={useVisualState:Un({scrapeMotionValuesFromProps:Rn,createRenderState:En,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(a){r.dimensions={x:0,y:0,width:0,height:0}}xn(r,i,{enableHardwareAcceleration:!1},e.transformTemplate),An(t,r)}})},zn={useVisualState:Un({scrapeMotionValuesFromProps:Nn,createRenderState:un})};function Bn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n)}}function Hn(e,n,r,i){(0,t.useEffect)((function(){var t=e.current;if(r&&t)return Bn(t,n,r,i)}),[e,n,r,i])}function qn(e){return"undefined"!==typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function Wn(e){return!!e.touches}function Gn(e){return function(t){var n=t instanceof MouseEvent;(!n||n&&0===t.button)&&e(t)}}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"}(jn||(jn={}));var Kn={pageX:0,pageY:0};function Qn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page",n=e.touches[0]||e.changedTouches[0],r=n||Kn;return{x:r[t+"X"],y:r[t+"Y"]}}function Xn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{x:e[t+"X"],y:e[t+"Y"]}}function Yn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:Wn(e)?Qn(e,t):Xn(e,t)}}var $n=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(t){return e(t,Yn(t))};return t?Gn(n):n},Jn={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},Zn={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function er(e){return ot&&null===window.onpointerdown?e:ot&&null===window.ontouchstart?Zn[e]:ot&&null===window.onmousedown?Jn[e]:e}function tr(e,t,n,r){return Bn(e,er(t),$n(n,"pointerdown"===t),r)}function nr(e,t,n,r){return Hn(e,er(t),n&&$n(n,"pointerdown"===t),r)}function rr(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var ir=rr("dragHorizontal"),ar=rr("dragVertical");function or(e){var t=!1;if("y"===e)t=ar();else if("x"===e)t=ir();else{var n=ir(),r=ar();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function sr(){var e=or(!0);return!e||(e(),!1)}function ur(e,t,n){return function(r,i){qn(r)&&!sr()&&(e.animationState&&e.animationState.setActive(jn.Hover,t),n&&n(r,i))}}var lr=function e(t,n){return!!n&&(t===n||e(t,n.parentElement))};function cr(e){return(0,t.useEffect)((function(){return function(){return e()}}),[])}var fr=function(e,t){return function(n){return t(e(n))}},hr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(fr)};var dr=new Set;function pr(e,t,n){e||dr.has(t)||(console.warn(t),n&&console.warn(n),dr.add(t))}var vr=["root"],mr=new WeakMap,yr=new WeakMap,gr=function(e){var t=mr.get(e.target);t&&t(e)},kr=function(e){e.forEach(gr)};function br(e,t,n){var r=function(e){var t=e.root,n=yn(e,vr),r=t||document;yr.has(r)||yr.set(r,{});var i=yr.get(r),a=JSON.stringify(n);return i[a]||(i[a]=new IntersectionObserver(kr,nt({root:t},n))),i[a]}(t);return mr.set(e,n),r.observe(e),function(){mr.delete(e),r.unobserve(e)}}var wr={some:0,all:1};function xr(e,n,r,i){var a=i.root,o=i.margin,s=i.amount,u=void 0===s?"some":s,l=i.once;(0,t.useEffect)((function(){if(e){var t={root:null===a||void 0===a?void 0:a.current,rootMargin:o,threshold:"number"===typeof u?u:wr[u]};return br(r.getInstance(),t,(function(e){var t=e.isIntersecting;if(n.isInView!==t&&(n.isInView=t,!l||t||!n.hasEnteredView)){t&&(n.hasEnteredView=!0),r.animationState&&r.animationState.setActive(jn.InView,t);var i=r.getProps(),a=t?i.onViewportEnter:i.onViewportLeave;a&&a(e)}}))}}),[e,a,o,u])}function Er(e,n,r,i){var a=i.fallback,o=void 0===a||a;(0,t.useEffect)((function(){e&&o&&requestAnimationFrame((function(){n.hasEnteredView=!0;var e=r.getProps().onViewportEnter;e&&e(null),r.animationState&&r.animationState.setActive(jn.InView,!0)}))}),[e])}var _r=function(e){return function(t){return e(t),null}},Sr={inView:_r((function(e){var n=e.visualElement,r=e.whileInView,i=e.onViewportEnter,a=e.onViewportLeave,o=e.viewport,s=void 0===o?{}:o,u=(0,t.useRef)({hasEnteredView:!1,isInView:!1}),l=Boolean(r||i||a);s.once&&u.current.hasEnteredView&&(l=!1),("undefined"===typeof IntersectionObserver?Er:xr)(l,u.current,n,s)})),tap:_r((function(e){var n=e.onTap,r=e.onTapStart,i=e.onTapCancel,a=e.whileTap,o=e.visualElement,s=n||r||i||a,u=(0,t.useRef)(!1),l=(0,t.useRef)(null),c={passive:!(r||n||i||v)};function f(){l.current&&l.current(),l.current=null}function h(){return f(),u.current=!1,o.animationState&&o.animationState.setActive(jn.Tap,!1),!sr()}function d(e,t){h()&&(lr(o.getInstance(),e.target)?n&&n(e,t):i&&i(e,t))}function p(e,t){h()&&i&&i(e,t)}function v(e,t){f(),u.current||(u.current=!0,l.current=hr(tr(window,"pointerup",d,c),tr(window,"pointercancel",p,c)),o.animationState&&o.animationState.setActive(jn.Tap,!0),r&&r(e,t))}nr(o,"pointerdown",s?v:void 0,c),cr(f)})),focus:_r((function(e){var t=e.whileFocus,n=e.visualElement,r=n.animationState;Hn(n,"focus",t?function(){r&&r.setActive(jn.Focus,!0)}:void 0),Hn(n,"blur",t?function(){r&&r.setActive(jn.Focus,!1)}:void 0)})),hover:_r((function(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,i=e.visualElement;nr(i,"pointerenter",t||r?ur(i,!0,t):void 0,{passive:!t}),nr(i,"pointerleave",n||r?ur(i,!1,n):void 0,{passive:!n})}))};function Tr(){var e=(0,t.useContext)(at);if(null===e)return[!0,null];var n=e.isPresent,r=e.onExitComplete,i=e.register,a=(0,t.useId)();(0,t.useEffect)((function(){return i(a)}),[]);return!n&&r?[!1,function(){return r&&r(a)}]:[!0]}function Cr(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Ir(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var Ar=function(e,t,n){return Math.min(Math.max(n,e),t)},Nr=.001;function Rr(e){var t,n,r=e.duration,i=void 0===r?800:r,a=e.bounce,o=void 0===a?.25:a,s=e.velocity,u=void 0===s?0:s,l=e.mass,c=void 0===l?1:l,f=1-o;f=Ar(.05,1,f),i=Ar(.01,10,i/1e3),f<1?(t=function(e){var t=e*f,n=t*i,r=t-u,a=Pr(e,f),o=Math.exp(-n);return Nr-r/a*o},n=function(e){var n=e*f*i,r=n*u+u,a=Math.pow(f,2)*Math.pow(e,2)*i,o=Math.exp(-n),s=Pr(Math.pow(e,2),f);return(-t(e)+Nr>0?-1:1)*((r-a)*o)/s}):(t=function(e){return Math.exp(-e*i)*((e-u)*i+1)-.001},n=function(e){return Math.exp(-e*i)*(i*i*(u-e))});var h=function(e,t,n){for(var r=n,i=1;i<12;i++)r-=e(r)/t(r);return r}(t,n,5/i);if(i*=1e3,isNaN(h))return{stiffness:100,damping:10,duration:i};var d=Math.pow(h,2)*c;return{stiffness:d,damping:2*f*Math.sqrt(c*d),duration:i}}function Pr(e,t){return e*Math.sqrt(1-t*t)}var Or=["duration","bounce"],Dr=["stiffness","damping","mass"];function Lr(e,t){return t.some((function(t){return void 0!==e[t]}))}function Mr(e){var t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?1:r,a=e.restSpeed,o=void 0===a?2:a,s=e.restDelta,u=Ir(e,["from","to","restSpeed","restDelta"]),l={done:!1,value:n},c=function(e){var t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Lr(e,Dr)&&Lr(e,Or)){var n=Rr(e);(t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(u),f=c.stiffness,h=c.damping,d=c.mass,p=c.velocity,v=c.duration,m=c.isResolvedFromDuration,y=Ur,g=Ur;function k(){var e=p?-p/1e3:0,t=i-n,r=h/(2*Math.sqrt(f*d)),a=Math.sqrt(f/d)/1e3;if(void 0===s&&(s=Math.min(Math.abs(i-n)/100,.4)),r<1){var o=Pr(a,r);y=function(n){var s=Math.exp(-r*a*n);return i-s*((e+r*a*t)/o*Math.sin(o*n)+t*Math.cos(o*n))},g=function(n){var i=Math.exp(-r*a*n);return r*a*i*(Math.sin(o*n)*(e+r*a*t)/o+t*Math.cos(o*n))-i*(Math.cos(o*n)*(e+r*a*t)-o*t*Math.sin(o*n))}}else if(1===r)y=function(n){return i-Math.exp(-a*n)*(t+(e+a*t)*n)};else{var u=a*Math.sqrt(r*r-1);y=function(n){var o=Math.exp(-r*a*n),s=Math.min(u*n,300);return i-o*((e+r*a*t)*Math.sinh(s)+u*t*Math.cosh(s))/u}}}return k(),{next:function(e){var t=y(e);if(m)l.done=e>=v;else{var n=1e3*g(e),r=Math.abs(n)<=o,a=Math.abs(i-t)<=s;l.done=r&&a}return l.value=l.done?i:t,l},flipTarget:function(){p=-p;var e=[i,n];n=e[0],i=e[1],k()}}}Mr.needsInterpolation=function(e,t){return"string"===typeof e||"string"===typeof t};var Ur=function(e){return 0},Vr=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},jr=function(e,t,n){return-n*e+n*t+e},Fr=function(e,t){return function(n){return Boolean(Kt(n)&&Gt.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t))}},zr=function(e,t,n){return function(r){var i;if(!Kt(r))return r;var a=s(r.match(qt),4),o=a[0],u=a[1],l=a[2],c=a[3];return et(i={},e,parseFloat(o)),et(i,t,parseFloat(u)),et(i,n,parseFloat(l)),et(i,"alpha",void 0!==c?parseFloat(c):1),i}},Br=Bt(0,255),Hr=Object.assign(Object.assign({},tn),{transform:function(e){return Math.round(Br(e))}}),qr={test:Fr("rgb","red"),parse:zr("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha,a=void 0===i?1:i;return"rgba("+Hr.transform(t)+", "+Hr.transform(n)+", "+Hr.transform(r)+", "+Ht(nn.transform(a))+")"}};var Wr={test:Fr("#"),parse:function(e){var t="",n="",r="",i="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),i=e.substr(4,1),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:qr.transform},Gr={test:Fr("hsl","hue"),parse:zr("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha,a=void 0===i?1:i;return"hsla("+Math.round(t)+", "+Yt.transform(Ht(n))+", "+Yt.transform(Ht(r))+", "+Ht(nn.transform(a))+")"}};function Kr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Qr(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha;t/=360,r/=100;var a=0,o=0,s=0;if(n/=100){var u=r<.5?r*(1+n):r+n-r*n,l=2*r-u;a=Kr(l,u,t+1/3),o=Kr(l,u,t),s=Kr(l,u,t-1/3)}else a=o=s=r;return{red:Math.round(255*a),green:Math.round(255*o),blue:Math.round(255*s),alpha:i}}var Xr=function(e,t,n){var r=e*e,i=t*t;return Math.sqrt(Math.max(0,n*(i-r)+r))},Yr=[Wr,qr,Gr],$r=function(e){return Yr.find((function(t){return t.test(e)}))},Jr=function(e){return"'".concat(e,"' is not an animatable color. Use the equivalent color code instead.")},Zr=function(e,t){var n=$r(e),r=$r(t);Jr(e),Jr(t);var i=n.parse(e),a=r.parse(t);n===Gr&&(i=Qr(i),n=qr),r===Gr&&(a=Qr(a),r=qr);var o=Object.assign({},i);return function(e){for(var t in o)"alpha"!==t&&(o[t]=Xr(i[t],a[t],e));return o.alpha=jr(i.alpha,a.alpha,e),n.transform(o)}},ei={test:function(e){return qr.test(e)||Wr.test(e)||Gr.test(e)},parse:function(e){return qr.test(e)?qr.parse(e):Gr.test(e)?Gr.parse(e):Wr.parse(e)},transform:function(e){return Kt(e)?e:e.hasOwnProperty("red")?qr.transform(e):Gr.transform(e)}},ti="${c}",ni="${n}";function ri(e){"number"===typeof e&&(e="".concat(e));var t=[],n=0,r=e.match(Wt);r&&(n=r.length,e=e.replace(Wt,ti),t.push.apply(t,u(r.map(ei.parse))));var i=e.match(qt);return i&&(e=e.replace(qt,ni),t.push.apply(t,u(i.map(tn.parse)))),{values:t,numColors:n,tokenised:e}}function ii(e){return ri(e).values}function ai(e){var t=ri(e),n=t.values,r=t.numColors,i=t.tokenised,a=n.length;return function(e){for(var t=i,n=0;n<a;n++)t=t.replace(n<r?ti:ni,n<r?ei.transform(e[n]):Ht(e[n]));return t}}var oi=function(e){return"number"===typeof e?0:e};var si={test:function(e){var t,n,r,i;return isNaN(e)&&Kt(e)&&(null!==(n=null===(t=e.match(qt))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(i=null===(r=e.match(Wt))||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0},parse:ii,createTransformer:ai,getAnimatableNone:function(e){var t=ii(e);return ai(e)(t.map(oi))}},ui=function(e){return"number"===typeof e};function li(e,t){return ui(e)?function(n){return jr(e,t,n)}:ei.test(e)?Zr(e,t):di(e,t)}var ci=function(e,t){var n=u(e),r=n.length,i=e.map((function(e,n){return li(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=i[t](e);return n}},fi=function(e,t){var n=Object.assign(Object.assign({},e),t),r={};for(var i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=li(e[i],t[i]));return function(e){for(var t in r)n[t]=r[t](e);return n}};function hi(e){for(var t=si.parse(e),n=t.length,r=0,i=0,a=0,o=0;o<n;o++)r||"number"===typeof t[o]?r++:void 0!==t[o].hue?a++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:a}}var di=function(e,t){var n=si.createTransformer(t),r=hi(e),i=hi(t);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?hr(ci(r.parsed,i.parsed),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),function(n){return"".concat(n>0?t:e)})},pi=function(e,t){return function(n){return jr(e,t,n)}};function vi(e,t,n){for(var r=[],i=n||function(e){return"number"===typeof e?pi:"string"===typeof e?ei.test(e)?Zr:di:Array.isArray(e)?ci:"object"===typeof e?fi:void 0}(e[0]),a=e.length-1,o=0;o<a;o++){var s=i(e[o],e[o+1]);if(t){var u=Array.isArray(t)?t[o]:t;s=hr(u,s)}r.push(s)}return r}function mi(e,t){var n=s(e,2),r=n[0],i=n[1],a=s(t,1)[0];return function(e){return a(Vr(r,i,e))}}function yi(e,t){var n=e.length,r=n-1;return function(i){var a=0,o=!1;if(i<=e[0]?o=!0:i>=e[r]&&(a=r-1,o=!0),!o){for(var s=1;s<n&&!(e[s]>i||s===r);s++);a=s-1}var u=Vr(e[a],e[a+1],i);return t[a](u)}}function gi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.clamp,i=void 0===r||r,a=n.ease,o=n.mixer,s=e.length;t.length,!a||!Array.isArray(a)||a.length,e[0]>e[s-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());var u=vi(t,a,o),l=2===s?mi(e,u):yi(e,u);return i?function(t){return l(Ar(e[0],e[s-1],t))}:l}var ki,bi=function(e){return function(t){return 1-e(1-t)}},wi=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},xi=function(e){return function(t){return t*t*((e+1)*t-e)}},Ei=function(e){return e},_i=(ki=2,function(e){return Math.pow(e,ki)}),Si=bi(_i),Ti=wi(_i),Ci=function(e){return 1-Math.sin(Math.acos(e))},Ii=bi(Ci),Ai=wi(Ii),Ni=xi(1.525),Ri=bi(Ni),Pi=wi(Ni),Oi=function(e){var t=xi(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}}(1.525),Di=function(e){if(1===e||0===e)return e;var t=e*e;return e<.36363636363636365?7.5625*t:e<.7272727272727273?9.075*t-9.9*e+3.4:e<.9?12.066481994459833*t-19.63545706371191*e+8.898060941828255:10.8*e*e-20.52*e+10.72},Li=bi(Di);function Mi(e,t){return e.map((function(){return t||Ti})).splice(0,e.length-1)}function Ui(e){var t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?1:r,a=e.ease,o=e.offset,s=e.duration,u=void 0===s?300:s,l={done:!1,value:n},c=Array.isArray(i)?i:[n,i],f=function(e,t){return e.map((function(e){return e*t}))}(o&&o.length===c.length?o:function(e){var t=e.length;return e.map((function(e,n){return 0!==n?n/(t-1):0}))}(c),u);function h(){return gi(f,c,{ease:Array.isArray(a)?a:Mi(c,a)})}var d=h();return{next:function(e){return l.value=d(e),l.done=e>=u,l},flipTarget:function(){c.reverse(),d=h()}}}var Vi={keyframes:Ui,spring:Mr,decay:function(e){var t=e.velocity,n=void 0===t?0:t,r=e.from,i=void 0===r?0:r,a=e.power,o=void 0===a?.8:a,s=e.timeConstant,u=void 0===s?350:s,l=e.restDelta,c=void 0===l?.5:l,f=e.modifyTarget,h={done:!1,value:i},d=o*n,p=i+d,v=void 0===f?p:f(p);return v!==p&&(d=v-i),{next:function(e){var t=-d*Math.exp(-e/u);return h.done=!(t>c||t<-c),h.value=h.done?v:v+t,h},flipTarget:function(){}}}};var ji=1/60*1e3,Fi="undefined"!==typeof performance?function(){return performance.now()}:function(){return Date.now()},zi="undefined"!==typeof window?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout((function(){return e(Fi())}),ji)};var Bi=!0,Hi=!1,qi=!1,Wi={delta:0,timestamp:0},Gi=["read","update","preRender","render","postRender"],Ki=Gi.reduce((function(e,t){return e[t]=function(e){var t=[],n=[],r=0,i=!1,a=!1,o=new WeakSet,s={schedule:function(e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=a?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),-1===s.indexOf(e)&&(s.push(e),a&&i&&(r=t.length)),e},cancel:function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1),o.delete(e)},process:function(u){if(i)a=!0;else{i=!0;var l=[n,t];if(t=l[0],(n=l[1]).length=0,r=t.length)for(var c=0;c<r;c++){var f=t[c];f(u),o.has(f)&&(s.schedule(f),e())}i=!1,a&&(a=!1,s.process(u))}}};return s}((function(){return Hi=!0})),e}),{}),Qi=Gi.reduce((function(e,t){var n=Ki[t];return e[t]=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Hi||Zi(),n.schedule(e,t,r)},e}),{}),Xi=Gi.reduce((function(e,t){return e[t]=Ki[t].cancel,e}),{}),Yi=Gi.reduce((function(e,t){return e[t]=function(){return Ki[t].process(Wi)},e}),{}),$i=function(e){return Ki[e].process(Wi)},Ji=function e(t){Hi=!1,Wi.delta=Bi?ji:Math.max(Math.min(t-Wi.timestamp,40),1),Wi.timestamp=t,qi=!0,Gi.forEach($i),qi=!1,Hi&&(Bi=!1,zi(e))},Zi=function(){Hi=!0,Bi=!0,qi||zi(Ji)},ea=function(){return Wi},ta=Qi;function na(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e-t-n}var ra=function(e){var t=function(t){var n=t.delta;return e(n)};return{start:function(){return ta.update(t,!0)},stop:function(){return Xi.update(t)}}};function ia(e){var t,n,r,i,a,o=e.from,s=e.autoplay,u=void 0===s||s,l=e.driver,c=void 0===l?ra:l,f=e.elapsed,h=void 0===f?0:f,d=e.repeat,p=void 0===d?0:d,v=e.repeatType,m=void 0===v?"loop":v,y=e.repeatDelay,g=void 0===y?0:y,k=e.onPlay,b=e.onStop,w=e.onComplete,x=e.onRepeat,E=e.onUpdate,_=Ir(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),S=_.to,T=0,C=_.duration,I=!1,A=!0,N=function(e){if(Array.isArray(e.to))return Ui;if(Vi[e.type])return Vi[e.type];var t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?Ui:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?Mr:Ui}(_);(null===(n=(t=N).needsInterpolation)||void 0===n?void 0:n.call(t,o,S))&&(a=gi([0,100],[o,S],{clamp:!1}),o=0,S=100);var R=N(Object.assign(Object.assign({},_),{from:o,to:S}));function P(){T++,"reverse"===m?h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?t-(e-t)+n:na(t+-e,t,n)}(h,C,g,A=T%2===0):(h=na(h,C,g),"mirror"===m&&R.flipTarget()),I=!1,x&&x()}function O(e){if(A||(e=-e),h+=e,!I){var t=R.next(Math.max(0,h));i=t.value,a&&(i=a(i)),I=A?t.done:h<=0}null===E||void 0===E||E(i),I&&(0===T&&(null!==C&&void 0!==C||(C=h)),T<p?function(e,t,n,r){return r?e>=t+n:e<=-n}(h,C,g,A)&&P():(r.stop(),w&&w()))}return u&&(null===k||void 0===k||k(),(r=c(O)).start()),{stop:function(){null===b||void 0===b||b(),r.stop()}}}function aa(e,t){return t?e*(1e3/t):0}var oa=function(e){return 1e3*e},sa=function(e,t){return 1-3*t+3*e},ua=function(e,t){return 3*t-6*e},la=function(e){return 3*e},ca=function(e,t,n){return((sa(t,n)*e+ua(t,n))*e+la(t))*e},fa=function(e,t,n){return 3*sa(t,n)*e*e+2*ua(t,n)*e+la(t)};var ha=.1;function da(e,t,n,r){if(e===t&&n===r)return Ei;for(var i=new Float32Array(11),a=0;a<11;++a)i[a]=ca(a*ha,e,n);function o(t){for(var r=0,a=1;10!==a&&i[a]<=t;++a)r+=ha;--a;var o=r+(t-i[a])/(i[a+1]-i[a])*ha,s=fa(o,e,n);return s>=.001?function(e,t,n,r){for(var i=0;i<8;++i){var a=fa(t,n,r);if(0===a)return t;t-=(ca(t,n,r)-e)/a}return t}(t,o,e,n):0===s?o:function(e,t,n,r,i){var a,o,s=0;do{(a=ca(o=t+(n-t)/2,r,i)-e)>0?n=o:t=o}while(Math.abs(a)>1e-7&&++s<10);return o}(t,r,r+ha,e,n)}return function(e){return 0===e||1===e?e:ca(o(e),t,r)}}var pa={linear:Ei,easeIn:_i,easeInOut:Ti,easeOut:Si,circIn:Ci,circInOut:Ai,circOut:Ii,backIn:Ni,backInOut:Pi,backOut:Ri,anticipate:Oi,bounceIn:Li,bounceInOut:function(e){return e<.5?.5*(1-Di(1-2*e)):.5*Di(2*e-1)+.5},bounceOut:Di},va=function(e){if(Array.isArray(e)){e.length;var t=s(e,4);return da(t[0],t[1],t[2],t[3])}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),pa[e]):e},ma=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!si.test(t)||t.startsWith("url(")))},ya=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},ga=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}},ka=function(){return{type:"keyframes",ease:"linear",duration:.3}},ba=function(e){return{type:"keyframes",duration:.8,values:e}},wa={x:ya,y:ya,z:ya,rotate:ya,rotateX:ya,rotateY:ya,rotateZ:ya,scaleX:ga,scaleY:ga,scale:ga,opacity:ka,backgroundColor:ka,color:ka,default:ga},xa=new Set(["brightness","contrast","saturate","opacity"]);function Ea(e){var t=s(e.slice(0,-1).split("("),2),n=t[0],r=t[1];if("drop-shadow"===n)return e;var i=s(r.match(qt)||[],1)[0];if(!i)return e;var a=r.replace(i,""),o=xa.has(n)?1:0;return i!==r&&(o*=100),n+"("+o+a+")"}var _a=/([a-z-]*)\(.*?\)/g,Sa=Object.assign(Object.assign({},si),{getAnimatableNone:function(e){var t=e.match(_a);return t?t.map(Ea).join(" "):e}}),Ta=nt(nt({},on),{},{color:ei,backgroundColor:ei,outlineColor:ei,fill:ei,stroke:ei,borderColor:ei,borderTopColor:ei,borderRightColor:ei,borderBottomColor:ei,borderLeftColor:ei,filter:Sa,WebkitFilter:Sa}),Ca=function(e){return Ta[e]};function Ia(e,t){var n,r=Ca(e);return r!==Sa&&(r=si),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,t)}var Aa=!1,Na=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"],Ra=["ease","times","yoyo","flip","loop"];function Pa(e){var t=e.ease,n=e.times,r=e.yoyo,i=e.flip,a=e.loop,o=yn(e,Ra),s=nt({},o);return n&&(s.offset=n),o.duration&&(s.duration=oa(o.duration)),o.repeatDelay&&(s.repeatDelay=oa(o.repeatDelay)),t&&(s.ease=function(e){return Array.isArray(e)&&"number"!==typeof e[0]}(t)?t.map(va):va(t)),"tween"===o.type&&(s.type="keyframes"),(r||a||i)&&(!0,r?s.repeatType="reverse":a?s.repeatType="loop":i&&(s.repeatType="mirror"),s.repeat=a||r||i||o.repeat),"spring"!==o.type&&(s.type="keyframes"),s}function Oa(e,t){var n,r;return null!==(r=null!==(n=(Va(e,t)||{}).delay)&&void 0!==n?n:e.delay)&&void 0!==r?r:0}function Da(e,t,n){return Array.isArray(t.to)&&void 0===e.duration&&(e.duration=.8),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=u(e.to),e.to[0]=e.from)}(t),function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=yn(e,Na);return!!Object.keys(t).length}(e)||(e=nt(nt({},e),function(e,t){return nt({to:t},(On(t)?ba:wa[e]||wa.default)(t))}(n,t.to))),nt(nt({},t),Pa(e))}function La(e,t,n,r,i){var a=Va(r,e)||{},o=void 0!==a.from?a.from:t.get(),s=ma(e,n);"none"===o&&s&&"string"===typeof n?o=Ia(e,n):Ma(o)&&"string"===typeof n?o=Ua(n):!Array.isArray(n)&&Ma(n)&&"string"===typeof o&&(n=Ua(o));var u=ma(e,o);return"You are trying to animate ".concat(e,' from "').concat(o,'" to "').concat(n,'". ').concat(o," is not an animatable value - to enable this animation set ").concat(o," to a value animatable to ").concat(n," via the `style` property."),u&&s&&!1!==a.type?function(){var r={from:o,to:n,velocity:t.getVelocity(),onComplete:i,onUpdate:function(e){return t.set(e)}};return"inertia"===a.type||"decay"===a.type?function(e){var t,n=e.from,r=void 0===n?0:n,i=e.velocity,a=void 0===i?0:i,o=e.min,s=e.max,u=e.power,l=void 0===u?.8:u,c=e.timeConstant,f=void 0===c?750:c,h=e.bounceStiffness,d=void 0===h?500:h,p=e.bounceDamping,v=void 0===p?10:p,m=e.restDelta,y=void 0===m?1:m,g=e.modifyTarget,k=e.driver,b=e.onUpdate,w=e.onComplete,x=e.onStop;function E(e){return void 0!==o&&e<o||void 0!==s&&e>s}function _(e){return void 0===o?s:void 0===s||Math.abs(o-e)<Math.abs(s-e)?o:s}function S(e){null===t||void 0===t||t.stop(),t=ia(Object.assign(Object.assign({},e),{driver:k,onUpdate:function(t){var n;null===b||void 0===b||b(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:w,onStop:x}))}function T(e){S(Object.assign({type:"spring",stiffness:d,damping:v,restDelta:y},e))}if(E(r))T({from:r,velocity:a,to:_(r)});else{var C=l*a+r;"undefined"!==typeof g&&(C=g(C));var I,A,N=_(C),R=N===o?-1:1;S({type:"decay",from:r,velocity:a,timeConstant:f,power:l,restDelta:y,modifyTarget:g,onUpdate:E(C)?function(e){I=A,A=e,a=aa(e-I,ea().delta),(1===R&&e>N||-1===R&&e<N)&&T({from:e,to:N,velocity:a})}:void 0})}return{stop:function(){return null===t||void 0===t?void 0:t.stop()}}}(nt(nt({},r),a)):ia(nt(nt({},Da(a,r,e)),{},{onUpdate:function(e){r.onUpdate(e),a.onUpdate&&a.onUpdate(e)},onComplete:function(){r.onComplete(),a.onComplete&&a.onComplete()}}))}:function(){var e=Dn(n);return t.set(e),i(),a.onUpdate&&a.onUpdate(e),a.onComplete&&a.onComplete(),{stop:function(){}}}}function Ma(e){return 0===e||"string"===typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function Ua(e){return"number"===typeof e?0:Ia("",e)}function Va(e,t){return e[t]||e.default||e}function ja(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Aa&&(r={type:!1}),t.start((function(i){var a,o,s=La(e,t,n,r,i),u=Oa(r,e),l=function(){return o=s()};return u?a=window.setTimeout(l,oa(u)):l(),function(){clearTimeout(a),o&&o.stop()}}))}var Fa=function(e){return/^\-?\d*\.?\d+$/.test(e)},za=function(e){return/^0[^.\s]+$/.test(e)};function Ba(e,t){-1===e.indexOf(t)&&e.push(t)}function Ha(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var qa=function(){function e(){l(this,e),this.subscriptions=[]}return f(e,[{key:"add",value:function(e){var t=this;return Ba(this.subscriptions,e),function(){return Ha(t.subscriptions,e)}}},{key:"notify",value:function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var a=this.subscriptions[i];a&&a(e,t,n)}}},{key:"getSize",value:function(){return this.subscriptions.length}},{key:"clear",value:function(){this.subscriptions.length=0}}]),e}(),Wa=function(){function e(t){var n,r=this;l(this,e),this.version="7.5.2",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new qa,this.velocityUpdateSubscribers=new qa,this.renderSubscribers=new qa,this.canTrackVelocity=!1,this.updateAndNotify=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r.prev=r.current,r.current=e;var n=ea(),i=n.delta,a=n.timestamp;r.lastUpdated!==a&&(r.timeDelta=i,r.lastUpdated=a,ta.postRender(r.scheduleVelocityCheck)),r.prev!==r.current&&r.updateSubscribers.notify(r.current),r.velocityUpdateSubscribers.getSize()&&r.velocityUpdateSubscribers.notify(r.getVelocity()),t&&r.renderSubscribers.notify(r.current)},this.scheduleVelocityCheck=function(){return ta.postRender(r.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==r.lastUpdated&&(r.prev=r.current,r.velocityUpdateSubscribers.notify(r.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=(n=this.current,!isNaN(parseFloat(n)))}return f(e,[{key:"onChange",value:function(e){return this.updateSubscribers.add(e)}},{key:"clearListeners",value:function(){this.updateSubscribers.clear()}},{key:"onRenderRequest",value:function(e){return e(this.get()),this.renderSubscribers.add(e)}},{key:"attach",value:function(e){this.passiveEffect=e}},{key:"set",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}},{key:"get",value:function(){return this.current}},{key:"getPrevious",value:function(){return this.prev}},{key:"getVelocity",value:function(){return this.canTrackVelocity?aa(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}},{key:"start",value:function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.stopAnimation=e(n)})).then((function(){return t.clearAnimation()}))}},{key:"stop",value:function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}},{key:"isAnimating",value:function(){return!!this.stopAnimation}},{key:"clearAnimation",value:function(){this.stopAnimation=null}},{key:"destroy",value:function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()}}]),e}();function Ga(e){return new Wa(e)}var Ka=function(e){return function(t){return t.test(e)}},Qa=[tn,$t,Yt,Xt,Zt,Jt,{test:function(e){return"auto"===e},parse:function(e){return e}}],Xa=function(e){return Qa.find(Ka(e))},Ya=[].concat(u(Qa),[ei,si]),$a=function(e){return Ya.find(Ka(e))};function Ja(e,t,n){var r=e.getProps();return Pn(r,t,void 0!==n?n:r.custom,function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.getVelocity()})),t}(e))}var Za=["transitionEnd","transition"];function eo(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ga(n))}function to(e,t){var n=Ja(e,t),r=n?e.makeTargetAnimatable(n,!1):{},i=r.transitionEnd,a=void 0===i?{}:i,o=(r.transition,yn(r,Za));for(var s in o=nt(nt({},o),a)){eo(e,s,Dn(o[s]))}}function no(e,t,n){var r,i,a=Object.keys(t).filter((function(t){return!e.hasValue(t)})),o=a.length;if(o)for(var s=0;s<o;s++){var u=a[s],l=t[u],c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(i=null!==(r=n[u])&&void 0!==r?r:e.readValue(u))&&void 0!==i?i:t[u]),void 0!==c&&null!==c&&("string"===typeof c&&(Fa(c)||za(c))?c=parseFloat(c):!$a(c)&&si.test(l)&&(c=Ia(u,l)),e.addValue(u,Ga(c)),void 0===n[u]&&(n[u]=c),e.setBaseTarget(u,c))}}function ro(e,t){if(t)return(t[e]||t.default||t).from}function io(e,t,n){var r,i={};for(var a in e){var o=ro(a,t);i[a]=void 0!==o?o:null===(r=n.getValue(a))||void 0===r?void 0:r.get()}return i}function ao(e){return Boolean(Mt(e)&&e.add)}var oo=["transition","transitionEnd"];function so(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Ja(e,t,r.custom),a=i||{},o=a.transition,u=void 0===o?e.getDefaultTransition()||{}:o;r.transitionOverride&&(u=r.transitionOverride);var l=i?function(){return uo(e,i,r)}:function(){return Promise.resolve()},c=(null===(n=e.variantChildren)||void 0===n?void 0:n.size)?function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=u,a=i.delayChildren,o=void 0===a?0:a,s=i.staggerChildren,l=i.staggerDirection;return lo(e,t,o+n,s,l,r)}:function(){return Promise.resolve()},f=u,h=f.when;if(h){var d="beforeChildren"===h?[l,c]:[c,l],p=s(d,2),v=p[0],m=p[1];return v().then(m)}return Promise.all([l(),c(r.delay)])}function uo(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.delay,a=void 0===i?0:i,o=r.transitionOverride,s=r.type,u=e.makeTargetAnimatable(t),l=u.transition,c=void 0===l?e.getDefaultTransition():l,f=u.transitionEnd,h=yn(u,oo),d=e.getValue("willChange");o&&(c=o);var p=[],v=s&&(null===(n=e.animationState)||void 0===n?void 0:n.getState()[s]),m=function(t){var n=e.getValue(t),r=h[t];if(!n||void 0===r||v&&fo(v,t))return"continue";var i=nt({delay:a},c);e.shouldReduceMotion&&Dt.has(t)&&(i=nt(nt({},i),{},{type:!1,delay:0}));var o=ja(t,n,r,i);ao(d)&&(d.add(t),o=o.then((function(){return d.remove(t)}))),p.push(o)};for(var y in h)m(y);return Promise.all(p).then((function(){f&&to(e,f)}))}function lo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5?arguments[5]:void 0,o=[],s=(e.variantChildren.size-1)*r,u=1===i?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e*r}:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return s-e*r};return Array.from(e.variantChildren).sort(co).forEach((function(e,r){o.push(so(e,t,nt(nt({},a),{},{delay:n+u(r)})).then((function(){return e.notifyAnimationComplete(t)})))})),Promise.all(o)}function co(e,t){return e.sortNodePosition(t)}function fo(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}var ho=["transition","transitionEnd"],po=[jn.Animate,jn.InView,jn.Focus,jn.Hover,jn.Tap,jn.Drag,jn.Exit],vo=[].concat(po).reverse(),mo=po.length;function yo(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notifyAnimationStart(t),Array.isArray(t)){var i=t.map((function(t){return so(e,t,r)}));n=Promise.all(i)}else if("string"===typeof t)n=so(e,t,r);else{var a="function"===typeof t?Ja(e,t,r.custom):t;n=uo(e,a,r)}return n.then((function(){return e.notifyAnimationComplete(t)}))}(e,n,r)})))}}function go(e){var t=yo(e),n=function(){var e;return et(e={},jn.Animate,ko(!0)),et(e,jn.InView,ko()),et(e,jn.Hover,ko()),et(e,jn.Tap,ko()),et(e,jn.Drag,ko()),et(e,jn.Focus,ko()),et(e,jn.Exit,ko()),e}(),r=!0,i=function(t,n){var r=Ja(e,n);if(r){r.transition;var i=r.transitionEnd,a=yn(r,ho);t=nt(nt(nt({},t),a),i)}return t};function a(a,o){for(var s,l=e.getProps(),c=e.getVariantContext(!0)||{},f=[],h=new Set,d={},p=1/0,v=function(t){var v=vo[t],m=n[v],y=null!==(s=l[v])&&void 0!==s?s:c[v],g=ft(y),k=v===o?m.isActive:null;!1===k&&(p=t);var b=y===c[v]&&y!==l[v]&&g;if(b&&r&&e.manuallyAnimateOnMount&&(b=!1),m.protectedKeys=nt({},d),!m.isActive&&null===k||!y&&!m.prevProp||ht(y)||"boolean"===typeof y)return"continue";var w=function(e,t){if("string"===typeof t)return t!==e;if(Array.isArray(t))return!Cr(t,e);return!1}(m.prevProp,y),x=w||v===o&&m.isActive&&!b&&g||t>p&&g,E=Array.isArray(y)?y:[y],_=E.reduce(i,{});!1===k&&(_={});var S=m.prevResolvedValues,T=void 0===S?{}:S,C=nt(nt({},T),_),I=function(e){x=!0,h.delete(e),m.needsAnimating[e]=!0};for(var A in C){var N=_[A],R=T[A];d.hasOwnProperty(A)||(N!==R?On(N)&&On(R)?!Cr(N,R)||w?I(A):m.protectedKeys[A]=!0:void 0!==N?I(A):h.add(A):void 0!==N&&h.has(A)?I(A):m.protectedKeys[A]=!0)}m.prevProp=y,m.prevResolvedValues=_,m.isActive&&(d=nt(nt({},d),_)),r&&e.blockInitialAnimation&&(x=!1),x&&!b&&f.push.apply(f,u(E.map((function(e){return{animation:e,options:nt({type:v},a)}}))))},m=0;m<mo;m++)v(m);if(h.size){var y={};h.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(y[t]=n)})),f.push({animation:y})}var g=Boolean(f.length);return r&&!1===l.initial&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(f):Promise.resolve()}return{animateChanges:a,setActive:function(t,r,i){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;var s=a(i,t);for(var u in n)n[u].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:function(){return n}}}function ko(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var bo={animation:_r((function(e){var n=e.visualElement,r=e.animate;n.animationState||(n.animationState=go(n)),ht(r)&&(0,t.useEffect)((function(){return r.subscribe(n)}),[r])})),exit:_r((function(e){var n=e.custom,r=e.visualElement,i=s(Tr(),2),a=i[0],o=i[1],u=(0,t.useContext)(at);(0,t.useEffect)((function(){r.isPresent=a;var e=r.animationState&&r.animationState.setActive(jn.Exit,!a,{custom:u&&u.custom||n});e&&!a&&e.then(o)}),[a])}))},wo=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},xo=function(e){return wo(e)&&e.hasOwnProperty("z")},Eo=function(e,t){return Math.abs(e-t)};function _o(e,t){if(ui(e)&&ui(t))return Eo(e,t);if(wo(e)&&wo(t)){var n=Eo(e.x,t.x),r=Eo(e.y,t.y),i=xo(e)&&xo(t)?Eo(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}}var So=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.transformPagePoint;if(l(this,e),this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=Io(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=_o(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,a=ea().timestamp;r.history.push(nt(nt({},i),{},{timestamp:a}));var o=r.handlers,s=o.onStart,u=o.onMove;t||(s&&s(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),u&&u(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=To(t,r.transformPagePoint),qn(e)&&0===e.buttons?r.handlePointerUp(e,t):ta.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){r.end();var n=r.handlers,i=n.onEnd,a=n.onSessionEnd,o=Io(To(t,r.transformPagePoint),r.history);r.startEvent&&i&&i(e,o),a&&a(e,o)},!(Wn(t)&&t.touches.length>1)){this.handlers=n,this.transformPagePoint=a;var o=Yn(t),s=To(o,this.transformPagePoint),u=s.point,c=ea(),f=c.timestamp;this.history=[nt(nt({},u),{},{timestamp:f})];var h=n.onSessionStart;h&&h(t,Io(s,this.history)),this.removeListeners=hr(tr(window,"pointermove",this.handlePointerMove),tr(window,"pointerup",this.handlePointerUp),tr(window,"pointercancel",this.handlePointerUp))}}return f(e,[{key:"updateHandlers",value:function(e){this.handlers=e}},{key:"end",value:function(){this.removeListeners&&this.removeListeners(),Xi.update(this.updatePoint)}}]),e}();function To(e,t){return t?{point:t(e.point)}:e}function Co(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Io(e,t){var n=e.point;return{point:n,delta:Co(n,No(t)),offset:Co(n,Ao(t)),velocity:Ro(t,.1)}}function Ao(e){return e[0]}function No(e){return e[e.length-1]}function Ro(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=No(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>oa(t)));)n--;if(!r)return{x:0,y:0};var a=(i.timestamp-r.timestamp)/1e3;if(0===a)return{x:0,y:0};var o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Po(e){return e.max-e.min}function Oo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return _o(e,t)<n}function Do(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=jr(t.min,t.max,e.origin),e.scale=Po(n)/Po(t),(Oo(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=jr(n.min,n.max,e.origin)-e.originPoint,(Oo(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Lo(e,t,n,r){Do(e.x,t.x,n.x,null===r||void 0===r?void 0:r.originX),Do(e.y,t.y,n.y,null===r||void 0===r?void 0:r.originY)}function Mo(e,t,n){e.min=n.min+t.min,e.max=e.min+Po(t)}function Uo(e,t,n){e.min=t.min-n.min,e.max=e.min+Po(t)}function Vo(e,t,n){Uo(e.x,t.x,n.x),Uo(e.y,t.y,n.y)}function jo(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Fo(e,t){var n=t.min-e.min,r=t.max-e.max;if(t.max-t.min<e.max-e.min){var i=[r,n];n=i[0],r=i[1]}return{min:n,max:r}}var zo=.35;function Bo(e,t,n){return{min:Ho(e,t),max:Ho(e,n)}}function Ho(e,t){var n;return"number"===typeof e?e:null!==(n=e[t])&&void 0!==n?n:0}function qo(e){return[e("x"),e("y")]}function Wo(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function Go(e){return void 0===e||1===e}function Ko(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!Go(t)||!Go(n)||!Go(r)}function Qo(e){return Ko(e)||Xo(e.x)||Xo(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function Xo(e){return e&&"0%"!==e}function Yo(e,t,n){return n+t*(e-n)}function $o(e,t,n,r,i){return void 0!==i&&(e=Yo(e,i,r)),Yo(e,n,r)+t}function Jo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=$o(e.min,t,n,r,i),e.max=$o(e.max,t,n,r,i)}function Zo(e,t){var n=t.x,r=t.y;Jo(e.x,n.translate,n.scale,n.originPoint),Jo(e.y,r.translate,r.scale,r.originPoint)}function es(e,t){e.min=e.min+t,e.max=e.max+t}function ts(e,t,n){var r=s(n,3),i=r[0],a=r[1],o=r[2],u=void 0!==t[o]?t[o]:.5,l=jr(e.min,e.max,u);Jo(e,t[i],t[a],l,t.scale)}var ns=["x","scaleX","originX"],rs=["y","scaleY","originY"];function is(e,t){ts(e.x,t,ns),ts(e.y,t,rs)}function as(e,t){return Wo(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var os=new WeakMap,ss=function(){function e(t){l(this,e),this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=t}return f(e,[{key:"start",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.snapToCursor,i=void 0!==r&&r;if(!1!==this.visualElement.isPresent){var a=function(e){t.stopAnimation(),i&&t.snapToCursor(Yn(e,"page").point)},o=function(e,n){var r,i=t.getProps(),a=i.drag,o=i.dragPropagation,s=i.onDragStart;(!a||o||(t.openGlobalLock&&t.openGlobalLock(),t.openGlobalLock=or(a),t.openGlobalLock))&&(t.isDragging=!0,t.currentDirection=null,t.resolveConstraints(),t.visualElement.projection&&(t.visualElement.projection.isAnimationBlocked=!0,t.visualElement.projection.target=void 0),qo((function(e){var n,r,i=t.getAxisMotionValue(e).get()||0;if(Yt.test(i)){var a=null===(r=null===(n=t.visualElement.projection)||void 0===n?void 0:n.layout)||void 0===r?void 0:r.actual[e];if(a)i=Po(a)*(parseFloat(i)/100)}t.originPoint[e]=i})),null===s||void 0===s||s(e,n),null===(r=t.visualElement.animationState)||void 0===r||r.setActive(jn.Drag,!0))},s=function(e,n){var r=t.getProps(),i=r.dragPropagation,a=r.dragDirectionLock,o=r.onDirectionLock,s=r.onDrag;if(i||t.openGlobalLock){var u=n.offset;if(a&&null===t.currentDirection)return t.currentDirection=ls(u),void(null!==t.currentDirection&&(null===o||void 0===o||o(t.currentDirection)));t.updateAxis("x",n.point,u),t.updateAxis("y",n.point,u),t.visualElement.syncRender(),null===s||void 0===s||s(e,n)}},u=function(e,n){return t.stop(e,n)};this.panSession=new So(e,{onSessionStart:a,onStart:o,onMove:s,onSessionEnd:u},{transformPagePoint:this.visualElement.getTransformPagePoint()})}}},{key:"stop",value:function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var i=this.getProps().onDragEnd;null===i||void 0===i||i(e,t)}}},{key:"cancel",value:function(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(e=this.panSession)||void 0===e||e.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(jn.Drag,!1)}},{key:"updateAxis",value:function(e,t,n){var r=this.getProps().drag;if(n&&us(e,r,this.currentDirection)){var i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){var r=t.min,i=t.max;return void 0!==r&&e<r?e=n?jr(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?jr(i,e,n.max):Math.min(e,i)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}}},{key:"resolveConstraints",value:function(){var e=this,t=this.getProps(),n=t.dragConstraints,r=t.dragElastic,i=(this.visualElement.projection||{}).layout,a=this.constraints;n&&ct(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!i)&&function(e,t){var n=t.top,r=t.left,i=t.bottom,a=t.right;return{x:jo(e.x,r,a),y:jo(e.y,n,i)}}(i.actual,n),this.elastic=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zo;return!1===e?e=0:!0===e&&(e=zo),{x:Bo(e,"left","right"),y:Bo(e,"top","bottom")}}(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&qo((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.actual[t],e.constraints[t]))}))}},{key:"resolveRefConstraints",value:function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!ct(t))return!1;var r=t.current,i=this.visualElement.projection;if(!i||!i.layout)return!1;var a=function(e,t,n){var r=as(e,n),i=t.scroll;return i&&(es(r.x,i.x),es(r.y,i.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),o=function(e,t){return{x:Fo(e.x,t.x),y:Fo(e.y,t.y)}}(i.layout.actual,a);if(n){var s=n(function(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!s,s&&(o=Wo(s))}return o}},{key:"startAnimation",value:function(e){var t=this,n=this.getProps(),r=n.drag,i=n.dragMomentum,a=n.dragElastic,o=n.dragTransition,s=n.dragSnapToOrigin,u=n.onDragTransitionEnd,l=this.constraints||{},c=qo((function(n){var u;if(us(n,r,t.currentDirection)){var c=null!==(u=null===l||void 0===l?void 0:l[n])&&void 0!==u?u:{};s&&(c={min:0,max:0});var f=a?200:1e6,h=a?40:1e7,d=nt(nt({type:"inertia",velocity:i?e[n]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},o),c);return t.startAxisValueAnimation(n,d)}}));return Promise.all(c).then(u)}},{key:"startAxisValueAnimation",value:function(e,t){return ja(e,this.getAxisMotionValue(e),0,t)}},{key:"stopAnimation",value:function(){var e=this;qo((function(t){return e.getAxisMotionValue(t).stop()}))}},{key:"getAxisMotionValue",value:function(e){var t,n,r="_drag"+e.toUpperCase(),i=this.visualElement.getProps()[r];return i||this.visualElement.getValue(e,null!==(n=null===(t=this.visualElement.getProps().initial)||void 0===t?void 0:t[e])&&void 0!==n?n:0)}},{key:"snapToCursor",value:function(e){var t=this;qo((function(n){if(us(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,i=t.getAxisMotionValue(n);if(r&&r.layout){var a=r.layout.actual[n],o=a.min,s=a.max;i.set(e[n]-jr(o,s,.5))}}}))}},{key:"scalePositionWithinConstraints",value:function(){var e,t=this,n=this.getProps(),r=n.drag,i=n.dragConstraints,a=this.visualElement.projection;if(ct(i)&&a&&this.constraints){this.stopAnimation();var o={x:0,y:0};qo((function(e){var n=t.getAxisMotionValue(e);if(n){var r=n.get();o[e]=function(e,t){var n=.5,r=Po(e),i=Po(t);return i>r?n=Vr(t.min,t.max-r,e.min):r>i&&(n=Vr(e.min,e.max-i,t.min)),Ar(0,1,n)}({min:r,max:r},t.constraints[e])}}));var s=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=s?s({},""):"none",null===(e=a.root)||void 0===e||e.updateScroll(),a.updateLayout(),this.resolveConstraints(),qo((function(e){if(us(e,r,null)){var n=t.getAxisMotionValue(e),i=t.constraints[e],a=i.min,s=i.max;n.set(jr(a,s,o[e]))}}))}}},{key:"addListeners",value:function(){var e,t=this;os.set(this.visualElement,this);var n=tr(this.visualElement.getInstance(),"pointerdown",(function(e){var n=t.getProps(),r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&t.start(e)})),r=function(){ct(t.getProps().dragConstraints)&&(t.constraints=t.resolveRefConstraints())},i=this.visualElement.projection,a=i.addEventListener("measure",r);i&&!i.layout&&(null===(e=i.root)||void 0===e||e.updateScroll(),i.updateLayout()),r();var o=Bn(window,"resize",(function(){return t.scalePositionWithinConstraints()})),s=i.addEventListener("didUpdate",(function(e){var n=e.delta,r=e.hasLayoutChanged;t.isDragging&&r&&(qo((function(e){var r=t.getAxisMotionValue(e);r&&(t.originPoint[e]+=n[e].translate,r.set(r.get()+n[e].translate))})),t.visualElement.syncRender())}));return function(){o(),n(),a(),null===s||void 0===s||s()}}},{key:"getProps",value:function(){var e=this.visualElement.getProps(),t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,i=void 0!==r&&r,a=e.dragPropagation,o=void 0!==a&&a,s=e.dragConstraints,u=void 0!==s&&s,l=e.dragElastic,c=void 0===l?zo:l,f=e.dragMomentum,h=void 0===f||f;return nt(nt({},e),{},{drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:h})}}]),e}();function us(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}function ls(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}var cs={pan:_r((function(e){var n=e.onPan,r=e.onPanStart,i=e.onPanEnd,a=e.onPanSessionStart,o=e.visualElement,s=n||r||i||a,u=(0,t.useRef)(null),l=(0,t.useContext)(rt).transformPagePoint,c={onSessionStart:a,onStart:r,onMove:n,onEnd:function(e,t){u.current=null,i&&i(e,t)}};(0,t.useEffect)((function(){null!==u.current&&u.current.updateHandlers(c)})),nr(o,"pointerdown",s&&function(e){u.current=new So(e,c,{transformPagePoint:l})}),cr((function(){return u.current&&u.current.end()}))})),drag:_r((function(e){var n=e.dragControls,r=e.visualElement,i=bt((function(){return new ss(r)}));(0,t.useEffect)((function(){return n&&n.subscribe(i)}),[i,n]),(0,t.useEffect)((function(){return i.addListeners()}),[i])}))},fs={current:null},hs={current:!1};function ds(){if(hs.current=!0,ot)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return fs.current=e.matches};e.addListener(t),t()}else fs.current=!1}var ps=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];function vs(){var e=ps.map((function(){return new qa})),t={},n={clearAllListeners:function(){return e.forEach((function(e){return e.clear()}))},updatePropListeners:function(e){ps.forEach((function(r){var i,a="on"+r,o=e[a];null===(i=t[r])||void 0===i||i.call(t),o&&(t[r]=n[a](o))}))}};return e.forEach((function(e,t){n["on"+ps[t]]=function(t){return e.add(t)},n["notify"+ps[t]]=function(){return e.notify.apply(e,arguments)}})),n}function ms(e,t,n){var r=t.willChange;for(var i in t){var a=t[i],o=n[i];if(Mt(a))e.addValue(i,a),ao(r)&&r.add(i);else if(Mt(o))e.addValue(i,Ga(a)),ao(r)&&r.remove(i);else if(o!==a)if(e.hasValue(i)){var s=e.getValue(i);!s.hasAnimated&&s.set(a)}else{var u=e.getStaticValue(i);e.addValue(i,Ga(void 0!==u?u:a))}}for(var l in n)void 0===t[l]&&e.removeValue(l);return t}var ys=["willChange"],gs=Object.keys(kt),ks=gs.length,bs=function(e){var n=e.treeType,r=void 0===n?"":n,i=e.build,a=e.getBaseTarget,o=e.makeTargetAnimatable,s=e.measureViewportBox,u=e.render,l=e.readValueFromInstance,c=e.removeValueFromRenderState,f=e.sortNodePosition,h=e.scrapeMotionValuesFromProps;return function(e){var n,d,p=e.parent,v=e.props,m=e.presenceId,y=e.blockInitialAnimation,g=e.visualState,k=e.reducedMotionConfig,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},w=!1,x=g.latestValues,E=g.renderState,_=vs(),S=new Map,T=new Map,C={},I=nt({},x);function A(){n&&w&&(N(),u(n,E,v.style,B.projection))}function N(){i(B,E,x,b,v)}function R(){_.notifyUpdate(x)}function P(e,t){var n=t.onChange((function(t){x[e]=t,v.onUpdate&&ta.update(R,!1,!0)})),r=t.onRenderRequest(B.scheduleRender);T.set(e,(function(){n(),r()}))}var O=h(v),D=O.willChange,L=yn(O,ys);for(var M in L){var U=L[M];void 0!==x[M]&&Mt(U)&&(U.set(x[M],!1),ao(D)&&D.add(M))}if(v.values)for(var V in v.values){var j=v.values[V];void 0!==x[V]&&Mt(j)&&j.set(x[V])}var F=pt(v),z=vt(v),B=nt(nt({treeType:r,current:null,depth:p?p.depth+1:0,parent:p,children:new Set,presenceId:m,shouldReduceMotion:null,variantChildren:z?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null===p||void 0===p?void 0:p.isMounted()),blockInitialAnimation:y,isMounted:function(){return Boolean(n)},mount:function(e){w=!0,n=B.current=e,B.projection&&B.projection.mount(e),z&&p&&!F&&(d=null===p||void 0===p?void 0:p.addVariantChild(B)),S.forEach((function(e,t){return P(t,e)})),hs.current||ds(),B.shouldReduceMotion="never"!==k&&("always"===k||fs.current),null===p||void 0===p||p.children.add(B),B.setProps(v)},unmount:function(){var e;null===(e=B.projection)||void 0===e||e.unmount(),Xi.update(R),Xi.render(A),T.forEach((function(e){return e()})),null===d||void 0===d||d(),null===p||void 0===p||p.children.delete(B),_.clearAllListeners(),n=void 0,w=!1},loadFeatures:function(e,n,r,i,a,o){var s=[];for(var u=0;u<ks;u++){var l=gs[u],c=kt[l],f=c.isEnabled,h=c.Component;f(e)&&h&&s.push((0,t.createElement)(h,nt(nt({key:l},e),{},{visualElement:B})))}if(!B.projection&&a){B.projection=new a(i,B.getLatestValues(),p&&p.projection);var d=e.layoutId,v=e.layout,m=e.drag,y=e.dragConstraints,g=e.layoutScroll;B.projection.setOptions({layoutId:d,layout:v,alwaysMeasureLayout:Boolean(m)||y&&ct(y),visualElement:B,scheduleRender:function(){return B.scheduleRender()},animationType:"string"===typeof v?v:"both",initialPromotionConfig:o,layoutScroll:g})}return s},addVariantChild:function(e){var t,n=B.getClosestVariantNode();if(n)return null===(t=n.variantChildren)||void 0===t||t.add(e),function(){return n.variantChildren.delete(e)}},sortNodePosition:function(e){return f&&r===e.treeType?f(B.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return z?B:null===p||void 0===p?void 0:p.getClosestVariantNode()},getLayoutId:function(){return v.layoutId},getInstance:function(){return n},getStaticValue:function(e){return x[e]},setStaticValue:function(e,t){return x[e]=t},getLatestValues:function(){return x},setVisibility:function(e){B.isVisible!==e&&(B.isVisible=e,B.scheduleRender())},makeTargetAnimatable:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return o(B,e,v,t)},measureViewportBox:function(){return s(n,v)},addValue:function(e,t){B.hasValue(e)&&B.removeValue(e),S.set(e,t),x[e]=t.get(),P(e,t)},removeValue:function(e){var t;S.delete(e),null===(t=T.get(e))||void 0===t||t(),T.delete(e),delete x[e],c(e,E)},hasValue:function(e){return S.has(e)},getValue:function(e,t){if(v.values&&v.values[e])return v.values[e];var n=S.get(e);return void 0===n&&void 0!==t&&(n=Ga(t),B.addValue(e,n)),n},forEachValue:function(e){return S.forEach(e)},readValue:function(e){return void 0!==x[e]?x[e]:l(n,e,b)},setBaseTarget:function(e,t){I[e]=t},getBaseTarget:function(e){if(a){var t=a(v,e);if(void 0!==t&&!Mt(t))return t}return I[e]}},_),{},{build:function(){return N(),E},scheduleRender:function(){ta.render(A,!1,!0)},syncRender:A,setProps:function(e){(e.transformTemplate||v.transformTemplate)&&B.scheduleRender(),v=e,_.updatePropListeners(e),C=ms(B,h(v),C)},getProps:function(){return v},getVariant:function(e){var t;return null===(t=v.variants)||void 0===t?void 0:t[e]},getDefaultTransition:function(){return v.transition},getTransformPagePoint:function(){return v.transformPagePoint},getVariantContext:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e)return null===p||void 0===p?void 0:p.getVariantContext();if(!F){var t=(null===p||void 0===p?void 0:p.getVariantContext())||{};return void 0!==v.initial&&(t.initial=v.initial),t}for(var n={},r=0;r<xs;r++){var i=ws[r],a=v[i];(ft(a)||!1===a)&&(n[i]=a)}return n}});return B}},ws=["initial"].concat(u(po)),xs=ws.length;function Es(e){return"string"===typeof e&&e.startsWith("var(--")}var _s=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Ss(e){var t=_s.exec(e);if(!t)return[,];var n=s(t,3);return[n[1],n[2]]}function Ts(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');var r=Ss(e),i=s(r,2),a=i[0],o=i[1];if(a){var u=window.getComputedStyle(t).getPropertyValue(a);return u?u.trim():Es(o)?Ts(o,t,n+1):o}}var Cs,Is=new Set(["width","height","top","left","right","bottom","x","y"]),As=function(e){return Is.has(e)},Ns=function(e,t){e.set(t,!1),e.set(t)},Rs=function(e){return e===tn||e===$t};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(Cs||(Cs={}));var Ps=function(e,t){return parseFloat(e.split(", ")[t])},Os=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var a=i.match(/^matrix3d\((.+)\)$/);if(a)return Ps(a[1],t);var o=i.match(/^matrix\((.+)\)$/);return o?Ps(o[1],e):0}},Ds=new Set(["x","y","z"]),Ls=Ot.filter((function(e){return!Ds.has(e)}));function Ms(e){var t=[];return Ls.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.syncRender(),t}var Us={width:function(e,t){var n=e.x,r=t.paddingLeft,i=void 0===r?"0":r,a=t.paddingRight,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},height:function(e,t){var n=e.y,r=t.paddingTop,i=void 0===r?"0":r,a=t.paddingBottom,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:Os(4,13),y:Os(5,14)},Vs=function(e,t,n){var r=t.measureViewportBox(),i=t.getInstance(),a=getComputedStyle(i),o=a.display,s={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach((function(e){s[e]=Us[e](r,a)})),t.syncRender();var u=t.measureViewportBox();return n.forEach((function(n){var r=t.getValue(n);Ns(r,s[n]),e[n]=Us[n](u,a)})),e};function js(e,t,n,r){return function(e){return Object.keys(e).some(As)}(t)?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=nt({},t),r=nt({},r);var i=Object.keys(t).filter(As),a=[],o=!1,u=[];if(i.forEach((function(i){var s=e.getValue(i);if(e.hasValue(i)){var l,c=n[i],f=Xa(c),h=t[i];if(On(h)){var d=h.length,p=null===h[0]?1:0;c=h[p],f=Xa(c);for(var v=p;v<d;v++)l?Xa(h[v]):(l=Xa(h[v]))===f||Rs(f)&&Rs(l)}else l=Xa(h);if(f!==l)if(Rs(f)&&Rs(l)){var m=s.get();"string"===typeof m&&s.set(parseFloat(m)),"string"===typeof h?t[i]=parseFloat(h):Array.isArray(h)&&l===$t&&(t[i]=h.map(parseFloat))}else(null===f||void 0===f?void 0:f.transform)&&(null===l||void 0===l?void 0:l.transform)&&(0===c||0===h)?0===c?s.set(l.transform(c)):t[i]=f.transform(h):(o||(a=Ms(e),o=!0),u.push(i),r[i]=void 0!==r[i]?r[i]:t[i],Ns(s,h))}})),u.length){var l=u.indexOf("height")>=0?window.pageYOffset:null,c=Vs(t,e,u);return a.length&&a.forEach((function(t){var n=s(t,2),r=n[0],i=n[1];e.getValue(r).set(i)})),e.syncRender(),ot&&null!==l&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}return{target:t,transitionEnd:r}}(e,t,n,r):{target:t,transitionEnd:r}}var Fs=function(e,t,n,r){var i=function(e,t,n){var r=Object.assign({},t),i=e.getInstance();if(!(i instanceof Element))return{target:r,transitionEnd:n};for(var a in n&&(n=nt({},n)),e.forEachValue((function(e){var t=e.get();if(Es(t)){var n=Ts(t,i);n&&e.set(n)}})),r){var o=r[a];if(Es(o)){var s=Ts(o,i);s&&(r[a]=s,n&&void 0===n[a]&&(n[a]=o))}}return{target:r,transitionEnd:n}}(e,t,r);return js(e,t=i.target,n,r=i.transitionEnd)},zs=["transition","transitionEnd"];var Bs={treeType:"dom",readValueFromInstance:function(e,t){if(Dt.has(t)){var n=Ca(t);return n&&n.default||0}var r,i=(r=e,window.getComputedStyle(r)),a=(Ft(t)?i.getPropertyValue(t):i[t])||0;return"string"===typeof a?a.trim():a},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){var n;return null===(n=e.style)||void 0===n?void 0:n[t]},measureViewportBox:function(e,t){return as(e,t.transformPagePoint)},resetTransform:function(e,t,n){var r=n.transformTemplate;t.style.transform=r?r({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]},makeTargetAnimatable:function(e,t,n){var r=t.transition,i=t.transitionEnd,a=yn(t,zs),o=n.transformValues,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],u=io(a,r||{},e);if(o&&(i&&(i=o(i)),a&&(a=o(a)),u&&(u=o(u))),s){no(e,a,u);var l=Fs(e,a,u,i);i=l.transitionEnd,a=l.target}return nt({transition:r,transitionEnd:i},a)},scrapeMotionValuesFromProps:Nn,build:function(e,t,n,r,i){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden"),sn(t,n,r,i.transformTemplate)},render:Cn},Hs=bs(Bs),qs=bs(nt(nt({},Bs),{},{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return Dt.has(t)?(null===(n=Ca(t))||void 0===n?void 0:n.default)||0:(t=In.has(t)?t:Tn(t),e.getAttribute(t))},scrapeMotionValuesFromProps:Rn,build:function(e,t,n,r,i){xn(t,n,r,i.transformTemplate)},render:An})),Ws=function(e,t){return Rt(e)?qs(t,{enableHardwareAcceleration:!1}):Hs(t,{enableHardwareAcceleration:!0})};function Gs(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var Ks={correct:function(e,t){if(!t.target)return e;if("string"===typeof e){if(!$t.test(e))return e;e=parseFloat(e)}var n=Gs(e,t.target.x),r=Gs(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Qs="_$css",Xs={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,i=e,a=e.includes("var("),o=[];a&&(e=e.replace(_s,(function(e){return o.push(e),Qs})));var s=si.parse(e);if(s.length>5)return i;var u=si.createTransformer(e),l="number"!==typeof s[0]?1:0,c=r.x.scale*n.x,f=r.y.scale*n.y;s[0+l]/=c,s[1+l]/=f;var h=jr(c,f,.5);"number"===typeof s[2+l]&&(s[2+l]/=h),"number"===typeof s[3+l]&&(s[3+l]/=h);var d=u(s);if(a){var p=0;d=d.replace(Qs,(function(){var e=o[p];return p++,e}))}return d}},Ys=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n,[{key:"componentDidMount",value:function(){var e,t=this,n=this.props,r=n.visualElement,i=n.layoutGroup,a=n.switchLayoutGroup,o=n.layoutId,s=r.projection;e=$s,Object.assign(Pt,e),s&&(i.group&&i.group.add(s),a&&a.register&&o&&a.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(function(){t.safeToRemove()})),s.setOptions(nt(nt({},s.options),{},{onExitComplete:function(){return t.safeToRemove()}}))),wt.hasEverUpdated=!0}},{key:"getSnapshotBeforeUpdate",value:function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,a=n.drag,o=n.isPresent,s=i.projection;return s?(s.isPresent=o,a||e.layoutDependency!==r||void 0===r?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||ta.postRender((function(){var e;(null===(e=s.getStack())||void 0===e?void 0:e.members.length)||t.safeToRemove()}))),null):null}},{key:"componentDidUpdate",value:function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),(null===n||void 0===n?void 0:n.group)&&n.group.remove(i),(null===r||void 0===r?void 0:r.deregister)&&r.deregister(i))}},{key:"safeToRemove",value:function(){var e=this.props.safeToRemove;null===e||void 0===e||e()}},{key:"render",value:function(){return null}}]),n}(t.Component);var $s={borderRadius:nt(nt({},Ks),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Ks,borderTopRightRadius:Ks,borderBottomLeftRadius:Ks,borderBottomRightRadius:Ks,boxShadow:Xs},Js={measureLayout:function(e){var n=s(Tr(),2),r=n[0],i=n[1],a=(0,t.useContext)(Et);return t.createElement(Ys,nt(nt({},e),{},{layoutGroup:a,switchLayoutGroup:(0,t.useContext)(St),isPresent:r,safeToRemove:i}))}};function Zs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Mt(e)?e:Ga(e);return ja("",r,t,n),{stop:function(){return r.stop()},isAnimating:function(){return r.isAnimating()}}}var eu=["TopLeft","TopRight","BottomLeft","BottomRight"],tu=eu.length,nu=function(e){return"string"===typeof e?parseFloat(e):e},ru=function(e){return"number"===typeof e||$t.test(e)};function iu(e,t,n,r,i,a){var o,s,u,l;i?(e.opacity=jr(0,null!==(o=n.opacity)&&void 0!==o?o:1,ou(r)),e.opacityExit=jr(null!==(s=t.opacity)&&void 0!==s?s:1,0,su(r))):a&&(e.opacity=jr(null!==(u=t.opacity)&&void 0!==u?u:1,null!==(l=n.opacity)&&void 0!==l?l:1,r));for(var c=0;c<tu;c++){var f="border".concat(eu[c],"Radius"),h=au(t,f),d=au(n,f);if(void 0!==h||void 0!==d)h||(h=0),d||(d=0),0===h||0===d||ru(h)===ru(d)?(e[f]=Math.max(jr(nu(h),nu(d),r),0),(Yt.test(d)||Yt.test(h))&&(e[f]+="%")):e[f]=d}(t.rotate||n.rotate)&&(e.rotate=jr(t.rotate||0,n.rotate||0,r))}function au(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e.borderRadius}var ou=uu(0,.5,Ii),su=uu(.5,.95,Ei);function uu(e,t,n){return function(r){return r<e?0:r>t?1:n(Vr(e,t,r))}}function lu(e,t){e.min=t.min,e.max=t.max}function cu(e,t){lu(e.x,t.x),lu(e.y,t.y)}function fu(e,t,n,r,i){return e=Yo(e-=t,1/n,r),void 0!==i&&(e=Yo(e,1/i,r)),e}function hu(e,t,n,r,i){var a=s(n,3),o=a[0],u=a[1],l=a[2];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;if(Yt.test(t)){t=parseFloat(t),t=jr(o.min,o.max,t/100)-o.min}if("number"===typeof t){var s=jr(a.min,a.max,r);e===a&&(s-=t),e.min=fu(e.min,t,n,s,i),e.max=fu(e.max,t,n,s,i)}}(e,t[o],t[u],t[l],t.scale,r,i)}var du=["x","scaleX","originX"],pu=["y","scaleY","originY"];function vu(e,t,n,r){hu(e.x,t,du,null===n||void 0===n?void 0:n.x,null===r||void 0===r?void 0:r.x),hu(e.y,t,pu,null===n||void 0===n?void 0:n.y,null===r||void 0===r?void 0:r.y)}function mu(e){return 0===e.translate&&1===e.scale}function yu(e){return mu(e.x)&&mu(e.y)}function gu(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function ku(e){return Po(e.x)/Po(e.y)}var bu=function(){function e(){l(this,e),this.members=[]}return f(e,[{key:"add",value:function(e){Ba(this.members,e),e.scheduleRender()}},{key:"remove",value:function(e){if(Ha(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}}},{key:"relegate",value:function(e){var t,n=this.members.findIndex((function(t){return e===t}));if(0===n)return!1;for(var r=n;r>=0;r--){var i=this.members[r];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)}},{key:"promote",value:function(e,t){var n,r=this.lead;e!==r&&(this.prevLead=r,this.lead=e,e.show(),r&&(r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues,e.snapshot.isShared=!0),(null===(n=e.root)||void 0===n?void 0:n.isUpdating)&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&r.hide()))}},{key:"exitAnimationComplete",value:function(){this.members.forEach((function(e){var t,n,r,i,a;null===(n=(t=e.options).onExitComplete)||void 0===n||n.call(t),null===(a=null===(r=e.resumingFrom)||void 0===r?void 0:(i=r.options).onExitComplete)||void 0===a||a.call(i)}))}},{key:"scheduleRender",value:function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))}},{key:"removeLeadSnapshot",value:function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}]),e}();function wu(e,t,n){var r=e.x.translate/t.x,i=e.y.translate/t.y,a="translate3d(".concat(r,"px, ").concat(i,"px, 0) ");if(a+="scale(".concat(1/t.x,", ").concat(1/t.y,") "),n){var o=n.rotate,s=n.rotateX,u=n.rotateY;o&&(a+="rotate(".concat(o,"deg) ")),s&&(a+="rotateX(".concat(s,"deg) ")),u&&(a+="rotateY(".concat(u,"deg) "))}var l=e.x.scale*t.x,c=e.y.scale*t.y;return"translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)"===(a+="scale(".concat(l,", ").concat(c,")"))?"none":a}var xu=function(e,t){return e.depth-t.depth},Eu=function(){function e(){l(this,e),this.children=[],this.isDirty=!1}return f(e,[{key:"add",value:function(e){Ba(this.children,e),this.isDirty=!0}},{key:"remove",value:function(e){Ha(this.children,e),this.isDirty=!0}},{key:"forEach",value:function(e){this.isDirty&&this.children.sort(xu),this.isDirty=!1,this.children.forEach(e)}}]),e}(),_u=["","X","Y","Z"];function Su(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,i=e.checkIsScrollRoot,a=e.resetTransform;return function(){function e(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null===n||void 0===n?void 0:n();l(this,e),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){r.isUpdating&&(r.isUpdating=!1,r.clearAllSnapshots())},this.updateProjection=function(){r.nodes.forEach(Pu),r.nodes.forEach(Ou)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=t,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[].concat(u(a.path),[a]):[],this.parent=a,this.depth=a?a.depth+1:0,t&&this.root.registerPotentialNode(t,this);for(var o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new Eu)}return f(e,[{key:"addEventListener",value:function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new qa),this.eventHandlers.get(e).add(t)}},{key:"notifyListeners",value:function(e){for(var t=this.eventHandlers.get(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===t||void 0===t||t.notify.apply(t,r)}},{key:"hasListeners",value:function(e){return this.eventHandlers.has(e)}},{key:"registerPotentialNode",value:function(e,t){this.potentialNodes.set(e,t)}},{key:"mount",value:function(e){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.instance){this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;var a=this.options,o=a.layoutId,s=a.layout,u=a.visualElement;if(u&&!u.getInstance()&&u.mount(e),this.root.nodes.add(this),null===(n=this.parent)||void 0===n||n.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),i&&(s||o)&&(this.isLayoutDirty=!0),t){var l,c=function(){return r.root.updateBlockedByResize=!1};t(e,(function(){r.root.updateBlockedByResize=!0,clearTimeout(l),l=window.setTimeout(c,250),wt.hasAnimatedSinceResize&&(wt.hasAnimatedSinceResize=!1,r.nodes.forEach(Ru))}))}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&u&&(o||s)&&this.addEventListener("didUpdate",(function(e){var t,n,i,a,o,s=e.delta,l=e.hasLayoutChanged,c=e.hasRelativeTargetChanged,f=e.layout;if(r.isTreeAnimationBlocked())return r.target=void 0,void(r.relativeTarget=void 0);var h=null!==(n=null!==(t=r.options.transition)&&void 0!==t?t:u.getDefaultTransition())&&void 0!==n?n:Fu,d=u.getProps(),p=d.onLayoutAnimationStart,v=d.onLayoutAnimationComplete,m=!r.targetLayout||!gu(r.targetLayout,f)||c,y=!l&&c;if((null===(i=r.resumeFrom)||void 0===i?void 0:i.instance)||y||l&&(m||!r.currentAnimation)){r.resumeFrom&&(r.resumingFrom=r.resumeFrom,r.resumingFrom.resumingFrom=void 0),r.setAnimationOrigin(s,y);var g=nt(nt({},Va(h,"layout")),{},{onPlay:p,onComplete:v});u.shouldReduceMotion&&(g.delay=0,g.type=!1),r.startAnimation(g)}else l||0!==r.animationProgress||r.finishAnimation(),r.isLead()&&(null===(o=(a=r.options).onExitComplete)||void 0===o||o.call(a));r.targetLayout=f}))}}},{key:"unmount",value:function(){var e,t;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(e=this.getStack())||void 0===e||e.remove(this),null===(t=this.parent)||void 0===t||t.children.delete(this),this.instance=void 0,Xi.preRender(this.updateProjection)}},{key:"blockUpdate",value:function(){this.updateManuallyBlocked=!0}},{key:"unblockUpdate",value:function(){this.updateManuallyBlocked=!1}},{key:"isUpdateBlocked",value:function(){return this.updateManuallyBlocked||this.updateBlockedByResize}},{key:"isTreeAnimationBlocked",value:function(){var e;return this.isAnimationBlocked||(null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimationBlocked())||!1}},{key:"startUpdate",value:function(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null===(e=this.nodes)||void 0===e||e.forEach(Du))}},{key:"willUpdate",value:function(){var e,t,n,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.isUpdateBlocked())null===(t=(e=this.options).onExitComplete)||void 0===t||t.call(e);else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var i=0;i<this.path.length;i++){var a=this.path[i];a.shouldResetTransform=!0,a.updateScroll()}var o=this.options,s=o.layoutId,u=o.layout;if(void 0!==s||u){var l=null===(n=this.options.visualElement)||void 0===n?void 0:n.getProps().transformTemplate;this.prevTransformTemplateValue=null===l||void 0===l?void 0:l(this.latestValues,""),this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}}}},{key:"didUpdate",value:function(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Au);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(zu),this.potentialNodes.clear()),this.nodes.forEach(Nu),this.nodes.forEach(Tu),this.nodes.forEach(Cu),this.clearAllSnapshots(),Yi.update(),Yi.preRender(),Yi.render())}},{key:"clearAllSnapshots",value:function(){this.nodes.forEach(Iu),this.sharedNodes.forEach(Lu)}},{key:"scheduleUpdateProjection",value:function(){ta.preRender(this.updateProjection,!1,!0)}},{key:"scheduleCheckAfterUnmount",value:function(){var e=this;ta.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))}},{key:"updateSnapshot",value:function(){if(!this.snapshot&&this.instance){var e=this.measure(),t=this.removeTransform(this.removeElementScroll(e));Hu(t),this.snapshot={measured:e,layout:t,latestValues:{}}}}},{key:"updateLayout",value:function(){var e;if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var t=0;t<this.path.length;t++){this.path[t].updateScroll()}var n=this.measure();Hu(n);var r=this.layout;this.layout={measured:n,actual:this.removeElementScroll(n)},this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null===(e=this.options.visualElement)||void 0===e||e.notifyLayoutMeasure(this.layout.actual,null===r||void 0===r?void 0:r.actual)}}},{key:"updateScroll",value:function(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=i(this.instance),this.scroll=r(this.instance))}},{key:"resetTransform",value:function(){var e;if(a){var t=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!yu(this.projectionDelta),r=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate,i=null===r||void 0===r?void 0:r(this.latestValues,""),o=i!==this.prevTransformTemplateValue;t&&(n||Qo(this.latestValues)||o)&&(a(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}}},{key:"measure",value:function(){var e=this.options.visualElement;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};var t=e.measureViewportBox(),n=this.root.scroll;return n&&(es(t.x,n.x),es(t.y,n.y)),t}},{key:"removeElementScroll",value:function(e){var t={x:{min:0,max:0},y:{min:0,max:0}};cu(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,a=r.options,o=r.isScrollRoot;if(r!==this.root&&i&&a.layoutScroll){if(o){cu(t,e);var s=this.root.scroll;s&&(es(t.x,-s.x),es(t.y,-s.y))}es(t.x,i.x),es(t.y,i.y)}}return t}},{key:"applyTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={x:{min:0,max:0},y:{min:0,max:0}};cu(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&is(n,{x:-i.scroll.x,y:-i.scroll.y}),Qo(i.latestValues)&&is(n,i.latestValues)}return Qo(this.latestValues)&&is(n,this.latestValues),n}},{key:"removeTransform",value:function(e){var t,n={x:{min:0,max:0},y:{min:0,max:0}};cu(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];if(i.instance&&Qo(i.latestValues)){Ko(i.latestValues)&&i.updateSnapshot();var a={x:{min:0,max:0},y:{min:0,max:0}};cu(a,i.measure()),vu(n,i.latestValues,null===(t=i.snapshot)||void 0===t?void 0:t.layout,a)}}return Qo(this.latestValues)&&vu(n,this.latestValues),n}},{key:"setTargetDelta",value:function(e){this.targetDelta=e,this.root.scheduleUpdateProjection()}},{key:"setOptions",value:function(e){this.options=nt(nt(nt({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}},{key:"clearMeasurements",value:function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}},{key:"resolveTargetDelta",value:function(){var e,t,n,r,i=this.options,a=i.layout,o=i.layoutId;this.layout&&(a||o)&&(this.targetDelta||this.relativeTarget||(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Vo(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),cu(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&(null===(e=this.relativeParent)||void 0===e?void 0:e.target)?(t=this.target,n=this.relativeTarget,r=this.relativeParent.target,Mo(t.x,n.x,r.x),Mo(t.y,n.y,r.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):cu(this.target,this.layout.actual),Zo(this.target,this.targetDelta)):cu(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Vo(this.relativeTargetOrigin,this.target,this.relativeParent.target),cu(this.relativeTarget,this.relativeTargetOrigin)))))}},{key:"getClosestProjectingParent",value:function(){if(this.parent&&!Qo(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}},{key:"calcProjection",value:function(){var e,t=this.options,n=t.layout,r=t.layoutId;if(this.isTreeAnimating=Boolean((null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(n||r)){var i=this.getLead();cu(this.layoutCorrected,this.layout.actual),function(e,t,n){var r,i,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=n.length;if(o){var s,u;t.x=t.y=1;for(var l=0;l<o;l++)u=(s=n[l]).projectionDelta,"contents"!==(null===(i=null===(r=s.instance)||void 0===r?void 0:r.style)||void 0===i?void 0:i.display)&&(a&&s.options.layoutScroll&&s.scroll&&s!==s.root&&is(e,{x:-s.scroll.x,y:-s.scroll.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,Zo(e,u)),a&&Qo(s.latestValues)&&is(e,s.latestValues))}}(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==i);var a=i.target;if(a){this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});var o=this.treeScale.x,s=this.treeScale.y,u=this.projectionTransform;Lo(this.projectionDelta,this.layoutCorrected,a,this.latestValues),this.projectionTransform=wu(this.projectionDelta,this.treeScale),this.projectionTransform===u&&this.treeScale.x===o&&this.treeScale.y===s||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",a))}}}},{key:"hide",value:function(){this.isVisible=!1}},{key:"show",value:function(){this.isVisible=!0}},{key:"scheduleRender",value:function(){var e,t,n,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];null===(t=(e=this.options).scheduleRender)||void 0===t||t.call(e),r&&(null===(n=this.getStack())||void 0===n||n.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}},{key:"setAnimationOrigin",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.snapshot,a=(null===i||void 0===i?void 0:i.latestValues)||{},o=nt({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!r;var u={x:{min:0,max:0},y:{min:0,max:0}},l=null===i||void 0===i?void 0:i.isShared,c=((null===(t=this.getStack())||void 0===t?void 0:t.members.length)||0)<=1,f=Boolean(l&&!c&&!0===this.options.crossfade&&!this.path.some(ju));this.animationProgress=0,this.mixTargetDelta=function(t){var r,i=t/1e3;Mu(s.x,e.x,i),Mu(s.y,e.y,i),n.setTargetDelta(s),n.relativeTarget&&n.relativeTargetOrigin&&n.layout&&(null===(r=n.relativeParent)||void 0===r?void 0:r.layout)&&(Vo(u,n.layout.actual,n.relativeParent.layout.actual),Vu(n.relativeTarget,n.relativeTargetOrigin,u,i)),l&&(n.animationValues=o,iu(o,a,n.latestValues,i,f,c)),n.root.scheduleUpdateProjection(),n.scheduleRender(),n.animationProgress=i},this.mixTargetDelta(0)}},{key:"startAnimation",value:function(e){var t,n,r=this;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),this.resumingFrom&&(null===(n=this.resumingFrom.currentAnimation)||void 0===n||n.stop()),this.pendingAnimation&&(Xi.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ta.update((function(){wt.hasAnimatedSinceResize=!0,r.currentAnimation=Zs(0,1e3,nt(nt({},e),{},{onUpdate:function(t){var n;r.mixTargetDelta(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:function(){var t;null===(t=e.onComplete)||void 0===t||t.call(e),r.completeAnimation()}})),r.resumingFrom&&(r.resumingFrom.currentAnimation=r.currentAnimation),r.pendingAnimation=void 0}))}},{key:"completeAnimation",value:function(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(e=this.getStack())||void 0===e||e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}},{key:"finishAnimation",value:function(){var e;this.currentAnimation&&(null===(e=this.mixTargetDelta)||void 0===e||e.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()}},{key:"applyTransformsToTarget",value:function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,i=e.latestValues;if(t&&n&&r){if(this!==e&&this.layout&&r&&qu(this.options.animationType,this.layout.actual,r.actual)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};var a=Po(this.layout.actual.x);n.x.min=e.target.x.min,n.x.max=n.x.min+a;var o=Po(this.layout.actual.y);n.y.min=e.target.y.min,n.y.max=n.y.min+o}cu(t,n),is(t,i),Lo(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}},{key:"registerSharedNode",value:function(e,t){var n,r,i;this.sharedNodes.has(e)||this.sharedNodes.set(e,new bu),this.sharedNodes.get(e).add(t),t.promote({transition:null===(n=t.options.initialPromotionConfig)||void 0===n?void 0:n.transition,preserveFollowOpacity:null===(i=null===(r=t.options.initialPromotionConfig)||void 0===r?void 0:r.shouldPreserveFollowOpacity)||void 0===i?void 0:i.call(r,t)})}},{key:"isLead",value:function(){var e=this.getStack();return!e||e.lead===this}},{key:"getLead",value:function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}},{key:"getPrevLead",value:function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}},{key:"getStack",value:function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)}},{key:"promote",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.needsReset,n=e.transition,r=e.preserveFollowOpacity,i=this.getStack();i&&i.promote(this,r),t&&(this.projectionDelta=void 0,this.needsReset=!0),n&&this.setOptions({transition:n})}},{key:"relegate",value:function(){var e=this.getStack();return!!e&&e.relegate(this)}},{key:"resetRotation",value:function(){var e=this.options.visualElement;if(e){for(var t=!1,n={},r=0;r<_u.length;r++){var i="rotate"+_u[r];e.getStaticValue(i)&&(t=!0,n[i]=e.getStaticValue(i),e.setStaticValue(i,0))}if(t){for(var a in null===e||void 0===e||e.syncRender(),n)e.setStaticValue(a,n[a]);e.scheduleRender()}}}},{key:"getProjectionStyles",value:function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i={};if(!this.instance||this.isSVG)return i;if(!this.isVisible)return{visibility:"hidden"};i.visibility="";var a=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,i.opacity="",i.pointerEvents=Ln(r.pointerEvents)||"",i.transform=a?a(this.latestValues,""):"none",i;var o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){var s={};return this.options.layoutId&&(s.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,s.pointerEvents=Ln(r.pointerEvents)||""),this.hasProjected&&!Qo(this.latestValues)&&(s.transform=a?a({},""):"none",this.hasProjected=!1),s}var u=o.animationValues||o.latestValues;this.applyTransformsToTarget(),i.transform=wu(this.projectionDeltaWithTransform,this.treeScale,u),a&&(i.transform=a(u,i.transform));var l=this.projectionDelta,c=l.x,f=l.y;for(var h in i.transformOrigin="".concat(100*c.origin,"% ").concat(100*f.origin,"% 0"),o.animationValues?i.opacity=o===this?null!==(n=null!==(t=u.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:i.opacity=o===this?void 0!==u.opacity?u.opacity:"":void 0!==u.opacityExit?u.opacityExit:0,Pt)if(void 0!==u[h]){var d=Pt[h],p=d.correct,v=d.applyTo,m=p(u[h],o);if(v)for(var y=v.length,g=0;g<y;g++)i[v[g]]=m;else i[h]=m}return this.options.layoutId&&(i.pointerEvents=o===this?Ln(r.pointerEvents)||"":"none"),i}},{key:"clearSnapshot",value:function(){this.resumeFrom=this.snapshot=void 0}},{key:"resetTree",value:function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(Au),this.root.sharedNodes.clear()}}]),e}()}function Tu(e){e.updateLayout()}function Cu(e){var t,n,r,i=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){var a=e.layout,o=a.actual,s=a.measured,u=e.options.animationType;"size"===u?qo((function(e){var t=i.isShared?i.measured[e]:i.layout[e],n=Po(t);t.min=o[e].min,t.max=t.min+n})):qu(u,i.layout,o)&&qo((function(e){var t=i.isShared?i.measured[e]:i.layout[e],n=Po(o[e]);t.max=t.min+n}));var l={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Lo(l,o,i.layout);var c={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i.isShared?Lo(c,e.applyTransform(s,!0),i.measured):Lo(c,o,i.layout);var f=!yu(l),h=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){var d=e.relativeParent,p=d.snapshot,v=d.layout;if(p&&v){var m={x:{min:0,max:0},y:{min:0,max:0}};Vo(m,i.layout,p.layout);var y={x:{min:0,max:0},y:{min:0,max:0}};Vo(y,o,v.actual),gu(m,y)||(h=!0)}}e.notifyListeners("didUpdate",{layout:o,snapshot:i,delta:c,layoutDelta:l,hasLayoutChanged:f,hasRelativeTargetChanged:h})}else e.isLead()&&(null===(r=(n=e.options).onExitComplete)||void 0===r||r.call(n));e.options.transition=void 0}function Iu(e){e.clearSnapshot()}function Au(e){e.clearMeasurements()}function Nu(e){var t=e.options.visualElement;(null===t||void 0===t?void 0:t.getProps().onBeforeLayoutMeasure)&&t.notifyBeforeLayoutMeasure(),e.resetTransform()}function Ru(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function Pu(e){e.resolveTargetDelta()}function Ou(e){e.calcProjection()}function Du(e){e.resetRotation()}function Lu(e){e.removeLeadSnapshot()}function Mu(e,t,n){e.translate=jr(t.translate,0,n),e.scale=jr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Uu(e,t,n,r){e.min=jr(t.min,n.min,r),e.max=jr(t.max,n.max,r)}function Vu(e,t,n,r){Uu(e.x,t.x,n.x,r),Uu(e.y,t.y,n.y,r)}function ju(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var Fu={duration:.45,ease:[.4,0,.1,1]};function zu(e,t){for(var n=e.root,r=e.path.length-1;r>=0;r--)if(Boolean(e.path[r].instance)){n=e.path[r];break}var i=(n&&n!==e.root?n.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));i&&e.mount(i,!0)}function Bu(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function Hu(e){Bu(e.x),Bu(e.y)}function qu(e,t,n){return"position"===e||"preserve-aspect"===e&&!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;return _o(e,t)<=n}(ku(t),ku(n),.2)}var Wu=Su({attachResizeListener:function(e,t){return Bn(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),Gu={current:void 0},Ku=Su({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!Gu.current){var e=new Wu(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),Gu.current=e}return Gu.current},resetTransform:function(e,t){e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:function(e){return Boolean("fixed"===window.getComputedStyle(e).position)}}),Qu=nt(nt(nt(nt({},bo),Sr),cs),Js),Xu=At((function(e,t){return function(e,t,n,r,i){var a=t.forwardMotionProps,o=void 0!==a&&a;return nt(nt({},Rt(e)?Fn:zn),{},{preloadedFeatures:n,useRender:Sn(o),createVisualElement:r,projectionNodeConstructor:i,Component:e})}(e,t,Qu,Ws,Ku)}));function Yu(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}function $u(){return $u="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Yu(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},$u.apply(this,arguments)}var Ju=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Zu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|l>>6,d=63&l;u||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ju(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var l=a<<2|o>>4;if(r.push(l),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},el=function(e){return function(e){var t=Ju(e);return Zu.encodeByteArray(t,!0)}(e).replace(/\./g,"")},tl=function(e){try{return Zu.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var nl=function(){function e(){var t=this;l(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return f(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function rl(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}var il=function(e){d(n,e);var t=k(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(y(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(y(a),al.prototype.create),a}return f(n)}(w(Error)),al=function(){function e(t,n,r){l(this,e),this.service=t,this.serviceName=n,this.errors=r}return f(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?ol(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new il(n,a,t);return o}}]),e}();function ol(e,t){return e.replace(sl,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var sl=/\{\$([^}]+)}/g;function ul(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(ll(s)&&ll(u)){if(!ul(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function ll(e){return null!==e&&"object"===typeof e}function cl(e){for(var t=[],n=function(){var e=s(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function fl(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=s(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function hl(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var dl=function(){function e(t,n){var r=this;l(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return f(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Ut(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=pl),void 0===r.error&&(r.error=pl),void 0===r.complete&&(r.complete=pl);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function pl(){}function vl(e){return e&&e._delegate?e._delegate:e}var ml=function(){function e(t,n,r){l(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return f(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),yl="[DEFAULT]",gl=function(){function e(t,n){l(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return f(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new nl;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:yl})}catch(l){}var t,n=Ut(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=s(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(l){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yl;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ue(Le().mark((function e(){var t;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(u(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),u(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yl;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yl;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Ut(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=s(i.value,2),l=u[0],c=u[1],f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Ut(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(TS){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===yl?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(TS){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yl;return this.component?this.component.multipleInstances?e:yl:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var kl,bl,wl=function(){function e(t){l(this,e),this.name=t,this.providers=new Map}return f(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new gl(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),xl=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(bl||(bl={}));var El={debug:bl.DEBUG,verbose:bl.VERBOSE,info:bl.INFO,warn:bl.WARN,error:bl.ERROR,silent:bl.SILENT},_l=bl.INFO,Sl=(et(kl={},bl.DEBUG,"log"),et(kl,bl.VERBOSE,"log"),et(kl,bl.INFO,"info"),et(kl,bl.WARN,"warn"),et(kl,bl.ERROR,"error"),kl),Tl=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Sl[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Cl=function(){function e(t){l(this,e),this.name=t,this._logLevel=_l,this._logHandler=Tl,this._userLogHandler=null,xl.push(this)}return f(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in bl))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?El[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,bl.DEBUG].concat(t)),this._logHandler.apply(this,[this,bl.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,bl.VERBOSE].concat(t)),this._logHandler.apply(this,[this,bl.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,bl.INFO].concat(t)),this._logHandler.apply(this,[this,bl.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,bl.WARN].concat(t)),this._logHandler.apply(this,[this,bl.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,bl.ERROR].concat(t)),this._logHandler.apply(this,[this,bl.ERROR].concat(t))}}]),e}();var Il,Al;var Nl=new WeakMap,Rl=new WeakMap,Pl=new WeakMap,Ol=new WeakMap,Dl=new WeakMap;var Ll={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Rl.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Pl.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vl(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Ml(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Al||(Al=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(jl(this),n),Vl(Nl.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Vl(e.apply(jl(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[jl(this),t].concat(r));return Pl.set(a,t.sort?t.sort():[t]),Vl(a)}}function Ul(e){return"function"===typeof e?Ml(e):(e instanceof IDBTransaction&&function(e){if(!Rl.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Rl.set(e,t)}}(e),t=e,(Il||(Il=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Ll):e);var t}function Vl(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Vl(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Nl.set(t,e)})).catch((function(){})),Dl.set(t,e),t}(e);if(Ol.has(e))return Ol.get(e);var t=Ul(e);return t!==e&&(Ol.set(e,t),Dl.set(t,e)),t}var jl=function(e){return Dl.get(e)};var Fl,zl,Bl=["get","getKey","getAll","getAllKeys","count"],Hl=["put","add","delete","clear"],ql=new Map;function Wl(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(ql.get(t))return ql.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Hl.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Bl.includes(n))){var a=function(){var e=Ue(Le().mark((function e(t){var a,o,s,u,l,c,f=arguments;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=f[c];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return ql.set(t,a),a}}}Ll=function(e){return nt(nt({},e),{},{get:function(t,n,r){return Wl(t,n)||e.get(t,n,r)},has:function(t,n){return!!Wl(t,n)||e.has(t,n)}})}(Ll);var Gl=function(){function e(t){l(this,e),this.container=t}return f(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Kl="@firebase/app",Ql="0.7.33",Xl=new Cl("@firebase/app"),Yl="[DEFAULT]",$l=(et(Fl={},Kl,"fire-core"),et(Fl,"@firebase/app-compat","fire-core-compat"),et(Fl,"@firebase/analytics","fire-analytics"),et(Fl,"@firebase/analytics-compat","fire-analytics-compat"),et(Fl,"@firebase/app-check","fire-app-check"),et(Fl,"@firebase/app-check-compat","fire-app-check-compat"),et(Fl,"@firebase/auth","fire-auth"),et(Fl,"@firebase/auth-compat","fire-auth-compat"),et(Fl,"@firebase/database","fire-rtdb"),et(Fl,"@firebase/database-compat","fire-rtdb-compat"),et(Fl,"@firebase/functions","fire-fn"),et(Fl,"@firebase/functions-compat","fire-fn-compat"),et(Fl,"@firebase/installations","fire-iid"),et(Fl,"@firebase/installations-compat","fire-iid-compat"),et(Fl,"@firebase/messaging","fire-fcm"),et(Fl,"@firebase/messaging-compat","fire-fcm-compat"),et(Fl,"@firebase/performance","fire-perf"),et(Fl,"@firebase/performance-compat","fire-perf-compat"),et(Fl,"@firebase/remote-config","fire-rc"),et(Fl,"@firebase/remote-config-compat","fire-rc-compat"),et(Fl,"@firebase/storage","fire-gcs"),et(Fl,"@firebase/storage-compat","fire-gcs-compat"),et(Fl,"@firebase/firestore","fire-fst"),et(Fl,"@firebase/firestore-compat","fire-fst-compat"),et(Fl,"fire-js","fire-js"),et(Fl,"firebase","fire-js-all"),Fl),Jl=new Map,Zl=new Map;function ec(e,t){try{e.container.addComponent(t)}catch(n){Xl.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function tc(e){var t=e.name;if(Zl.has(t))return Xl.debug("There were multiple attempts to register component ".concat(t,".")),!1;Zl.set(t,e);var n,r=Ut(Jl.values());try{for(r.s();!(n=r.n()).done;){ec(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function nc(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var rc=(et(zl={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),et(zl,"bad-app-name","Illegal App name: '{$appName}"),et(zl,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),et(zl,"app-deleted","Firebase App named '{$appName}' already deleted"),et(zl,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),et(zl,"invalid-log-argument","First argument to `onLog` must be null or a function."),et(zl,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),et(zl,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),et(zl,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),et(zl,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),zl),ic=new al("app","Firebase",rc),ac=function(){function e(t,n,r){var i=this;l(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ml("app",(function(){return i}),"PUBLIC"))}return f(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ic.create("app-deleted",{appName:this._name})}}]),e}(),oc="9.10.0";function sc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yl,t=Jl.get(e);if(!t)throw ic.create("no-app",{appName:e});return t}function uc(e,t,n){var r,i=null!==(r=$l[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Xl.warn(s.join(" "))}tc(new ml("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var lc="firebase-heartbeat-store",cc=null;function fc(){return cc||(cc=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Vl(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Vl(s.result),e.oldVersion,e.newVersion,Vl(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(lc)}}).catch((function(e){throw ic.create("idb-open",{originalErrorMessage:e.message})}))),cc}function hc(e){return dc.apply(this,arguments)}function dc(){return dc=Ue(Le().mark((function e(t){var n,r,i;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc();case 3:return r=e.sent,e.abrupt("return",r.transaction(lc).objectStore(lc).get(mc(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof il?Xl.warn(e.t0.message):(i=ic.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),Xl.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),dc.apply(this,arguments)}function pc(e,t){return vc.apply(this,arguments)}function vc(){return vc=Ue(Le().mark((function e(t,n){var r,i,a,o,s;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc();case 3:return i=e.sent,a=i.transaction(lc,"readwrite"),o=a.objectStore(lc),e.next=8,o.put(n,mc(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof il?Xl.warn(e.t0.message):(s=ic.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),Xl.warn(s.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),vc.apply(this,arguments)}function mc(e){return"".concat(e.name,"!").concat(e.options.appId)}var yc=function(){function e(t){var n=this;l(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new xc(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return f(e,[{key:"triggerHeartbeat",value:function(){var e=Ue(Le().mark((function e(){var t,n,r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=gc(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ue(Le().mark((function e(){var t,n,r,i,a;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=gc(),n=kc(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=el(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function gc(){return(new Date).toISOString().substring(0,10)}function kc(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Ut(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ec(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Ec(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var bc,wc,xc=function(){function e(t){l(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return f(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ue(Le().mark((function e(){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof indexedDB){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ue(Le().mark((function e(){var t;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,hc(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ue(Le().mark((function e(t){var n,r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",pc(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ue(Le().mark((function e(t){var n,r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",pc(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(u(r.heartbeats),u(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ec(e){return el(JSON.stringify({version:2,heartbeats:e})).length}bc="",tc(new ml("platform-logger",(function(e){return new Gl(e)}),"PRIVATE")),tc(new ml("heartbeat",(function(e){return new yc(e)}),"PRIVATE")),uc(Kl,Ql,bc),uc(Kl,Ql,"esm2017"),uc("fire-js","");function _c(){return et({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Sc=_c,Tc=new al("auth","Firebase",_c()),Cc=new Cl("@firebase/auth");function Ic(e){if(Cc.logLevel<=bl.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Cc.error.apply(Cc,["Auth (".concat(oc,"): ").concat(e)].concat(n))}}function Ac(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Oc.apply(void 0,[e].concat(n))}function Nc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Oc.apply(void 0,[e].concat(n))}function Rc(e,t,n){var r=Object.assign(Object.assign({},Sc()),et({},t,n));return new al("auth","Firebase",r).create(t,{appName:e.name})}function Pc(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ac(e,"argument-error"),Rc(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Oc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=u(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(u(o)))}return Tc.create.apply(Tc,[e].concat(n))}function Dc(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Oc.apply(void 0,[t].concat(r))}}function Lc(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Ic(t),new Error(t)}function Mc(e,t){e||Lc(t)}var Uc=new Map;function Vc(e){Mc(e instanceof Function,"Expected a class definition");var t=Uc.get(e);return t?(Mc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Uc.set(e,t),t)}function jc(e,t){var n=nc(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(ul(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Ac(r,"already-initialized")}return n.initialize({options:t})}function Fc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function zc(){return"http:"===Bc()||"https:"===Bc()}function Bc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Hc(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(zc()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var qc=function(){function e(t,n){l(this,e),this.shortDelay=t,this.longDelay=n,Mc(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rl())||"object"===typeof navigator&&"ReactNative"===navigator.product}return f(e,[{key:"get",value:function(){return Hc()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function Wc(e,t){Mc(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Gc=function(){function e(){l(this,e)}return f(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Lc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Lc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Lc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Kc=(et(wc={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),et(wc,"MISSING_CUSTOM_TOKEN","internal-error"),et(wc,"INVALID_IDENTIFIER","invalid-email"),et(wc,"MISSING_CONTINUE_URI","internal-error"),et(wc,"INVALID_PASSWORD","wrong-password"),et(wc,"MISSING_PASSWORD","internal-error"),et(wc,"EMAIL_EXISTS","email-already-in-use"),et(wc,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),et(wc,"INVALID_IDP_RESPONSE","invalid-credential"),et(wc,"INVALID_PENDING_TOKEN","invalid-credential"),et(wc,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),et(wc,"MISSING_REQ_TYPE","internal-error"),et(wc,"EMAIL_NOT_FOUND","user-not-found"),et(wc,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),et(wc,"EXPIRED_OOB_CODE","expired-action-code"),et(wc,"INVALID_OOB_CODE","invalid-action-code"),et(wc,"MISSING_OOB_CODE","internal-error"),et(wc,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),et(wc,"INVALID_ID_TOKEN","invalid-user-token"),et(wc,"TOKEN_EXPIRED","user-token-expired"),et(wc,"USER_NOT_FOUND","user-token-expired"),et(wc,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),et(wc,"INVALID_CODE","invalid-verification-code"),et(wc,"INVALID_SESSION_INFO","invalid-verification-id"),et(wc,"INVALID_TEMPORARY_PROOF","invalid-credential"),et(wc,"MISSING_SESSION_INFO","missing-verification-id"),et(wc,"SESSION_EXPIRED","code-expired"),et(wc,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),et(wc,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),et(wc,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),et(wc,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),et(wc,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),et(wc,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),et(wc,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),et(wc,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),et(wc,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),et(wc,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),et(wc,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),wc),Qc=new qc(3e4,6e4);function Xc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Yc(e,t,n,r){return $c.apply(this,arguments)}function $c(){return $c=Ue(Le().mark((function e(t,n,r,i){var a,o=arguments;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Jc(t,a,Ue(Le().mark((function e(){var a,o,s,u;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=cl(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Gc.fetch()(nf(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),$c.apply(this,arguments)}function Jc(e,t,n){return Zc.apply(this,arguments)}function Zc(){return Zc=Ue(Le().mark((function e(t,n,r){var i,a,o,u,l,c,f,h,d,p;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Kc),n),e.prev=2,a=new rf(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw af(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(l=o.ok?u.errorMessage:u.error.message,c=l.split(" : "),f=s(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw af(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw af(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw af(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Rc(t,p,d);case 34:Ac(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof il)){e.next=41;break}throw e.t0;case 41:Ac(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Zc.apply(this,arguments)}function ef(e,t,n,r){return tf.apply(this,arguments)}function tf(){return tf=Ue(Le().mark((function e(t,n,r,i){var a,o,s=arguments;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Yc(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Ac(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),tf.apply(this,arguments)}function nf(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Wc(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var rf=function(){function e(t){var n=this;l(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Nc(n.auth,"network-request-failed"))}),Qc.get())}))}return f(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function af(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Nc(e,t,r);return i.customData._tokenResponse=n,i}function of(e,t){return sf.apply(this,arguments)}function sf(){return(sf=Ue(Le().mark((function e(t,n){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yc(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uf(e,t){return lf.apply(this,arguments)}function lf(){return(lf=Ue(Le().mark((function e(t,n){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yc(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cf(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function ff(){return ff=Ue(Le().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=vl(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Dc((a=df(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:cf(hf(a.auth_time)),issuedAtTime:cf(hf(a.iat)),expirationTime:cf(hf(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),ff.apply(this,arguments)}function hf(e){return 1e3*Number(e)}function df(e){var t,n=s(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return Ic("JWT malformed, contained fewer than 3 sections"),null;try{var o=tl(i);return o?JSON.parse(o):(Ic("Failed to decode base64 JWT payload"),null)}catch(u){return Ic("Caught error parsing JWT payload as JSON",null===(t=u)||void 0===t?void 0:t.toString()),null}}function pf(e,t){return vf.apply(this,arguments)}function vf(){return vf=Ue(Le().mark((function e(t,n){var r=arguments;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof il&&mf(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),vf.apply(this,arguments)}function mf(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var yf=function(){function e(t){l(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return f(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ue(Le().mark((function t(){return Le().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ue(Le().mark((function e(){var t;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),gf=function(){function e(t,n){l(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return f(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=cf(this.lastLoginAt),this.creationTime=cf(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function kf(e){return bf.apply(this,arguments)}function bf(){return bf=Ue(Le().mark((function e(t){var n,r,i,a,o,s,u,l,c,f,h;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,pf(t,uf(r,{idToken:i}));case 6:Dc(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Ef(o.providerUserInfo):[],u=xf(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!l&&c,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new gf(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),bf.apply(this,arguments)}function wf(){return(wf=Ue(Le().mark((function e(t){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vl(t),e.next=3,kf(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xf(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(u(n),u(t))}function Ef(e){return e.map((function(e){var t=e.providerId,n=Ir(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function _f(e,t){return Sf.apply(this,arguments)}function Sf(){return(Sf=Ue(Le().mark((function e(t,n){var r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jc(t,{},Ue(Le().mark((function e(){var r,i,a,o,s,u;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cl({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=nf(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Gc.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Tf=function(){function e(){l(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return f(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Dc(e.idToken,"internal-error"),Dc("undefined"!==typeof e.idToken,"internal-error"),Dc("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=df(e);return Dc(t,"internal-error"),Dc("undefined"!==typeof t.exp,"internal-error"),Dc("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ue(Le().mark((function e(t){var n,r=arguments;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Dc(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ue(Le().mark((function e(t,n){var r,i,a,o;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_f(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Lc("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Dc("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Dc("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Dc("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Cf(e,t){Dc("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var If=function(){function e(t){l(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Ir(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yf(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?u(a.providerData):[],this.metadata=new gf(a.createdAt||void 0,a.lastLoginAt||void 0)}return f(e,[{key:"getIdToken",value:function(){var e=Ue(Le().mark((function e(t){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pf(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Dc(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return ff.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return wf.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Dc(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Dc(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ue(Le().mark((function e(t){var n,r,i=arguments;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,kf(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ue(Le().mark((function e(){var t;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,pf(this,of(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,l,c,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(l=n.createdAt)&&void 0!==l?l:void 0,g=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;Dc(k&&E,t,"internal-error");var _=Tf.fromJSON(this.name,E);Dc("string"===typeof k,t,"internal-error"),Cf(f,t.name),Cf(h,t.name),Dc("boolean"===typeof b,t,"internal-error"),Dc("boolean"===typeof w,t,"internal-error"),Cf(d,t.name),Cf(p,t.name),Cf(v,t.name),Cf(m,t.name),Cf(y,t.name),Cf(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=Ue(Le().mark((function t(n,r){var i,a,o,s=arguments;return Le().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Tf).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,kf(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Af=function(){function e(){l(this,e),this.type="NONE",this.storage={}}return f(e,[{key:"_isAvailable",value:function(){var e=Ue(Le().mark((function e(){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ue(Le().mark((function e(t,n){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ue(Le().mark((function e(t){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ue(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Af.type="NONE";var Nf=Af;function Rf(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Pf=function(){function e(t,n,r){l(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Rf(this.userKey,a.apiKey,o),this.fullPersistenceKey=Rf("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return f(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ue(Le().mark((function e(){var t;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?If._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ue(Le().mark((function e(t){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ue(Le().mark((function t(n,r){var i,a,o,s,u,l,c,f,h,d,p,v=arguments;return Le().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Vc(Nf),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ue(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Vc(Nf),s=Rf(i,n.config.apiKey,n.name),u=null,l=Ut(r),t.prev=10,l.s();case 12:if((c=l.n()).done){t.next=29;break}return f=c.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=If._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ue(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Of(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Uf(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Df(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jf(t))return"Blackberry";if(Ff(t))return"Webos";if(Lf(t))return"Safari";if((t.includes("chrome/")||Mf(t))&&!t.includes("edge/"))return"Chrome";if(Vf(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Df(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rl();return/firefox\//i.test(e)}function Lf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rl(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Mf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rl();return/crios\//i.test(e)}function Uf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rl();return/iemobile/i.test(e)}function Vf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rl();return/android/i.test(e)}function jf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rl();return/blackberry/i.test(e)}function Ff(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rl();return/webos/i.test(e)}function zf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rl();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Bf(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rl();return zf(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Hf(){return function(){var e=rl();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function qf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rl();return zf(e)||Vf(e)||Ff(e)||jf(e)||/windows phone/i.test(e)||Uf(e)}function Wf(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Of(rl());break;case"Worker":t="".concat(Of(rl()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(oc,"/").concat(r)}var Gf=function(){function e(t){l(this,e),this.auth=t,this.queue=[]}return f(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Ue(Le().mark((function e(t){var n,r,i,a,o,s,u,l;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Ut(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),s=Ut(r);try{for(s.s();!(u=s.n()).done;){l=u.value;try{l()}catch(c){}}}catch(f){s.e(f)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Kf=function(){function e(t,n,r){l(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xf(this),this.idTokenSubscription=new Xf(this),this.beforeStateQueue=new Gf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tc,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return f(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Vc(t)),this._initializationPromise=this.queue(Ue(Le().mark((function r(){var i,a;return Le().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Pf.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ue(Le().mark((function e(){var t;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ue(Le().mark((function e(t){var n,r,i,a,o,s,u;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Dc(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ue(Le().mark((function e(t){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ue(Le().mark((function e(t){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,kf(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ue(Le().mark((function e(){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ue(Le().mark((function e(t){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?vl(t):null)&&Dc(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ue(Le().mark((function e(t){var n,r=this,i=arguments;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Dc(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Ue(Le().mark((function e(){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ue(Le().mark((function e(){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ue(Le().mark((function n(){return Le().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Vc(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new al("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ue(Le().mark((function e(t,n){var r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ue(Le().mark((function e(t){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Dc(n=t&&Vc(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Pf.create(this,[Vc(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ue(Le().mark((function e(t){var n,r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ue(Le().mark((function e(){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ue(Le().mark((function e(t){var n=this;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ue(Le().mark((function e(){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Dc(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ue(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Dc(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wf(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ue(Le().mark((function e(){var t,n,r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=et({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Qf(e){return vl(e)}var Xf=function(){function e(t){var n=this;l(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new dl(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return f(e,[{key:"next",get:function(){return Dc(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var Yf=function(){function e(t,n){l(this,e),this.providerId=t,this.signInMethod=n}return f(e,[{key:"toJSON",value:function(){return Lc("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Lc("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Lc("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Lc("not implemented")}}]),e}();function $f(e,t){return Jf.apply(this,arguments)}function Jf(){return(Jf=Ue(Le().mark((function e(t,n){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zf(e,t){return eh.apply(this,arguments)}function eh(){return(eh=Ue(Le().mark((function e(t,n){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ef(t,"POST","/v1/accounts:signInWithPassword",Xc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function th(e,t){return nh.apply(this,arguments)}function nh(){return(nh=Ue(Le().mark((function e(t,n){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ef(t,"POST","/v1/accounts:signInWithEmailLink",Xc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rh(e,t){return ih.apply(this,arguments)}function ih(){return(ih=Ue(Le().mark((function e(t,n){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ef(t,"POST","/v1/accounts:signInWithEmailLink",Xc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ah=function(e){d(n,e);var t=k(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return l(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return f(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ue(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Zf(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",th(t,{email:this._email,oobCode:this._password}));case 5:Ac(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ue(Le().mark((function e(t,n){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",$f(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",rh(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Ac(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Yf);function oh(e,t){return sh.apply(this,arguments)}function sh(){return(sh=Ue(Le().mark((function e(t,n){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ef(t,"POST","/v1/accounts:signInWithIdp",Xc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uh=function(e){d(n,e);var t=k(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return f(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return oh(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,oh(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,oh(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=cl(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ac("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Ir(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Yf);function lh(e,t){return ch.apply(this,arguments)}function ch(){return(ch=Ue(Le().mark((function e(t,n){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yc(t,"POST","/v1/accounts:sendVerificationCode",Xc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fh(){return(fh=Ue(Le().mark((function e(t,n){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ef(t,"POST","/v1/accounts:signInWithPhoneNumber",Xc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hh(){return(hh=Ue(Le().mark((function e(t,n){var r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ef(t,"POST","/v1/accounts:signInWithPhoneNumber",Xc(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw af(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dh=et({},"USER_NOT_FOUND","user-not-found");function ph(){return(ph=Ue(Le().mark((function e(t,n){var r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ef(t,"POST","/v1/accounts:signInWithPhoneNumber",Xc(t,r),dh));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vh=function(e){d(n,e);var t=k(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone","phone")).params=e,r}return f(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return fh.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return hh.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ph.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Yf);var mh=function(){function e(t){var n,r,i,a,o,s;l(this,e);var u=fl(hl(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,f=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Dc(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return f(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=fl(hl(e)).link,n=t?fl(hl(t)).deep_link_id:null,r=fl(hl(e)).deep_link_id;return(r?fl(hl(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(TS){return null}}}]),e}();var yh=function(){function e(){l(this,e),this.providerId=e.PROVIDER_ID}return f(e,null,[{key:"credential",value:function(e,t){return ah._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=mh.parseLink(t);return Dc(n,"argument-error"),ah._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();yh.PROVIDER_ID="password",yh.EMAIL_PASSWORD_SIGN_IN_METHOD="password",yh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var gh=function(){function e(t){l(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return f(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),kh=function(e){d(n,e);var t=k(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).scopes=[],e}return f(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return u(this.scopes)}}]),n}(gh),bh=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.call(this,"facebook.com")}return f(n,null,[{key:"credential",value:function(e){return uh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(TS){return null}}}]),n}(kh);bh.FACEBOOK_SIGN_IN_METHOD="facebook.com",bh.PROVIDER_ID="facebook.com";var wh=function(e){d(n,e);var t=k(n);function n(){var e;return l(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return f(n,null,[{key:"credential",value:function(e,t){return uh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(TS){return null}}}]),n}(kh);wh.GOOGLE_SIGN_IN_METHOD="google.com",wh.PROVIDER_ID="google.com";var xh=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.call(this,"github.com")}return f(n,null,[{key:"credential",value:function(e){return uh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(TS){return null}}}]),n}(kh);xh.GITHUB_SIGN_IN_METHOD="github.com",xh.PROVIDER_ID="github.com";var Eh=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.call(this,"twitter.com")}return f(n,null,[{key:"credential",value:function(e,t){return uh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(TS){return null}}}]),n}(kh);Eh.TWITTER_SIGN_IN_METHOD="twitter.com",Eh.PROVIDER_ID="twitter.com";var _h=function(){function e(t){l(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return f(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ue(Le().mark((function t(n,r,i){var a,o,s,u,l=arguments;return Le().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,If._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Sh(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ue(Le().mark((function t(n,r,i){var a;return Le().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Sh(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Sh(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Th=function(e){d(n,e);var t=k(n);function n(e,r,i,a){var o,s;return l(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(y(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return f(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(il);function Ch(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Th._fromErrorAndOperation(e,n,t,r);throw n}))}function Ih(e,t){return Ah.apply(this,arguments)}function Ah(){return Ah=Ue(Le().mark((function e(t,n){var r,i,a=arguments;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=pf,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",_h._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ah.apply(this,arguments)}function Nh(e,t){return Rh.apply(this,arguments)}function Rh(){return Rh=Ue(Le().mark((function e(t,n){var r,i,a,o,s,u,l,c=arguments;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,pf(t,Ch(a,o,n,t),r);case 6:return Dc((s=e.sent).idToken,a,"internal-error"),Dc(u=df(s.idToken),a,"internal-error"),l=u.sub,Dc(t.uid===l,a,"user-mismatch"),e.abrupt("return",_h._forOperation(t,o,s));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&Ac(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Rh.apply(this,arguments)}function Ph(e,t){return Oh.apply(this,arguments)}function Oh(){return Oh=Ue(Le().mark((function e(t,n){var r,i,a,o,s=arguments;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Ch(t,i,n);case 4:return a=e.sent,e.next=7,_h._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Oh.apply(this,arguments)}function Dh(e,t){return Yc(e,"POST","/v2/accounts/mfaEnrollment:start",Xc(e,t))}new WeakMap;var Lh="__sak",Mh=function(){function e(t,n){l(this,e),this.storageRetriever=t,this.type=n}return f(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch(TS){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Uh=function(e){d(n,e);var t=k(n);function n(){var e;return l(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=rl();return Lf(e)||zf(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=qf(),e._shouldAllowMigration=!0,e}return f(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Hf()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ue(Le().mark((function e(t,r){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$u(p(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ue(Le().mark((function e(t){var r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$u(p(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ue(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$u(p(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Mh);Uh.type="LOCAL";var Vh=Uh,jh=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return f(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Mh);jh.type="SESSION";var Fh=jh;function zh(e){return Promise.all(e.map(function(){var e=Ue(Le().mark((function e(t){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Bh=function(){function e(t){l(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return f(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ue(Le().mark((function e(t){var n,r,i,a,o,s,u,l;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Ue(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,zh(u);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:l});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Hh(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Bh.receivers=[];var qh=function(){function e(t){l(this,e),this.target=t,this.handlers=new Set}return f(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ue(Le().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var l=Hh("",20);i.port1.start();var c=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===l)switch(n.data.status){case"ack":clearTimeout(c),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(c),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Wh(){return window}function Gh(){return"undefined"!==typeof Wh().WorkerGlobalScope&&"function"===typeof Wh().importScripts}function Kh(){return Qh.apply(this,arguments)}function Qh(){return(Qh=Ue(Le().mark((function e(){var t;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Xh(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Yh="firebaseLocalStorageDb",$h="firebaseLocalStorage",Jh="fbase_key",Zh=function(){function e(t){l(this,e),this.request=t}return f(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ed(e,t){return e.transaction([$h],t?"readwrite":"readonly").objectStore($h)}function td(){var e=indexedDB.deleteDatabase(Yh);return new Zh(e).toPromise()}function nd(){var e=indexedDB.open(Yh,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore($h,{keyPath:Jh})}catch(r){n(r)}})),e.addEventListener("success",Ue(Le().mark((function n(){var r;return Le().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains($h)){n.next=12;break}return r.close(),n.next=5,td();case 5:return n.t0=t,n.next=8,nd();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function rd(e,t,n){return id.apply(this,arguments)}function id(){return id=Ue(Le().mark((function e(t,n,r){var i,a;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ed(t,!0).put((et(i={},Jh,n),et(i,"value",r),i)),e.abrupt("return",new Zh(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),id.apply(this,arguments)}function ad(e,t){return od.apply(this,arguments)}function od(){return od=Ue(Le().mark((function e(t,n){var r,i;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ed(t,!1).get(n),e.next=3,new Zh(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),od.apply(this,arguments)}function sd(e,t){var n=ed(e,!0).delete(t);return new Zh(n).toPromise()}var ud=function(){function e(){l(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return f(e,[{key:"_openDb",value:function(){var e=Ue(Le().mark((function e(){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,nd();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ue(Le().mark((function e(t){var n,r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ue(Le().mark((function e(){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gh()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ue(Le().mark((function e(){var t=this;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Bh._getInstance(Gh()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ue(Le().mark((function e(n,r){var i;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ue(Le().mark((function e(t,n){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ue(Le().mark((function e(){var t,n,r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kh();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new qh(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ue(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Xh()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ue(Le().mark((function e(){var t;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,nd();case 5:return t=e.sent,e.next=8,rd(t,Lh,"1");case 8:return e.next=10,sd(t,Lh);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ue(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ue(Le().mark((function e(t,n){var r=this;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ue(Le().mark((function e(){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return rd(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ue(Le().mark((function e(t){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return ad(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ue(Le().mark((function e(t){var n=this;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ue(Le().mark((function e(){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return sd(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ue(Le().mark((function e(){var t,n,r,i,a,o,s,u,l,c,f;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ed(e,!1).getAll();return new Zh(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Ut(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(l=0,c=Object.keys(this.localCache);l<c.length;l++)f=c[l],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ue(Le().mark((function t(){return Le().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();ud.type="LOCAL";var ld=ud;function cd(e,t){return Yc(e,"POST","/v2/accounts/mfaSignIn:start",Xc(e,t))}function fd(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Nc("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function hd(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}hd("rcb"),new qc(3e4,6e4);var dd="recaptcha";function pd(e,t,n){return vd.apply(this,arguments)}function vd(){return vd=Ue(Le().mark((function e(t,n,r){var i,a,o,s,u,l,c,f,h;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Dc("string"===typeof a,t,"argument-error"),Dc(r.type===dd,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Dc("enroll"===s.type,t,"internal-error"),e.next=13,Dh(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Dc("signin"===s.type,t,"internal-error"),Dc(l=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,cd(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return c=e.sent,e.abrupt("return",c.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,lh(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),vd.apply(this,arguments)}var md=function(){function e(t){l(this,e),this.providerId=e.PROVIDER_ID,this.auth=Qf(t)}return f(e,[{key:"verifyPhoneNumber",value:function(e,t){return pd(this.auth,e,vl(t))}}],[{key:"credential",value:function(e,t){return vh._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?vh._fromTokenResponse(n,r):null}}]),e}();function yd(e,t){return t?Vc(t):(Dc(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}md.PROVIDER_ID="phone",md.PHONE_SIGN_IN_METHOD="phone";var gd=function(e){d(n,e);var t=k(n);function n(e){var r;return l(this,n),(r=t.call(this,"custom","custom")).params=e,r}return f(n,[{key:"_getIdTokenResponse",value:function(e){return oh(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return oh(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return oh(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Yf);function kd(e){return Ph(e.auth,new gd(e),e.bypassAuthState)}function bd(e){var t=e.auth,n=e.user;return Dc(n,t,"internal-error"),Nh(n,new gd(e),e.bypassAuthState)}function wd(e){return xd.apply(this,arguments)}function xd(){return(xd=Ue(Le().mark((function e(t){var n,r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Dc(r=t.user,n,"internal-error"),e.abrupt("return",Ih(r,new gd(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ed=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];l(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return f(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ue(Le().mark((function t(n,r){return Le().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ue(Le().mark((function e(t){var n,r,i,a,o,s,u;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kd;case"linkViaPopup":case"linkViaRedirect":return wd;case"reauthViaPopup":case"reauthViaRedirect":return bd;default:Ac(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Mc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Mc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),_d=new qc(2e3,1e4);function Sd(e,t,n){return Td.apply(this,arguments)}function Td(){return(Td=Ue(Le().mark((function e(t,n,r){var i,a,o;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qf(t),Pc(t,n,gh),a=yd(i,r),o=new Cd(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Cd=function(e){d(n,e);var t=k(n);function n(e,r,i,a,o){var s;return l(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=y(s),s}return f(n,[{key:"executeNotNull",value:function(){var e=Ue(Le().mark((function e(){var t;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Dc(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ue(Le().mark((function e(){var t,n=this;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mc(1===this.filter.length,"Popup operations only handle one event"),t=Hh(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Nc(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Nc(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Nc(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,_d.get())}()}}]),n}(Ed);Cd.currentPopupAction=null;var Id=new Map,Ad=function(e){d(n,e);var t=k(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return f(n,[{key:"execute",value:function(){var e=Ue(Le().mark((function e(){var t,r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Id.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Nd(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,$u(p(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Id.set(this.auth._key(),t);case 21:return this.bypassAuthState||Id.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ue(Le().mark((function e(t){var r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",$u(p(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",$u(p(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ue(Le().mark((function e(){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Ed);function Nd(e,t){return Rd.apply(this,arguments)}function Rd(){return(Rd=Ue(Le().mark((function e(t,n){var r,i,a;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dd(n),i=Od(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pd(e,t){Id.set(e._key(),t)}function Od(e){return Vc(e._redirectPersistence)}function Dd(e){return Rf("pendingRedirect",e.config.apiKey,e.name)}function Ld(e,t){return Md.apply(this,arguments)}function Md(){return Md=Ue(Le().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Qf(t),a=yd(i,n),o=new Ad(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Md.apply(this,arguments)}var Ud=function(){function e(t){l(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return f(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jd(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!jd(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Nc(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vd(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Vd(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Vd(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function jd(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Fd(e){return zd.apply(this,arguments)}function zd(){return zd=Ue(Le().mark((function e(t){var n,r=arguments;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Yc(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),zd.apply(this,arguments)}var Bd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hd=/^https?/;function qd(){return(qd=Ue(Le().mark((function e(t){var n,r,i,a,o;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Fd(t);case 4:n=e.sent,r=n.authorizedDomains,i=Ut(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Wd(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Ac(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Wd(e){var t=Fc(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Hd.test(r))return!1;if(Bd.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Gd=new qc(3e4,6e4);function Kd(){var e=Wh().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=u(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Qd=null;function Xd(e){return Qd=Qd||function(e){return new Promise((function(t,n){var r,i,a;function o(){Kd(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Kd(),n(Nc(e,"network-request-failed"))},timeout:Gd.get()})}if(null===(i=null===(r=Wh().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Wh().gapi)||void 0===a?void 0:a.load)){var s=hd("iframefcb");return Wh()[s]=function(){gapi.load?o():n(Nc(e,"network-request-failed"))},fd("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Qd=null,e}))}(e),Qd}var Yd=new qc(5e3,15e3),$d={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zd(e){var t=e.config;Dc(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Wc(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:oc},i=Jd.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(cl(r).slice(1))}function ep(e){return tp.apply(this,arguments)}function tp(){return tp=Ue(Le().mark((function e(t){var n,r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xd(t);case 2:return n=e.sent,Dc(r=Wh().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Zd(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$d,dontclear:!0},(function(e){return new Promise(function(){var n=Ue(Le().mark((function n(r,i){var a,o,s;return Le().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Wh().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Nc(t,"network-request-failed"),o=Wh().setTimeout((function(){i(a)}),Yd.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),tp.apply(this,arguments)}var np={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rp="_blank",ip="http://localhost",ap=function(){function e(t){l(this,e),this.window=t,this.associatedEvent=null}return f(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function op(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",l=Object.assign(Object.assign({},np),{width:r.toString(),height:i.toString(),top:a,left:o}),c=rl().toLowerCase();n&&(u=Mf(c)?rp:n),Df(c)&&(t=t||ip,l.scrollbars="yes");var f=Object.entries(l).reduce((function(e,t){var n=s(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Bf(c)&&"_self"!==u)return sp(t||"",u),new ap(null);var h=window.open(t||"",u,f);Dc(h,e,"popup-blocked");try{h.focus()}catch(d){}return new ap(h)}function sp(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var up="__/auth/handler",lp="emulator/auth/handler";function cp(e,t,n,r,i,a){Dc(e.config.authDomain,e,"auth-domain-config-required"),Dc(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:oc,eventId:i};if(t instanceof gh){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,l=Object.entries(a||{});u<l.length;u++){var c=s(l[u],2),f=c[0],h=c[1];o[f]=h}}if(t instanceof kh){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(up);return Wc(t,lp)}(e),"?").concat(cl(p).slice(1))}var fp="webStorageSupport",hp=function(){function e(){l(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fh,this._completeRedirectFn=Ld,this._overrideRedirectResult=Pd}return f(e,[{key:"_openPopup",value:function(){var e=Ue(Le().mark((function e(t,n,r,i){var a,o;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mc(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=cp(t,n,r,Fc(),i),e.abrupt("return",op(t,o,Hh()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ue(Le().mark((function e(t,n,r,i){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=cp(t,n,r,Fc(),i),Wh().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Mc(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ue(Le().mark((function e(t){var n,r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ep(t);case 2:return n=e.sent,r=new Ud(t),n.register("authEvent",(function(e){return Dc(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(fp,{type:fp},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Ac(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return qd.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return qf()||Lf()||zf()}}]),e}(),dp=hp,pp=function(e){d(n,e);var t=k(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone")).credential=e,r}return f(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Yc(e,"POST","/v2/accounts/mfaEnrollment:finalize",Xc(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Yc(e,"POST","/v2/accounts/mfaSignIn:finalize",Xc(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){l(this,e),this.factorId=t}return f(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Lc("unexpected MultiFactorSessionType")}}}]),e}());(function(){function e(){l(this,e)}return f(e,null,[{key:"assertion",value:function(e){return pp._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var vp,mp="@firebase/auth",yp="0.20.7",gp=function(){function e(t){l(this,e),this.auth=t,this.internalListeners=new Map}return f(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ue(Le().mark((function e(t){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Dc(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();vp="Browser",tc(new ml("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){Dc(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Dc(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:vp,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wf(vp)},i=new Kf(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vc);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),tc(new ml("auth-internal",(function(e){return function(e){return new gp(e)}(Qf(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),uc(mp,yp,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(vp)),uc(mp,yp,"esm2017");uc("firebase","9.10.0","app");var kp,bp="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},wp={},xp=xp||{},Ep=bp||self;function _p(){}function Sp(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Tp(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Cp="closure_uid_"+(1e9*Math.random()>>>0),Ip=0;function Ap(e,t,n){return e.call.apply(e.bind,arguments)}function Np(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Rp(e,t,n){return(Rp=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ap:Np).apply(null,arguments)}function Pp(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Op(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Dp(){this.s=this.s,this.o=this.o}var Lp={};Dp.prototype.s=!1,Dp.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Cp)&&e[Cp]||(e[Cp]=++Ip)}(this);delete Lp[e]}},Dp.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Mp=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Up(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Vp(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Sp(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function jp(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}jp.prototype.h=function(){this.defaultPrevented=!0};var Fp=function(){if(!Ep.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ep.addEventListener("test",_p,t),Ep.removeEventListener("test",_p,t)}catch(la){}return e}();function zp(e){return/^[\s\xa0]*$/.test(e)}var Bp=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Hp(e,t){return e<t?-1:e>t?1:0}function qp(){var e=Ep.navigator;return e&&(e=e.userAgent)?e:""}function Wp(e){return-1!=qp().indexOf(e)}function Gp(e){return Gp[" "](e),e}Gp[" "]=_p;var Kp,Qp=Wp("Opera"),Xp=Wp("Trident")||Wp("MSIE"),Yp=Wp("Edge"),$p=Yp||Xp,Jp=Wp("Gecko")&&!(-1!=qp().toLowerCase().indexOf("webkit")&&!Wp("Edge"))&&!(Wp("Trident")||Wp("MSIE"))&&!Wp("Edge"),Zp=-1!=qp().toLowerCase().indexOf("webkit")&&!Wp("Edge");function ev(){var e=Ep.document;return e?e.documentMode:void 0}e:{var tv="",nv=function(){var e=qp();return Jp?/rv:([^\);]+)(\)|;)/.exec(e):Yp?/Edge\/([\d\.]+)/.exec(e):Xp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Zp?/WebKit\/(\S+)/.exec(e):Qp?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(nv&&(tv=nv?nv[1]:""),Xp){var rv=ev();if(null!=rv&&rv>parseFloat(tv)){Kp=String(rv);break e}}Kp=tv}var iv,av={};function ov(){return function(e){var t=av;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Bp(String(Kp)).split("."),n=Bp("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Hp(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Hp(0==a[2].length,0==o[2].length)||Hp(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Ep.document&&Xp){var sv=ev();iv=sv||(parseInt(Kp,10)||void 0)}else iv=void 0;var uv=iv;function lv(e,t){if(jp.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Jp){e:{try{Gp(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:cv[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&lv.X.h.call(this)}}Op(lv,jp);var cv={2:"touch",3:"pen",4:"mouse"};lv.prototype.h=function(){lv.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var fv="closure_listenable_"+(1e6*Math.random()|0),hv=0;function dv(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++hv,this.ba=this.ea=!1}function pv(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function vv(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function mv(e){var t={};for(var n in e)t[n]=e[n];return t}var yv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gv(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<yv.length;a++)n=yv[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function kv(e){this.src=e,this.g={},this.h=0}function bv(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Mp(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(pv(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function wv(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}kv.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=wv(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new dv(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var xv="closure_lm_"+(1e6*Math.random()|0),Ev={};function _v(e,t,n,r,i){if(r&&r.once)return Tv(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)_v(e,t[a],n,r,i);return null}return n=Ov(n),e&&e[fv]?e.N(t,n,Tp(r)?!!r.capture:!!r,i):Sv(e,t,n,!1,r,i)}function Sv(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Tp(i)?!!i.capture:!!i,s=Rv(e);if(s||(e[xv]=s=new kv(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Nv;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Fp||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Av(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Tv(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Tv(e,t[a],n,r,i);return null}return n=Ov(n),e&&e[fv]?e.O(t,n,Tp(r)?!!r.capture:!!r,i):Sv(e,t,n,!0,r,i)}function Cv(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Cv(e,t[a],n,r,i);else r=Tp(r)?!!r.capture:!!r,n=Ov(n),e&&e[fv]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=wv(a=e.g[t],n,r,i))&&(pv(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Rv(e))&&(t=e.g[t.toString()],e=-1,t&&(e=wv(t,n,r,i)),(n=-1<e?t[e]:null)&&Iv(n))}function Iv(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[fv])bv(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Av(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Rv(t))?(bv(n,e),0==n.h&&(n.src=null,t[xv]=null)):pv(e)}}}function Av(e){return e in Ev?Ev[e]:Ev[e]="on"+e}function Nv(e,t){if(e.ba)e=!0;else{t=new lv(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Iv(e),e=n.call(r,t)}return e}function Rv(e){return(e=e[xv])instanceof kv?e:null}var Pv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ov(e){return"function"===typeof e?e:(e[Pv]||(e[Pv]=function(t){return e.handleEvent(t)}),e[Pv])}function Dv(){Dp.call(this),this.i=new kv(this),this.P=this,this.I=null}function Lv(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new jp(t,e);else if(t instanceof jp)t.target=t.target||e;else{var i=t;gv(t=new jp(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Mv(o,r,!0,t)&&i}if(i=Mv(o=t.g=e,r,!0,t)&&i,i=Mv(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Mv(o=t.g=n[a],r,!1,t)&&i}function Mv(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&bv(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Op(Dv,Dp),Dv.prototype[fv]=!0,Dv.prototype.removeEventListener=function(e,t,n,r){Cv(this,e,t,n,r)},Dv.prototype.M=function(){if(Dv.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)pv(n[r]);delete t.g[e],t.h--}}this.I=null},Dv.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Dv.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Uv=Ep.JSON.stringify;function Vv(){var e=Gv,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var jv,Fv=function(){function e(){l(this,e),this.h=this.g=null}return f(e,[{key:"add",value:function(e,t){var n=zv.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),zv=new(function(){function e(t,n){l(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return f(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Bv}),(function(e){return e.reset()})),Bv=function(){function e(){l(this,e),this.next=this.g=this.h=null}return f(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Hv(e){Ep.setTimeout((function(){throw e}),0)}function qv(e,t){jv||function(){var e=Ep.Promise.resolve(void 0);jv=function(){e.then(Kv)}}(),Wv||(jv(),Wv=!0),Gv.add(e,t)}var Wv=!1,Gv=new Fv;function Kv(){for(var e;e=Vv();){try{e.h.call(e.g)}catch(la){Hv(la)}var t=zv;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Wv=!1}function Qv(e,t){Dv.call(this),this.h=e||1,this.g=t||Ep,this.j=Rp(this.kb,this),this.l=Date.now()}function Xv(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Yv(e,t,n){if("function"===typeof e)n&&(e=Rp(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Rp(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ep.setTimeout(e,t||0)}function $v(e){e.g=Yv((function(){e.g=null,e.i&&(e.i=!1,$v(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Op(Qv,Dv),(kp=Qv.prototype).ca=!1,kp.R=null,kp.kb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Lv(this,"tick"),this.ca&&(Xv(this),this.start()))}},kp.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},kp.M=function(){Qv.X.M.call(this),Xv(this),delete this.g};var Jv=function(e){d(n,e);var t=k(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return f(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:$v(this)}},{key:"M",value:function(){$u(p(n.prototype),"M",this).call(this),this.g&&(Ep.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Dp);function Zv(e){Dp.call(this),this.h=e,this.g={}}Op(Zv,Dp);var em=[];function tm(e,t,n,r){Array.isArray(n)||(n&&(em[0]=n.toString()),n=em);for(var i=0;i<n.length;i++){var a=_v(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function nm(e){vv(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Iv(e)}),e),e.g={}}function rm(){this.g=!0}function im(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Uv(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Zv.prototype.M=function(){Zv.X.M.call(this),nm(this)},Zv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rm.prototype.Aa=function(){this.g=!1},rm.prototype.info=function(){};var am={},om=null;function sm(){return om=om||new Dv}function um(e){jp.call(this,am.Oa,e)}function lm(e){var t=sm();Lv(t,new um(t,e))}function cm(e,t){jp.call(this,am.STAT_EVENT,e),this.stat=t}function fm(e){var t=sm();Lv(t,new cm(t,e))}function hm(e,t){jp.call(this,am.Pa,e),this.size=t}function dm(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ep.setTimeout((function(){e()}),t)}am.Oa="serverreachability",Op(um,jp),am.STAT_EVENT="statevent",Op(cm,jp),am.Pa="timingevent",Op(hm,jp);var pm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},vm={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function mm(){}function ym(e){return e.h||(e.h=e.i())}function gm(){}mm.prototype.h=null;var km,bm={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function wm(){jp.call(this,"d")}function xm(){jp.call(this,"c")}function Em(){}function _m(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Zv(this),this.O=Tm,e=$p?125:void 0,this.T=new Qv(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Sm}function Sm(){this.i=null,this.g="",this.h=!1}Op(wm,jp),Op(xm,jp),Op(Em,mm),Em.prototype.g=function(){return new XMLHttpRequest},Em.prototype.i=function(){return{}},km=new Em;var Tm=45e3,Cm={},Im={};function Am(e,t,n){e.K=1,e.v=Qm(Hm(t)),e.s=n,e.P=!0,Nm(e,null)}function Nm(e,t){e.F=Date.now(),Dm(e),e.A=Hm(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),sy(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Sm,e.g=sg(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Jv(Rp(e.Ka,e,e.g),e.N)),tm(e.S,e.g,"readystatechange",e.hb),t=e.H?mv(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),lm(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&"type"==f[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Rm(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Pm(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Om(e,n))==Im){4==t&&(e.o=4,fm(14),i=!1),im(e.j,e.m,null,"[Incomplete Response]");break}if(r==Cm){e.o=4,fm(15),im(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}im(e.j,e.m,r,null),jm(e,r)}Rm(e)&&r!=Im&&r!=Cm&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,fm(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zy(t),t.K=!0,fm(11))):(im(e.j,e.m,n,"[Invalid Chunked Response]"),Vm(e),Um(e))}function Om(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Im:(n=Number(t.substring(n,r)),isNaN(n)?Cm:(r+=1)+n>t.length?Im:(t=t.substr(r,n),e.C=r+n,t))}function Dm(e){e.V=Date.now()+e.O,Lm(e,e.O)}function Lm(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=dm(Rp(e.fb,e),t)}function Mm(e){e.B&&(Ep.clearTimeout(e.B),e.B=null)}function Um(e){0==e.l.G||e.I||ng(e.l,e)}function Vm(e){Mm(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Xv(e.T),nm(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function jm(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||py(n.h,e)))if(!e.J&&py(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;tg(n),Wy(n)}Jy(n),fm(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=dm(Rp(n.bb,n),6e3));if(1>=dy(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else ig(n,11)}else if((e.J||n.g==e)&&tg(n),!zp(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.h;f.g||-1==c.indexOf("spdy")&&-1==c.indexOf("quic")&&-1==c.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(vy(f,f.h),f.h=null))}if(r.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Km(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=og(r,r.H?r.ka:null,r.V),d.J){my(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Mm(p),Dm(p)),r.g=d}else $y(r);0<n.i.length&&Ky(n)}else"stop"!=a[0]&&"close"!=a[0]||ig(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?ig(n,7):qy(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}lm(4)}catch(a){}}function Fm(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Sp(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Sp(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Sp(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(kp=_m.prototype).setTimeout=function(e){this.O=e},kp.hb=function(e){e=e.target;var t=this.L;t&&3==Vy(e)?t.l():this.Ka(e)},kp.Ka=function(e){try{if(e==this.g)e:{var t=Vy(this.g),n=this.g.Ea(),r=this.g.aa();if(!(3>t)&&(3!=t||$p||this.g&&(this.h.h||this.g.fa()||jy(this.g)))){this.I||4!=t||7==n||lm(8==n||0>=r?3:2),Mm(this);var i=this.g.aa();this.Y=i;t:if(Rm(this)){var a=jy(this.g);e="";var o=a.length,s=4==Vy(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Vm(this),Um(this);var u="";break t}this.h.i=new Ep.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,i),this.i){if(this.Z&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zp(l)){var f=l;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,fm(12),Vm(this),Um(this);break e}im(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,jm(this,i)}this.P?(Pm(this,t,u),$p&&this.i&&3==t&&(tm(this.S,this.T,"tick",this.gb),this.T.start())):(im(this.j,this.m,u,null),jm(this,u)),4==t&&Vm(this),this.i&&!this.I&&(4==t?ng(this.l,this):(this.i=!1,Dm(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,fm(12)):(this.o=0,fm(13)),Vm(this),Um(this)}}}catch(t){}},kp.gb=function(){if(this.g){var e=Vy(this.g),t=this.g.fa();this.C<t.length&&(Mm(this),Pm(this,e,t),this.i&&4!=e&&Dm(this))}},kp.cancel=function(){this.I=!0,Vm(this)},kp.fb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(lm(3),fm(17)),Vm(this),this.o=2,Um(this)):Lm(this,this.V-e)};var zm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bm(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Bm){this.h=void 0!==t?t:e.h,qm(this,e.j),this.s=e.s,this.g=e.g,Wm(this,e.m),this.l=e.l,t=e.i;var n=new ry;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Gm(this,n),this.o=e.o}else e&&(n=String(e).match(zm))?(this.h=!!t,qm(this,n[1]||"",!0),this.s=Xm(n[2]||""),this.g=Xm(n[3]||"",!0),Wm(this,n[4]),this.l=Xm(n[5]||"",!0),Gm(this,n[6]||"",!0),this.o=Xm(n[7]||"")):(this.h=!!t,this.i=new ry(null,this.h))}function Hm(e){return new Bm(e)}function qm(e,t,n){e.j=n?Xm(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Wm(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Gm(e,t,n){t instanceof ry?(e.i=t,function(e,t){t&&!e.j&&(iy(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ay(this,t),sy(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ym(t,ty)),e.i=new ry(t,e.h))}function Km(e,t,n){e.i.set(t,n)}function Qm(e){return Km(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Xm(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ym(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,$m),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function $m(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Bm.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ym(t,Jm,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ym(t,Jm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ym(n,"/"==n.charAt(0)?ey:Zm,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ym(n,ny)),e.join("")};var Jm=/[#\/\?@]/g,Zm=/[#\?:]/g,ey=/[#\?]/g,ty=/[#\?@]/g,ny=/#/g;function ry(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function iy(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ay(e,t){iy(e),t=uy(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function oy(e,t){return iy(e),t=uy(e,t),e.g.has(t)}function sy(e,t,n){ay(e,t),0<n.length&&(e.i=null,e.g.set(uy(e,t),Up(n)),e.h+=n.length)}function uy(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(kp=ry.prototype).add=function(e,t){iy(this),this.i=null,e=uy(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},kp.forEach=function(e,t){iy(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},kp.oa=function(){iy(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},kp.W=function(e){iy(this);var t=[];if("string"===typeof e)oy(this,e)&&(t=t.concat(this.g.get(uy(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},kp.set=function(e,t){return iy(this),this.i=null,oy(this,e=uy(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},kp.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},kp.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var ly=f((function e(t,n){l(this,e),this.h=t,this.g=n}));function cy(e){this.l=e||fy,Ep.PerformanceNavigationTiming?e=0<(e=Ep.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ep.g&&Ep.g.Ga&&Ep.g.Ga()&&Ep.g.Ga().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fy=10;function hy(e){return!!e.h||!!e.g&&e.g.size>=e.j}function dy(e){return e.h?1:e.g?e.g.size:0}function py(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function vy(e,t){e.g?e.g.add(t):e.h=t}function my(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function yy(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Ut(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Up(e.i)}function gy(){}function ky(){this.g=new gy}function by(e,t,n){var r=n||"";try{Fm(e,(function(e,n){var i=e;Tp(e)&&(i=Uv(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function wy(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function xy(e){this.l=e.$b||null,this.j=e.ib||!1}function Ey(e,t){Dv.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=_y,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cy.prototype.cancel=function(){if(this.i=yy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Ut(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},gy.prototype.stringify=function(e){return Ep.JSON.stringify(e,void 0)},gy.prototype.parse=function(e){return Ep.JSON.parse(e,void 0)},Op(xy,mm),xy.prototype.g=function(){return new Ey(this.l,this.j)},xy.prototype.i=function(e){return function(){return e}}({}),Op(Ey,Dv);var _y=0;function Sy(e){e.j.read().then(e.Sa.bind(e)).catch(e.ga.bind(e))}function Ty(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Cy(e)}function Cy(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(kp=Ey.prototype).open=function(e,t){if(this.readyState!=_y)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Cy(this)},kp.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ep).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ga.bind(this))},kp.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ty(this)),this.readyState=_y},kp.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Cy(this)),this.g&&(this.readyState=3,Cy(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if("undefined"!==typeof Ep.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Sy(this)}else e.text().then(this.Ua.bind(this),this.ga.bind(this))},kp.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ty(this):Cy(this),3==this.readyState&&Sy(this)}},kp.Ua=function(e){this.g&&(this.response=this.responseText=e,Ty(this))},kp.Ta=function(e){this.g&&(this.response=e,Ty(this))},kp.ga=function(){this.g&&Ty(this)},kp.setRequestHeader=function(e,t){this.v.append(e,t)},kp.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},kp.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ey.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Iy=Ep.JSON.parse;function Ay(e){Dv.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ny,this.K=this.L=!1}Op(Ay,Dv);var Ny="",Ry=/^https?$/i,Py=["POST","PUT"];function Oy(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Dy(e),My(e)}function Dy(e){e.D||(e.D=!0,Lv(e,"complete"),Lv(e,"error"))}function Ly(e){if(e.h&&"undefined"!=typeof xp&&(!e.C[1]||4!=Vy(e)||2!=e.aa()))if(e.v&&4==Vy(e))Yv(e.Ha,0,e);else if(Lv(e,"readystatechange"),4==Vy(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(zm)[1]||null;if(!a&&Ep.self&&Ep.self.location){var o=Ep.self.location.protocol;a=o.substr(0,o.length-1)}i=!Ry.test(a?a.toLowerCase():"")}t=i}if(t)Lv(e,"complete"),Lv(e,"success");else{e.m=6;try{var s=2<Vy(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.aa()+"]",Dy(e)}}finally{My(e)}}}function My(e,t){if(e.g){Uy(e);var n=e.g,r=e.C[0]?_p:null;e.g=null,e.C=null,t||Lv(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Uy(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ep.clearTimeout(e.A),e.A=null)}function Vy(e){return e.g?e.g.readyState:0}function jy(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ny:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ua){return null}}function Fy(e){var t="";return vv(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function zy(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Fy(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Km(e,t,n))}function By(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Hy(e){this.Ca=0,this.i=[],this.j=new rm,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=By("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=By("baseRetryDelayMs",5e3,e),this.ab=By("retryDelaySeedMs",1e4,e),this.Za=By("forwardChannelMaxRetries",2,e),this.ta=By("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Yb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new cy(e&&e.concurrentRequestLimit),this.Fa=new ky,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=e&&e.Wb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function qy(e){if(Gy(e),3==e.G){var t=e.U++,n=Hm(e.F);Km(n,"SID",e.I),Km(n,"RID",t),Km(n,"TYPE","terminate"),Xy(e,n),(t=new _m(e,e.j,t,void 0)).K=2,t.v=Qm(Hm(n)),n=!1,Ep.navigator&&Ep.navigator.sendBeacon&&(n=Ep.navigator.sendBeacon(t.v.toString(),"")),!n&&Ep.Image&&((new Image).src=t.v,n=!0),n||(t.g=sg(t.l,null),t.g.da(t.v)),t.F=Date.now(),Dm(t)}ag(e)}function Wy(e){e.g&&(Zy(e),e.g.cancel(),e.g=null)}function Gy(e){Wy(e),e.u&&(Ep.clearTimeout(e.u),e.u=null),tg(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Ep.clearTimeout(e.m),e.m=null)}function Ky(e){hy(e.h)||e.m||(e.m=!0,qv(e.Ja,e),e.C=0)}function Qy(e,t){var n;n=t?t.m:e.U++;var r=Hm(e.F);Km(r,"SID",e.I),Km(r,"RID",n),Km(r,"AID",e.T),Xy(e,r),e.o&&e.s&&zy(r,e.o,e.s),n=new _m(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Yy(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),vy(e.h,n),Am(n,r,t)}function Xy(e,t){e.ia&&vv(e.ia,(function(e,n){Km(t,n,e)})),e.l&&Fm({},(function(e,n){Km(t,n,e)}))}function Yy(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Rp(e.l.Qa,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(0>(l-=a))a=Math.max(0,i[u].h-100),s=!1;else try{by(c,o,"req"+l+"_")}catch(Dg){r&&r(c)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function $y(e){e.g||e.u||(e.Z=1,qv(e.Ia,e),e.A=0)}function Jy(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=dm(Rp(e.Ia,e),rg(e,e.A)),e.A++,!0)}function Zy(e){null!=e.B&&(Ep.clearTimeout(e.B),e.B=null)}function eg(e){e.g=new _m(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Hm(e.sa);Km(t,"RID","rpc"),Km(t,"SID",e.I),Km(t,"CI",e.L?"0":"1"),Km(t,"AID",e.T),Km(t,"TYPE","xmlhttp"),Xy(e,t),e.o&&e.s&&zy(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Qm(Hm(t)),n.s=null,n.P=!0,Nm(n,e)}function tg(e){null!=e.v&&(Ep.clearTimeout(e.v),e.v=null)}function ng(e,t){var n=null;if(e.g==t){tg(e),Zy(e),e.g=null;var r=2}else{if(!py(e.h,t))return;n=t.D,my(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Lv(r=sm(),new hm(r,n,t,i)),Ky(e)}else $y(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(dy(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Ya?0:e.Za))&&(e.m=dm(Rp(e.Ja,e,t),rg(e,e.C)),e.C++,!0))}(e,t)||2==r&&Jy(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:ig(e,5);break;case 4:ig(e,10);break;case 3:ig(e,6);break;default:ig(e,2)}}function rg(e,t){var n=e.Wa+Math.floor(Math.random()*e.ab);return e.l||(n*=2),n*t}function ig(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Rp(e.jb,e);n||(n=new Bm("//www.google.com/images/cleardot.gif"),Ep.location&&"http"==Ep.location.protocol||qm(n,"https"),Qm(n)),function(e,t){var n=new rm;if(Ep.Image){var r=new Image;r.onload=Pp(wy,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Pp(wy,n,r,"TestLoadImage: error",!1,t),r.onabort=Pp(wy,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Pp(wy,n,r,"TestLoadImage: timeout",!1,t),Ep.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else fm(2);e.G=0,e.l&&e.l.va(t),ag(e),Gy(e)}function ag(e){if(e.G=0,e.la=[],e.l){var t=yy(e.h);0==t.length&&0==e.i.length||(Vp(e.la,t),Vp(e.la,e.i),e.h.i.length=0,Up(e.i),e.i.length=0),e.l.ua()}}function og(e,t,n){var r=n instanceof Bm?Hm(n):new Bm(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Wm(r,r.m);else{var i=Ep.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Bm(null,void 0);r&&qm(a,r),t&&(a.g=t),i&&Wm(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Km(r,n,t),Km(r,"VER",e.ma),Xy(e,r),r}function sg(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Ay(new xy({ib:!0})):new Ay(e.ra)).L=e.H,t}function ug(){}function lg(){if(Xp&&!(10<=Number(uv)))throw Error("Environmental error: no available transport.")}function cg(e,t){Dv.call(this),this.g=new Hy(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Xb)&&!zp(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!zp(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new dg(this)}function fg(e){wm.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hg(){xm.call(this),this.status=1}function dg(e){this.g=e}(kp=Ay.prototype).da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():km.g(),this.C=this.u?ym(this.u):ym(km),this.g.onreadystatechange=Rp(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void Oy(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Ut(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Ep.FormData&&e instanceof Ep.FormData,!(0<=Mp(Py,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var l,c=Ut(n);try{for(c.s();!(l=c.n()).done;){var f=s(l.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Uy(this),0<this.B&&((this.K=function(e){return Xp&&ov()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rp(this.qa,this)):this.A=Yv(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Oy(this,u)}},kp.qa=function(){"undefined"!=typeof xp&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lv(this,"timeout"),this.abort(8))},kp.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Lv(this,"complete"),Lv(this,"abort"),My(this))},kp.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),My(this,!0)),Ay.X.M.call(this)},kp.Ha=function(){this.s||(this.F||this.v||this.l?Ly(this):this.eb())},kp.eb=function(){Ly(this)},kp.aa=function(){try{return 2<Vy(this)?this.g.status:-1}catch(sa){return-1}},kp.fa=function(){try{return this.g?this.g.responseText:""}catch(sa){return""}},kp.Ra=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Iy(t)}},kp.Ea=function(){return this.m},kp.Na=function(){return"string"===typeof this.j?this.j:String(this.j)},(kp=Hy.prototype).ma=8,kp.G=1,kp.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new _m(this,this.j,e,void 0),n=this.s;if(this.S&&(n?gv(n=mv(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Yy(this,t,r),Km(i=Hm(this.F),"RID",e),Km(i,"CVER",22),this.D&&Km(i,"X-HTTP-Session-Id",this.D),Xy(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Fy(n)))+"&"+r:this.o&&zy(i,this.o,n)),vy(this.h,t),this.Xa&&Km(i,"TYPE","init"),this.O?(Km(i,"$req",r),Km(i,"SID","null"),t.Z=!0,Am(t,i,null)):Am(t,i,r),this.G=2}}else 3==this.G&&(e?Qy(this,e):0==this.i.length||hy(this.h)||Qy(this))},kp.Ia=function(){if(this.u=null,eg(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=dm(Rp(this.cb,this),e)}},kp.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,fm(10),Wy(this),eg(this))},kp.bb=function(){null!=this.v&&(this.v=null,Wy(this),Jy(this),fm(19))},kp.jb=function(e){e?(this.j.info("Successfully pinged google.com"),fm(2)):(this.j.info("Failed to ping google.com"),fm(1))},(kp=ug.prototype).xa=function(){},kp.wa=function(){},kp.va=function(){},kp.ua=function(){},kp.Qa=function(){},lg.prototype.g=function(e,t){return new cg(e,t)},Op(cg,Dv),cg.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;fm(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=og(e,null,e.V),Ky(e)},cg.prototype.close=function(){qy(this.g)},cg.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Uv(e),e=n);t.i.push(new ly(t.$a++,e)),3==t.G&&Ky(t)},cg.prototype.M=function(){this.g.l=null,delete this.j,qy(this.g),delete this.g,cg.X.M.call(this)},Op(fg,wm),Op(hg,xm),Op(dg,ug),dg.prototype.xa=function(){Lv(this.g,"a")},dg.prototype.wa=function(e){Lv(this.g,new fg(e))},dg.prototype.va=function(e){Lv(this.g,new hg(e))},dg.prototype.ua=function(){Lv(this.g,"b")},lg.prototype.createWebChannel=lg.prototype.g,cg.prototype.send=cg.prototype.u,cg.prototype.open=cg.prototype.m,cg.prototype.close=cg.prototype.close,pm.NO_ERROR=0,pm.TIMEOUT=8,pm.HTTP_ERROR=6,vm.COMPLETE="complete",gm.EventType=bm,bm.OPEN="a",bm.CLOSE="b",bm.ERROR="c",bm.MESSAGE="d",Dv.prototype.listen=Dv.prototype.N,Ay.prototype.listenOnce=Ay.prototype.O,Ay.prototype.getLastError=Ay.prototype.Na,Ay.prototype.getLastErrorCode=Ay.prototype.Ea,Ay.prototype.getStatus=Ay.prototype.aa,Ay.prototype.getResponseJson=Ay.prototype.Ra,Ay.prototype.getResponseText=Ay.prototype.fa,Ay.prototype.send=Ay.prototype.da;var pg=wp.createWebChannelTransport=function(){return new lg},vg=wp.getStatEventTarget=function(){return sm()},mg=wp.ErrorCode=pm,yg=wp.EventType=vm,gg=wp.Event=am,kg=wp.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},bg=wp.FetchXmlHttpFactory=xy,wg=wp.WebChannel=gm,xg=wp.XhrIo=Ay,Eg="@firebase/firestore",_g=function(){function e(t){l(this,e),this.uid=t}return f(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();_g.UNAUTHENTICATED=new _g(null),_g.GOOGLE_CREDENTIALS=new _g("google-credentials-uid"),_g.FIRST_PARTY=new _g("first-party-uid"),_g.MOCK_USER=new _g("mock-user");var Sg="9.10.0",Tg=new Cl("@firebase/firestore");function Cg(){return Tg.logLevel}function Ig(e){if(Tg.logLevel<=bl.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Rg);Tg.debug.apply(Tg,["Firestore (".concat(Sg,"): ").concat(e)].concat(u(i)))}}function Ag(e){if(Tg.logLevel<=bl.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Rg);Tg.error.apply(Tg,["Firestore (".concat(Sg,"): ").concat(e)].concat(u(i)))}}function Ng(e){if(Tg.logLevel<=bl.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Rg);Tg.warn.apply(Tg,["Firestore (".concat(Sg,"): ").concat(e)].concat(u(i)))}}function Rg(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Pg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Sg,") INTERNAL ASSERTION FAILED: ")+e;throw Ag(t),new Error(t)}function Og(e,t){e||Pg()}function Dg(e,t){return e}var Lg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Mg=function(e){d(n,e);var t=k(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return f(n)}(il),Ug=f((function e(){var t=this;l(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Vg=f((function e(t,n){l(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),jg=function(){function e(){l(this,e)}return f(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(_g.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Fg=function(){function e(t){l(this,e),this.t=t,this.currentUser=_g.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return f(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Ug;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Ug,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ue(Le().mark((function e(){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Ig("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Ig("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ug)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Ig("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Og("string"==typeof n.accessToken),new Vg(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Og(null===e||"string"==typeof e),new _g(e)}}]),e}(),zg=function(){function e(t,n,r,i){l(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=_g.FIRST_PARTY,this.p=new Map}return f(e,[{key:"I",value:function(){return this.g?this.g():(Og(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Bg=function(){function e(t,n,r,i){l(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return f(e,[{key:"getToken",value:function(){return Promise.resolve(new zg(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(_g.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Hg=f((function e(t){l(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),qg=function(){function e(t){l(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return f(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Ig("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Ig("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Ig("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Ig("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Og("string"==typeof t.token),e.A=t.token,new Hg(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Wg(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Gg=function(){function e(){l(this,e)}return f(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Wg(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Kg(e,t){return e<t?-1:e>t?1:0}function Qg(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Xg=function(){function e(t,n){if(l(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Mg(Lg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Mg(Lg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Mg(Lg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Mg(Lg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return f(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Kg(this.nanoseconds,e.nanoseconds):Kg(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Yg=function(){function e(t){l(this,e),this.timestamp=t}return f(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Xg(0,0))}},{key:"max",value:function(){return new e(new Xg(253402300799,999999999))}}]),e}(),$g=function(){function e(t,n,r){l(this,e),void 0===n?n=0:n>t.length&&Pg(),void 0===r?r=t.length-n:r>t.length-n&&Pg(),this.segments=t,this.offset=n,this.len=r}return f(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Jg=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Mg(Lg.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,u(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}($g),Zg=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ek=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Zg.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Mg(Lg.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Mg(Lg.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Mg(Lg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Mg(Lg.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}($g),tk=function(){function e(t){l(this,e),this.path=t}return f(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Jg.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Jg.fromString(t))}},{key:"fromName",value:function(t){return new e(Jg.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Jg.emptyPath())}},{key:"comparator",value:function(e,t){return Jg.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Jg(t.slice()))}}]),e}(),nk=f((function e(t,n,r,i){l(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));nk.UNKNOWN_ID=-1;function rk(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Yg.fromTimestamp(1e9===r?new Xg(n+1,0):new Xg(n,r));return new ak(i,tk.empty(),t)}function ik(e){return new ak(e.readTime,e.key,-1)}var ak=function(){function e(t,n,r){l(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return f(e,null,[{key:"min",value:function(){return new e(Yg.min(),tk.empty(),-1)}},{key:"max",value:function(){return new e(Yg.max(),tk.empty(),-1)}}]),e}();function ok(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=tk.comparator(e.documentKey,t.documentKey))?n:Kg(e.largestBatchId,t.largestBatchId)}var sk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",uk=function(){function e(){l(this,e),this.onCommittedListeners=[]}return f(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function lk(e){return ck.apply(this,arguments)}function ck(){return ck=Ue(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Lg.FAILED_PRECONDITION&&t.message===sk){e.next=2;break}throw t;case 2:Ig("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),ck.apply(this,arguments)}var fk=function(){function e(t){var n=this;l(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return f(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Pg(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Ut(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function hk(e){return"IndexedDbTransactionError"===e.name}var dk=function(){function e(t,n){var r=this;l(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return f(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function pk(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function vk(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function mk(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}dk.at=-1;var yk=function(){function e(t,n){l(this,e),this.comparator=t,this.root=n||kk.EMPTY}return f(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,kk.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,kk.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new gk(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new gk(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new gk(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new gk(this.root,e,this.comparator,!0)}}]),e}(),gk=function(){function e(t,n,r,i){l(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return f(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),kk=function(){function e(t,n,r,i,a){l(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return f(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Pg();if(this.right.isRed())throw Pg();var e=this.left.check();if(e!==this.right.check())throw Pg();return e+(this.isRed()?0:1)}}]),e}();kk.EMPTY=null,kk.RED=!0,kk.BLACK=!1,kk.EMPTY=new(function(){function e(){l(this,e),this.size=0}return f(e,[{key:"key",get:function(){throw Pg()}},{key:"value",get:function(){throw Pg()}},{key:"color",get:function(){throw Pg()}},{key:"left",get:function(){throw Pg()}},{key:"right",get:function(){throw Pg()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new kk(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var bk=function(){function e(t){l(this,e),this.comparator=t,this.data=new yk(this.comparator)}return f(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new wk(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new wk(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),wk=function(){function e(t){l(this,e),this.iter=t}return f(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var xk=function(){function e(t){l(this,e),this.fields=t,t.sort(ek.comparator)}return f(e,[{key:"unionWith",value:function(t){var n,r=new bk(ek.comparator),i=Ut(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,s=Ut(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(l){s.e(l)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Ut(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Qg(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Ek=function(e){function t(e){l(this,t),this.binaryString=e}return f(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Kg(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Ek.EMPTY_BYTE_STRING=new Ek("");var _k=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sk(e){if(Og(!!e),"string"==typeof e){var t=0,n=_k.exec(e);if(Og(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Tk(e.seconds),nanos:Tk(e.nanos)}}function Tk(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ck(e){return"string"==typeof e?Ek.fromBase64String(e):Ek.fromUint8Array(e)}function Ik(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ak(e){var t=e.mapValue.fields.__previous_value__;return Ik(t)?Ak(t):t}function Nk(e){var t=Sk(e.mapValue.fields.__local_write_time__.timestampValue);return new Xg(t.seconds,t.nanos)}var Rk=f((function e(t,n,r,i,a,o,s,u){l(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Pk=function(){function e(t,n){l(this,e),this.projectId=t,this.database=n||"(default)"}return f(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Ok(e){return null==e}function Dk(e){return 0===e&&1/e==-1/0}function Lk(e){return"number"==typeof e&&Number.isInteger(e)&&!Dk(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Mk={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Uk(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ik(e)?4:Yk(e)?9007199254740991:10:Pg()}function Vk(e,t){if(e===t)return!0;var n=Uk(e);if(n!==Uk(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Nk(e).isEqual(Nk(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Sk(e.timestampValue),r=Sk(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ck(e.bytesValue).isEqual(Ck(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Tk(e.geoPointValue.latitude)===Tk(t.geoPointValue.latitude)&&Tk(e.geoPointValue.longitude)===Tk(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Tk(e.integerValue)===Tk(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Tk(e.doubleValue),r=Tk(t.doubleValue);return n===r?Dk(n)===Dk(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Qg(e.arrayValue.values||[],t.arrayValue.values||[],Vk);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(pk(n)!==pk(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Vk(n[i],r[i])))return!1;return!0}(e,t);default:return Pg()}}function jk(e,t){return void 0!==(e.values||[]).find((function(e){return Vk(e,t)}))}function Fk(e,t){if(e===t)return 0;var n=Uk(e),r=Uk(t);if(n!==r)return Kg(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Kg(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Tk(e.integerValue||e.doubleValue),r=Tk(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return zk(e.timestampValue,t.timestampValue);case 4:return zk(Nk(e),Nk(t));case 5:return Kg(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ck(e),r=Ck(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Kg(n[i],r[i]);if(0!==a)return a}return Kg(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Kg(Tk(e.latitude),Tk(t.latitude));return 0!==n?n:Kg(Tk(e.longitude),Tk(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Fk(n[i],r[i]);if(a)return a}return Kg(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Mk.mapValue&&t===Mk.mapValue)return 0;if(e===Mk.mapValue)return 1;if(t===Mk.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Kg(r[o],a[o]);if(0!==s)return s;var u=Fk(n[r[o]],i[a[o]]);if(0!==u)return u}return Kg(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Pg()}}function zk(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Kg(e,t);var n=Sk(e),r=Sk(t),i=Kg(n.seconds,r.seconds);return 0!==i?i:Kg(n.nanos,r.nanos)}function Bk(e){return Hk(e)}function Hk(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Sk(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ck(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,tk.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Ut(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Hk(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Ut(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Hk(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Pg();var t,n}function qk(e){return!!e&&"integerValue"in e}function Wk(e){return!!e&&"arrayValue"in e}function Gk(e){return!!e&&"nullValue"in e}function Kk(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Qk(e){return!!e&&"mapValue"in e}function Xk(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return vk(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Xk(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Xk(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Yk(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var $k=function(){function e(t){l(this,e),this.value=t}return f(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Qk(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xk(t)}},{key:"setAll",value:function(e){var t=this,n=ek.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Xk(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Qk(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Vk(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Qk(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){vk(t,(function(t,n){return e[t]=n}));var r,i=Ut(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Xk(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Jk(e){var t=[];return vk(e.fields,(function(e,n){var r=new ek([e]);if(Qk(n)){var i=Jk(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Ut(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new xk(t)}var Zk=function(){function e(t,n,r,i,a,o){l(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return f(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=$k.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=$k.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Yg.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Yg.min(),Yg.min(),$k.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Yg.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Yg.min(),$k.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Yg.min(),$k.empty(),2)}}]),e}(),eb=f((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;l(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ht=null}));function tb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new eb(e,t,n,r,i,a,o)}function nb(e){var t=Dg(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Bk(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ok(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Bk(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Bk(e)})).join(",")),t.ht=n}return t.ht}function rb(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!mb(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Vk(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!gb(e.startAt,t.startAt)&&gb(e.endAt,t.endAt)}function ib(e){return tk.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var ab=function(e){d(n,e);var t=k(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return f(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Fk(t,this.value)):null!==t&&Uk(this.value)===Uk(t)&&this.ft(Fk(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pg()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new ob(e,t,r):"array-contains"===t?new cb(e,r):"in"===t?new fb(e,r):"not-in"===t?new hb(e,r):"array-contains-any"===t?new db(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new sb(e,n):new ub(e,n)}}]),n}(function(){return f((function e(){l(this,e)}))}()),ob=function(e){d(n,e);var t=k(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,e,r,i)).key=tk.fromName(i.referenceValue),a}return f(n,[{key:"matches",value:function(e){var t=tk.comparator(e.key,this.key);return this.ft(t)}}]),n}(ab),sb=function(e){d(n,e);var t=k(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,"in",r)).keys=lb("in",r),i}return f(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ab),ub=function(e){d(n,e);var t=k(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,"not-in",r)).keys=lb("not-in",r),i}return f(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ab);function lb(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return tk.fromName(e.referenceValue)}))}var cb=function(e){d(n,e);var t=k(n);function n(e,r){return l(this,n),t.call(this,e,"array-contains",r)}return f(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Wk(t)&&jk(t.arrayValue,this.value)}}]),n}(ab),fb=function(e){d(n,e);var t=k(n);function n(e,r){return l(this,n),t.call(this,e,"in",r)}return f(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&jk(this.value.arrayValue,t)}}]),n}(ab),hb=function(e){d(n,e);var t=k(n);function n(e,r){return l(this,n),t.call(this,e,"not-in",r)}return f(n,[{key:"matches",value:function(e){if(jk(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!jk(this.value.arrayValue,t)}}]),n}(ab),db=function(e){d(n,e);var t=k(n);function n(e,r){return l(this,n),t.call(this,e,"array-contains-any",r)}return f(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Wk(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return jk(t.value.arrayValue,e)}))}}]),n}(ab),pb=f((function e(t,n){l(this,e),this.position=t,this.inclusive=n})),vb=f((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";l(this,e),this.field=t,this.dir=n}));function mb(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function yb(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?tk.comparator(tk.fromName(o.referenceValue),n.key):Fk(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function gb(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Vk(e.position[n],t.position[n]))return!1;return!0}var kb=f((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;l(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this._t=null,this.wt=null,this.startAt,this.endAt}));function bb(e,t,n,r,i,a,o,s){return new kb(e,t,n,r,i,a,o,s)}function wb(e){return new kb(e)}function xb(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Eb(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function _b(e){var t,n=Ut(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Sb(e){return null!==e.collectionGroup}function Tb(e){var t=Dg(e);if(null===t._t){t._t=[];var n=_b(t),r=Eb(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new vb(n)),t._t.push(new vb(ek.keyField(),"asc"));else{var i,a=!1,o=Ut(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t._t.push(s),s.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new vb(ek.keyField(),u))}}}return t._t}function Cb(e){var t=Dg(e);if(!t.wt)if("F"===t.limitType)t.wt=tb(t.path,t.collectionGroup,Tb(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Ut(Tb(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new vb(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var s=t.endAt?new pb(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new pb(t.startAt.position,t.startAt.inclusive):null;t.wt=tb(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.wt}function Ib(e,t,n){return new kb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ab(e,t){return rb(Cb(e),Cb(t))&&e.limitType===t.limitType}function Nb(e){return"".concat(nb(Cb(e)),"|lt:").concat(e.limitType)}function Rb(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Bk(t.value));var t})).join(", "),"]")),Ok(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Bk(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Bk(e)})).join(",")),"Target(".concat(t,")")}(Cb(e)),"; limitType=").concat(e.limitType,")")}function Pb(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):tk.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Ut(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Ut(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=yb(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Tb(e),t))&&!(e.endAt&&!function(e,t,n){var r=yb(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Tb(e),t))}(e,t)}function Ob(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Db(e){return function(t,n){var r,i=!1,a=Ut(Tb(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Lb(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Lb(e,t,n){var r=e.field.isKeyField()?tk.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Fk(r,i):Pg()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Pg()}}function Mb(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dk(t)?"-0":t}}function Ub(e){return{integerValue:""+e}}function Vb(e,t){return Lk(t)?Ub(t):Mb(e,t)}var jb=f((function e(){l(this,e),this._=void 0}));function Fb(e,t,n){return e instanceof Hb?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof qb?Wb(e,t):e instanceof Gb?Kb(e,t):function(e,t){var n=Bb(e,t),r=Xb(n)+Xb(e.yt);return qk(n)&&qk(e.yt)?Ub(r):Mb(e.It,r)}(e,t)}function zb(e,t,n){return e instanceof qb?Wb(e,t):e instanceof Gb?Kb(e,t):n}function Bb(e,t){return e instanceof Qb?qk(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Hb=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n)}(jb),qb=function(e){d(n,e);var t=k(n);function n(e){var r;return l(this,n),(r=t.call(this)).elements=e,r}return f(n)}(jb);function Wb(e,t){var n,r=Yb(t),i=Ut(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Vk(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Gb=function(e){d(n,e);var t=k(n);function n(e){var r;return l(this,n),(r=t.call(this)).elements=e,r}return f(n)}(jb);function Kb(e,t){var n,r=Yb(t),i=Ut(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Vk(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Qb=function(e){d(n,e);var t=k(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).It=e,i.yt=r,i}return f(n)}(jb);function Xb(e){return Tk(e.integerValue||e.doubleValue)}function Yb(e){return Wk(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var $b=f((function e(t,n){l(this,e),this.version=t,this.transformResults=n})),Jb=function(){function e(t,n){l(this,e),this.updateTime=t,this.exists=n}return f(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Zb(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ew=f((function e(){l(this,e)}));function tw(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new dw(e.key,Jb.none()):new ow(e.key,e.data,Jb.none());var n,r=e.data,i=$k.empty(),a=new bk(ek.comparator),o=Ut(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(l){o.e(l)}finally{o.f()}return new sw(e.key,i,new xk(a.toArray()),Jb.none())}function nw(e,t,n){e instanceof ow?function(e,t,n){var r=e.value.clone(),i=lw(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof sw?function(e,t,n){if(Zb(e.precondition,t)){var r=lw(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(uw(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function rw(e,t,n,r){return e instanceof ow?function(e,t,n,r){if(!Zb(e.precondition,t))return n;var i=e.value.clone(),a=cw(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof sw?function(e,t,n,r){if(!Zb(e.precondition,t))return n;var i=cw(e.fieldTransforms,r,t),a=t.data;return a.setAll(uw(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Zb(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function iw(e,t){var n,r=null,i=Ut(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Bb(a.transform,o||null);null!=s&&(null===r&&(r=$k.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function aw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Qg(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof qb&&t instanceof qb||e instanceof Gb&&t instanceof Gb?Qg(e.elements,t.elements,Vk):e instanceof Qb&&t instanceof Qb?Vk(e.yt,t.yt):e instanceof Hb&&t instanceof Hb}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var ow=function(e){d(n,e);var t=k(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return l(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return f(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ew),sw=function(e){d(n,e);var t=k(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return l(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return f(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(ew);function uw(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function lw(e,t,n){var r=new Map;Og(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,zb(o,s,n[i]))}return r}function cw(e,t,n){var r,i=new Map,a=Ut(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Fb(s,u,t))}}catch(l){a.e(l)}finally{a.f()}return i}var fw,hw,dw=function(e){d(n,e);var t=k(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return f(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ew),pw=function(e){d(n,e);var t=k(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return f(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ew),vw=f((function e(t){l(this,e),this.count=t}));function mw(e){switch(e){default:return Pg();case Lg.CANCELLED:case Lg.UNKNOWN:case Lg.DEADLINE_EXCEEDED:case Lg.RESOURCE_EXHAUSTED:case Lg.INTERNAL:case Lg.UNAVAILABLE:case Lg.UNAUTHENTICATED:return!1;case Lg.INVALID_ARGUMENT:case Lg.NOT_FOUND:case Lg.ALREADY_EXISTS:case Lg.PERMISSION_DENIED:case Lg.FAILED_PRECONDITION:case Lg.ABORTED:case Lg.OUT_OF_RANGE:case Lg.UNIMPLEMENTED:case Lg.DATA_LOSS:return!0}}function yw(e){if(void 0===e)return Ag("GRPC error has no .code"),Lg.UNKNOWN;switch(e){case fw.OK:return Lg.OK;case fw.CANCELLED:return Lg.CANCELLED;case fw.UNKNOWN:return Lg.UNKNOWN;case fw.DEADLINE_EXCEEDED:return Lg.DEADLINE_EXCEEDED;case fw.RESOURCE_EXHAUSTED:return Lg.RESOURCE_EXHAUSTED;case fw.INTERNAL:return Lg.INTERNAL;case fw.UNAVAILABLE:return Lg.UNAVAILABLE;case fw.UNAUTHENTICATED:return Lg.UNAUTHENTICATED;case fw.INVALID_ARGUMENT:return Lg.INVALID_ARGUMENT;case fw.NOT_FOUND:return Lg.NOT_FOUND;case fw.ALREADY_EXISTS:return Lg.ALREADY_EXISTS;case fw.PERMISSION_DENIED:return Lg.PERMISSION_DENIED;case fw.FAILED_PRECONDITION:return Lg.FAILED_PRECONDITION;case fw.ABORTED:return Lg.ABORTED;case fw.OUT_OF_RANGE:return Lg.OUT_OF_RANGE;case fw.UNIMPLEMENTED:return Lg.UNIMPLEMENTED;case fw.DATA_LOSS:return Lg.DATA_LOSS;default:return Pg()}}(hw=fw||(fw={}))[hw.OK=0]="OK",hw[hw.CANCELLED=1]="CANCELLED",hw[hw.UNKNOWN=2]="UNKNOWN",hw[hw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hw[hw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hw[hw.NOT_FOUND=5]="NOT_FOUND",hw[hw.ALREADY_EXISTS=6]="ALREADY_EXISTS",hw[hw.PERMISSION_DENIED=7]="PERMISSION_DENIED",hw[hw.UNAUTHENTICATED=16]="UNAUTHENTICATED",hw[hw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hw[hw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hw[hw.ABORTED=10]="ABORTED",hw[hw.OUT_OF_RANGE=11]="OUT_OF_RANGE",hw[hw.UNIMPLEMENTED=12]="UNIMPLEMENTED",hw[hw.INTERNAL=13]="INTERNAL",hw[hw.UNAVAILABLE=14]="UNAVAILABLE",hw[hw.DATA_LOSS=15]="DATA_LOSS";var gw=function(){function e(t,n){l(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return f(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Ut(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(l){i.e(l)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){vk(this.inner,(function(t,n){var r,i=Ut(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(l){i.e(l)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return mk(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),kw=new yk(tk.comparator);function bw(){return kw}var ww=new yk(tk.comparator);function xw(){for(var e=ww,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Ew(e){var t=ww;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function _w(){return Tw()}function Sw(){return Tw()}function Tw(){return new gw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Cw=new yk(tk.comparator),Iw=new bk(tk.comparator);function Aw(){for(var e=Iw,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Nw=new bk(Kg);function Rw(){return Nw}var Pw=function(){function e(t,n,r,i,a){l(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return f(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Ow.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Yg.min(),r,Rw(),bw(),Aw())}}]),e}(),Ow=function(){function e(t,n,r,i,a){l(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return f(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Ek.EMPTY_BYTE_STRING,n,Aw(),Aw(),Aw())}}]),e}(),Dw=f((function e(t,n,r,i){l(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),Lw=f((function e(t,n){l(this,e),this.targetId=t,this.At=n})),Mw=f((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ek.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;l(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Uw=function(){function e(){l(this,e),this.Rt=0,this.bt=Fw(),this.Pt=Ek.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return f(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=Aw(),t=Aw(),n=Aw();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Pg()}})),new Ow(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=Fw()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Mt",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Ot",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),Vw=function(){function e(t){l(this,e),this.Bt=t,this.Lt=new Map,this.Ut=bw(),this.qt=jw(),this.Kt=new bk(Kg)}return f(e,[{key:"Gt",value:function(e){var t,n=Ut(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(s){n.e(s)}finally{n.f()}var i,a=Ut(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:Pg()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(ib(i))if(0===n){var a=new tk(i.path);this.jt(t,a,Zk.newNoDocument(a,Yg.min()))}else Og(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&ib(a.target)){var o=new tk(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,Zk.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=Aw();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new Pw(e,n,this.Kt,this.Ut,r);return this.Ut=bw(),this.qt=jw(),this.Kt=new bk(Kg),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.zt(e).Ot()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new Uw,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new bk(Kg),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||Ig("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new Uw),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function jw(){return new yk(tk.comparator)}function Fw(){return new yk(tk.comparator)}var zw={asc:"ASCENDING",desc:"DESCENDING"},Bw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hw=f((function e(t,n){l(this,e),this.databaseId=t,this.gt=n}));function qw(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ww(e,t){return e.gt?t.toBase64():t.toUint8Array()}function Gw(e,t){return qw(e,t.toTimestamp())}function Kw(e){return Og(!!e),Yg.fromTimestamp(function(e){var t=Sk(e);return new Xg(t.seconds,t.nanos)}(e))}function Qw(e,t){return function(e){return new Jg(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Xw(e){var t=Jg.fromString(e);return Og(vx(t)),t}function Yw(e,t){return Qw(e.databaseId,t.path)}function $w(e,t){var n=Xw(t);if(n.get(1)!==e.databaseId.projectId)throw new Mg(Lg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Mg(Lg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new tk(tx(n))}function Jw(e,t){return Qw(e.databaseId,t)}function Zw(e){var t=Xw(e);return 4===t.length?Jg.emptyPath():tx(t)}function ex(e){return new Jg(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function tx(e){return Og(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function nx(e,t,n){return{name:Yw(e,t),fields:n.value.mapValue.fields}}function rx(e,t){var n;if(t instanceof ow)n={update:nx(e,t.key,t.value)};else if(t instanceof dw)n={delete:Yw(e,t.key)};else if(t instanceof sw)n={update:nx(e,t.key,t.data),updateMask:px(t.fieldMask)};else{if(!(t instanceof pw))return Pg();n={verify:Yw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Hb)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof qb)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Gb)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Qb)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw Pg()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Gw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Pg()}(e,t.precondition)),n}function ix(e,t){return{documents:[Jw(e,t.path)]}}function ax(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Jw(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Jw(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Kk(e.value))return{unaryFilter:{field:cx(e.field),op:"IS_NAN"}};if(Gk(e.value))return{unaryFilter:{field:cx(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Kk(e.value))return{unaryFilter:{field:cx(e.field),op:"IS_NOT_NAN"}};if(Gk(e.value))return{unaryFilter:{field:cx(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cx(e.field),op:lx(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:cx(e.field),direction:ux(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.gt||Ok(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function ox(e){var t=Zw(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Og(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=sx(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new vb(fx(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Ok(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new pb(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new pb(n,t)}(n.endAt)),bb(t,i,s,o,u,"F",l,c)}function sx(e){return e?void 0!==e.unaryFilter?[dx(e)]:void 0!==e.fieldFilter?[hx(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return sx(e)})).reduce((function(e,t){return e.concat(t)})):Pg():[]}function ux(e){return zw[e]}function lx(e){return Bw[e]}function cx(e){return{fieldPath:e.canonicalString()}}function fx(e){return ek.fromServerFormat(e.fieldPath)}function hx(e){return ab.create(fx(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pg()}}(e.fieldFilter.op),e.fieldFilter.value)}function dx(e){switch(e.unaryFilter.op){case"IS_NAN":var t=fx(e.unaryFilter.field);return ab.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=fx(e.unaryFilter.field);return ab.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=fx(e.unaryFilter.field);return ab.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=fx(e.unaryFilter.field);return ab.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Pg()}}function px(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function vx(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var mx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),yx=([].concat(u(mx),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),gx=yx;[].concat(gx,["indexConfiguration","indexState","indexEntries"]);var kx=function(){function e(t,n,r,i){l(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return f(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&nw(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Ut(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=rw(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=Ut(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=rw(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Sw();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=tw(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Yg.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Aw())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Qg(this.mutations,e.mutations,(function(e,t){return aw(e,t)}))&&Qg(this.baseMutations,e.baseMutations,(function(e,t){return aw(e,t)}))}}]),e}(),bx=function(){function e(t,n,r,i){l(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return f(e,null,[{key:"from",value:function(t,n,r){Og(t.mutations.length===r.length);for(var i=Cw,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),wx=function(){function e(t,n){l(this,e),this.largestBatchId=t,this.mutation=n}return f(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),xx=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Yg.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Yg.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ek.EMPTY_BYTE_STRING;l(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return f(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Ex=f((function e(t){l(this,e),this.re=t}));function _x(e){var t=ox({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ib(t,t.limit,"L"):t}var Sx=function(){function e(){l(this,e)}return f(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Tk(e.integerValue));else if("doubleValue"in e){var n=Tk(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),Dk(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Ck(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?Yk(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Pg()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=Ut(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),tk.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();Sx.Te=new Sx;var Tx=function(){function e(){l(this,e),this.Ye=new Cx}return f(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),fk.resolve()}},{key:"getCollectionParents",value:function(e,t){return fk.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return fk.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return fk.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return fk.resolve(null)}},{key:"getIndexType",value:function(e,t){return fk.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return fk.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return fk.resolve(null)}},{key:"getMinOffset",value:function(e,t){return fk.resolve(ak.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return fk.resolve(ak.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return fk.resolve()}},{key:"updateIndexEntries",value:function(e,t){return fk.resolve()}}]),e}(),Cx=function(){function e(){l(this,e),this.index={}}return f(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new bk(Jg.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new bk(Jg.comparator)).toArray()}}]),e}();new Uint8Array(0);var Ix=function(){function e(t,n,r){l(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return f(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Ix.DEFAULT_COLLECTION_PERCENTILE=10,Ix.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ix.DEFAULT=new Ix(41943040,Ix.DEFAULT_COLLECTION_PERCENTILE,Ix.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ix.DISABLED=new Ix(-1,0,0);var Ax=function(){function e(t){l(this,e),this.bn=t}return f(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}();var Nx=function(){function e(){l(this,e),this.changes=new gw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return f(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Zk.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?fk.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Rx=f((function e(t,n){l(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Px=function(){function e(t,n,r,i){l(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return f(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&rw(r.mutation,e,xk.empty(),Xg.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Aw()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Aw(),i=_w();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=xw();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=_w();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Aw())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=bw(),a=Tw(),o=Tw();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof sw)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),rw(o.mutation,t,o.mutation.getFieldMask(),Xg.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Rx(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Tw(),i=new yk((function(e,t){return e-t})),a=Aw();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Ut(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||xk.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Aw()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,l=i.value,c=Sw();l.forEach((function(e){if(!a.has(e)){var n=tw(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,c))};s.hasNext();)u();return fk.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return tk.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Sb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):fk.resolve(_w()),s=-1,u=a;return o.next((function(t){return fk.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?fk.resolve():i.getBaseDocument(e,t,n).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Aw())})).next((function(e){return{batchId:s,changes:Ew(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new tk(t)).next((function(e){var t=xw();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=xw();return this.indexManager.getCollectionParents(e,i).next((function(o){return fk.forEach(o,(function(o){var s=function(e,t){return new kb(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Zk.newInvalidDocument(n)))}));var n=xw();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&rw(a.mutation,i,xk.empty(),Xg.now()),Pb(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):fk.resolve(Zk.newInvalidDocument(t))}}]),e}(),Ox=function(){function e(t){l(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return f(e,[{key:"getBundleMetadata",value:function(e,t){return fk.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Kw(n.createTime)}),fk.resolve()}},{key:"getNamedQuery",value:function(e,t){return fk.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:_x(e.bundledQuery),readTime:Kw(e.readTime)}}(t)),fk.resolve()}}]),e}(),Dx=function(){function e(){l(this,e),this.overlays=new yk(tk.comparator),this.es=new Map}return f(e,[{key:"getOverlay",value:function(e,t){return fk.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=_w();return fk.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),fk.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),fk.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=_w(),i=t.length+1,a=new tk(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return fk.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new yk((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=_w(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=_w(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return fk.resolve(u)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new wx(t,n));var a=this.es.get(t);void 0===a&&(a=Aw(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),Lx=function(){function e(){l(this,e),this.ns=new bk(Mx.ss),this.rs=new bk(Mx.os)}return f(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Mx(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new Mx(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new tk(new Jg([])),r=new Mx(n,e),i=new Mx(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new tk(new Jg([])),n=new Mx(t,e),r=new Mx(t,e+1),i=Aw();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Mx(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Mx=function(){function e(t,n){l(this,e),this.key=t,this._s=n}return f(e,null,[{key:"ss",value:function(e,t){return tk.comparator(e.key,t.key)||Kg(e._s,t._s)}},{key:"os",value:function(e,t){return Kg(e._s,t._s)||tk.comparator(e.key,t.key)}}]),e}(),Ux=function(){function e(t,n){l(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new bk(Mx.ss)}return f(e,[{key:"checkEmpty",value:function(e){return fk.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new kx(i,t,n,r);this.mutationQueue.push(a);var o,s=Ut(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.gs=this.gs.add(new Mx(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return fk.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return fk.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return fk.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return fk.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return fk.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Mx(t,0),i=new Mx(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),fk.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new bk(Kg);return t.forEach((function(e){var t=new Mx(e,0),i=new Mx(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),fk.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;tk.isDocumentKey(i)||(i=i.child(""));var a=new Mx(new tk(i),0),o=new bk(Kg);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),fk.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Og(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return fk.forEach(t.mutations,(function(i){var a=new Mx(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Mx(t,0),r=this.gs.firstAfterOrEqual(n);return fk.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,fk.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Vx=function(){function e(t){l(this,e),this.Es=t,this.docs=new yk(tk.comparator),this.size=0}return f(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return fk.resolve(n?n.document.mutableCopy():Zk.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=bw();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Zk.newInvalidDocument(e))})),fk.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=bw(),i=new tk(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||ok(ik(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return fk.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Pg()}},{key:"As",value:function(e,t){return fk.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new jx(this)}},{key:"getSize",value:function(e){return fk.resolve(this.size)}}]),e}(),jx=function(e){d(n,e);var t=k(n);function n(e){var r;return l(this,n),(r=t.call(this)).Yn=e,r}return f(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),fk.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(Nx),Fx=function(){function e(t){l(this,e),this.persistence=t,this.Rs=new gw((function(e){return nb(e)}),rb),this.lastRemoteSnapshotVersion=Yg.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Lx,this.targetCount=0,this.vs=Ax.Pn()}return f(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),fk.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return fk.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return fk.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),fk.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),fk.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new Ax(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,fk.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),fk.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,fk.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),fk.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return fk.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return fk.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),fk.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),fk.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),fk.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return fk.resolve(n)}},{key:"containsKey",value:function(e,t){return fk.resolve(this.Ps.containsKey(t))}}]),e}(),zx=function(){function e(t,n){var r=this;l(this,e),this.Vs={},this.overlays={},this.Ss=new dk(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Fx(this),this.indexManager=new Tx,this.remoteDocumentCache=new Vx((function(e){return r.referenceDelegate.xs(e)})),this.It=new Ex(n),this.Ns=new Ox(this.It)}return f(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Dx,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new Ux(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Ig("MemoryPersistence","Starting transaction:",e);var i=new Bx(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Ms(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return fk.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Bx=function(e){d(n,e);var t=k(n);function n(e){var r;return l(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return f(n)}(uk),Hx=function(){function e(t){l(this,e),this.persistence=t,this.Fs=new Lx,this.$s=null}return f(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Pg()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),fk.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),fk.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),fk.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Ms",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fk.forEach(this.Ls,(function(r){var i=tk.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,Yg.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return fk.or([function(){return fk.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}();var qx=function(){function e(t,n,r,i){l(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return f(e,null,[{key:"Ci",value:function(t,n){var r,i=Aw(),a=Aw(),o=Ut(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Wx=function(){function e(){l(this,e),this.xi=!1}return f(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Mi(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(xb(t))return fk.resolve(null);var r=Cb(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Ib(t,null,"F"),r=Cb(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Aw.apply(void 0,u(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,Ib(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Mi",value:function(e,t,n,r){var i=this;return xb(t)||r.isEqual(Yg.min())?this.Oi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Oi(e,t):(Cg()<=bl.DEBUG&&Ig("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Rb(t)),i.Bi(e,o,t,rk(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new bk(Db(e));return t.forEach((function(t,r){Pb(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return Cg()<=bl.DEBUG&&Ig("QueryEngine","Using full collection scan to execute query:",Rb(t)),this.Ni.getDocumentsMatchingQuery(e,t,ak.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Gx=function(){function e(t,n,r,i){l(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new yk(Kg),this.qi=new gw((function(e){return nb(e)}),rb),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return f(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Px(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function Kx(e,t,n,r){return new Gx(e,t,n,r)}function Qx(e,t){return Xx.apply(this,arguments)}function Xx(){return Xx=Ue(Le().mark((function e(t,n){var r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dg(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Aw(),u=Ut(t);try{for(u.s();!(i=u.n()).done;){var l=i.value;a.push(l.batchId);var c,f=Ut(l.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=Ut(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Ut(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Xx.apply(this,arguments)}function Yx(e,t){var n=Dg(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=fk.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Og(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Aw(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function $x(e){var t=Dg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function Jx(e,t){var n=Dg(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,s)})));var l=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?l=l.withResumeToken(Ek.EMPTY_BYTE_STRING,Yg.min()).withLastLimboFreeSnapshotVersion(Yg.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(s,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,l,a)&&o.push(n.Cs.updateTargetData(e,l))}}));var s=bw(),u=Aw();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Zx(e,a,t.documentUpdates).next((function(e){s=e.Wi,u=e.zi}))),!r.isEqual(Yg.min())){var l=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(l)}return fk.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ui=i,e}))}function Zx(e,t,n){var r=Aw(),i=Aw();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=bw();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Yg.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Ig("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function eE(e,t){var n=Dg(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function tE(e,t){var n=Dg(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,fk.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new xx(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function nE(e,t,n){return rE.apply(this,arguments)}function rE(){return rE=Ue(Le().mark((function e(t,n,r){var i,a,o;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Dg(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),hk(e.t1)){e.next=12;break}throw e.t1;case 12:Ig("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),rE.apply(this,arguments)}function iE(e,t,n){var r=Dg(e),i=Yg.min(),a=Aw();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Dg(e),i=r.qi.get(n);return void 0!==i?fk.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,Cb(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Yg.min(),n?a:Aw())})).next((function(e){return aE(r,Ob(t),e),{documents:e,Hi:a}}))}))}function aE(e,t,n){var r=Yg.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}var oE=function(){function e(){l(this,e),this.activeTargetIds=Rw()}return f(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),sE=function(){function e(){l(this,e),this.Lr=new oE,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return f(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new oE,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),uE=function(){function e(){l(this,e)}return f(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),lE=function(){function e(){var t=this;l(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return f(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Ig("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Ut(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Ig("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Ut(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),cE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},fE=function(){function e(t){l(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return f(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),hE=function(e){d(n,e);var t=k(n);function n(e){var r;return l(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return f(n,[{key:"lo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new xg;o.listenOnce(yg.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case mg.NO_ERROR:var t=o.getResponseJson();Ig("Connection","XHR received:",JSON.stringify(t)),i(t);break;case mg.TIMEOUT:Ig("Connection",'RPC "'+e+'" timed out'),a(new Mg(Lg.DEADLINE_EXCEEDED,"Request time out"));break;case mg.HTTP_ERROR:var n=o.getStatus();if(Ig("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Lg).indexOf(t)>=0?t:Lg.UNKNOWN}(r.status);a(new Mg(s,r.message))}else a(new Mg(Lg.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Mg(Lg.UNAVAILABLE,"Connection failed."));break;default:Pg()}}finally{Ig("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"_o",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=pg(),a=vg(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new bg({})),this.ho(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var s=r.join("");Ig("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),l=!1,c=!1,f=new fE({Hr:function(e){c?Ig("Connection","Not sending because WebChannel is closed:",e):(l||(Ig("Connection","Opening WebChannel transport."),u.open(),l=!0),Ig("Connection","WebChannel sending:",e),u.send(e))},Jr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,wg.EventType.OPEN,(function(){c||Ig("Connection","WebChannel transport opened.")})),h(u,wg.EventType.CLOSE,(function(){c||(c=!0,Ig("Connection","WebChannel transport closed"),f.io())})),h(u,wg.EventType.ERROR,(function(e){c||(c=!0,Ng("Connection","WebChannel transport errored:",e),f.io(new Mg(Lg.UNAVAILABLE,"The operation could not be completed")))})),h(u,wg.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];Og(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Ig("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=fw[e];if(void 0!==t)return yw(t)}(a),s=i.message;void 0===o&&(o=Lg.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),c=!0,f.io(new Mg(o,s)),u.close()}else Ig("Connection","WebChannel received:",n),f.ro(n)}})),h(a,gg.STAT_EVENT,(function(e){e.stat===kg.PROXY?Ig("Connection","Detected buffering proxy"):e.stat===kg.NOPROXY&&Ig("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){l(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return f(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ao(e,t);Ig("RestConnection","Sending: ",a,n);var o={};return this.ho(o,r,i),this.lo(e,a,o,n).then((function(e){return Ig("RestConnection","Received: ",e),e}),(function(t){throw Ng("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=cE[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function dE(){return"undefined"!=typeof document?document:null}function pE(e){return new Hw(e,!0)}var vE=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;l(this,e),this.Hs=t,this.timerId=n,this.wo=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return f(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&Ig("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}},{key:"bo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),mE=function(){function e(t,n,r,i,a,o,s,u){l(this,e),this.Hs=t,this.Po=r,this.vo=i,this.Vo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new vE(t,n)}return f(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Mo()}},{key:"stop",value:function(){var e=Ue(Le().mark((function e(){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=Ue(Le().mark((function e(){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=Ue(Le().mark((function e(t,n){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Lg.RESOURCE_EXHAUSTED?(Ag(n.toString()),Ag("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===Lg.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=s(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new Mg(Lg.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Mo",value:function(){var e=this;this.state=5,this.xo.Ao(Ue(Le().mark((function t(){return Le().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Ig("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Ig("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),yE=function(e){d(n,e);var t=k(n);function n(e,r,i,a,o,s){var u;return l(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).It=o,u}return f(n,[{key:"jo",value:function(e,t){return this.Vo._o("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Pg()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(Og(void 0===t||"string"==typeof t),Ek.fromBase64String(t||"")):(Og(void 0===t||t instanceof Uint8Array),Ek.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Lg.UNKNOWN:yw(e.code);return new Mg(t,e.message||"")}(o);n=new Mw(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var l=$w(e,u.document.name),c=Kw(u.document.updateTime),f=new $k({mapValue:{fields:u.document.fields}}),h=Zk.newFoundDocument(l,c,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new Dw(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=$w(e,v.document),y=v.readTime?Kw(v.readTime):Yg.min(),g=Zk.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Dw([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=$w(e,b.document),x=b.removedTargetIds||[];n=new Dw([],x,w,null)}else{if(!("filter"in t))return Pg();t.filter;var E=t.filter;E.targetId;var _=E.count||0,S=new vw(_),T=E.targetId;n=new Lw(T,S)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return Yg.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Yg.min():t.readTime?Kw(t.readTime):Yg.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=ex(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=ib(r)?{documents:ix(e,r)}:{query:ax(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ww(e,t.resumeToken):t.snapshotVersion.compareTo(Yg.min())>0&&(n.readTime=qw(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Pg()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=ex(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(mE),gE=function(e){d(n,e);var t=k(n);function n(e,r,i,a,o,s){var u;return l(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).It=o,u.Jo=!1,u}return f(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,$u(p(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.Vo._o("Write",e,t)}},{key:"onMessage",value:function(e){if(Og(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(Og(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Kw(e.updateTime):Kw(t);return n.isEqual(Yg.min())&&(n=Kw(t)),new $b(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Kw(e.commitTime);return this.listener.Zo(n,t)}return Og(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=ex(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return rx(t.It,e)}))};this.Bo(n)}}]),n}(mE),kE=function(e){d(n,e);var t=k(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.Vo=i,o.It=a,o.nu=!1,o}return f(n,[{key:"su",value:function(){if(this.nu)throw new Mg(Lg.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.Vo.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Lg.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Mg(Lg.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=s(a,2),u=o[0],l=o[1];return i.Vo.fo(e,t,n,u,l,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Lg.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Mg(Lg.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return f((function e(){l(this,e)}))}()),bE=function(){function e(t,n){l(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return f(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(Ag(t),this.ou=!1):Ig("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),wE=f((function e(t,n,r,i,a){var o=this;l(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(Ue(Le().mark((function e(){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=PE(o),!e.t0){e.next=5;break}return Ig("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ue(Le().mark((function e(t){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Dg(t))._u.add(4),e.next=4,_E(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,xE(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new bE(r,i)}));function xE(e){return EE.apply(this,arguments)}function EE(){return EE=Ue(Le().mark((function e(t){var n,r,i;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!PE(t)){e.next=18;break}n=Ut(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),EE.apply(this,arguments)}function _E(e){return SE.apply(this,arguments)}function SE(){return SE=Ue(Le().mark((function e(t){var n,r,i;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ut(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),SE.apply(this,arguments)}function TE(e,t){var n=Dg(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),RE(n)?NE(n):s_(n).ko()&&IE(n,t))}function CE(e,t){var n=Dg(e),r=s_(n);n.du.delete(t),r.ko()&&AE(n,t),0===n.du.size&&(r.ko()?r.Fo():PE(n)&&n.gu.set("Unknown"))}function IE(e,t){e.yu.Ot(t.targetId),s_(e).zo(t)}function AE(e,t){e.yu.Ot(t),s_(e).Ho(t)}function NE(e){e.yu=new Vw({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),s_(e).start(),e.gu.uu()}function RE(e){return PE(e)&&!s_(e).No()&&e.du.size>0}function PE(e){return 0===Dg(e)._u.size}function OE(e){e.yu=void 0}function DE(e){return LE.apply(this,arguments)}function LE(){return LE=Ue(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){IE(t,e)}));case 1:case"end":return e.stop()}}),e)}))),LE.apply(this,arguments)}function ME(e,t){return UE.apply(this,arguments)}function UE(){return UE=Ue(Le().mark((function e(t,n){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:OE(t),RE(t)?(t.gu.hu(n),NE(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),UE.apply(this,arguments)}function VE(e,t,n){return jE.apply(this,arguments)}function jE(){return jE=Ue(Le().mark((function e(t,n,r){var i;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Mw&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ue(Le().mark((function e(t,n){var r,i,a,o;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Ut(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Ig("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,FE(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Dw?t.yu.Gt(n):n instanceof Lw?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(Yg.min())){e.next=29;break}return e.prev=14,e.next=17,$x(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Ek.EMPTY_BYTE_STRING,n.snapshotVersion)),AE(e,t);var r=new xx(n.target,t,1,n.sequenceNumber);IE(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Ig("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,FE(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),jE.apply(this,arguments)}function FE(e,t,n){return zE.apply(this,arguments)}function zE(){return zE=Ue(Le().mark((function e(t,n,r){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hk(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,_E(t);case 5:t.gu.set("Offline"),r||(r=function(){return $x(t.localStore)}),t.asyncQueue.enqueueRetryable(Ue(Le().mark((function e(){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ig("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,xE(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),zE.apply(this,arguments)}function BE(e,t){return t().catch((function(n){return FE(e,n,t)}))}function HE(e){return qE.apply(this,arguments)}function qE(){return qE=Ue(Le().mark((function e(t){var n,r,i,a;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Dg(t),r=u_(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!WE(n)){e.next=19;break}return e.prev=3,e.next=6,eE(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,GE(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,FE(n,e.t0);case 17:e.next=2;break;case 19:KE(n)&&QE(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),qE.apply(this,arguments)}function WE(e){return PE(e)&&e.fu.length<10}function GE(e,t){e.fu.push(t);var n=u_(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function KE(e){return PE(e)&&!u_(e).No()&&e.fu.length>0}function QE(e){u_(e).start()}function XE(e){return YE.apply(this,arguments)}function YE(){return YE=Ue(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u_(t).eu();case 1:case"end":return e.stop()}}),e)}))),YE.apply(this,arguments)}function $E(e){return JE.apply(this,arguments)}function JE(){return JE=Ue(Le().mark((function e(t){var n,r,i,a;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=u_(t),r=Ut(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),JE.apply(this,arguments)}function ZE(e,t,n){return e_.apply(this,arguments)}function e_(){return e_=Ue(Le().mark((function e(t,n,r){var i,a;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=bx.from(i,n,r),e.next=3,BE(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,HE(t);case 5:case"end":return e.stop()}}),e)}))),e_.apply(this,arguments)}function t_(e,t){return n_.apply(this,arguments)}function n_(){return n_=Ue(Le().mark((function e(t,n){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&u_(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ue(Le().mark((function e(t,n){var r,i;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!mw(i=n.code)||i===Lg.ABORTED){e.next=7;break}return r=t.fu.shift(),u_(t).Oo(),e.next=5,BE(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,HE(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:KE(t)&&QE(t);case 5:case"end":return e.stop()}}),e)}))),n_.apply(this,arguments)}function r_(e,t){return i_.apply(this,arguments)}function i_(){return i_=Ue(Le().mark((function e(t,n){var r,i;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Dg(t)).asyncQueue.verifyOperationInProgress(),Ig("RemoteStore","RemoteStore received new credentials"),i=PE(r),r._u.add(3),e.next=6,_E(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,xE(r);case 12:case"end":return e.stop()}}),e)}))),i_.apply(this,arguments)}function a_(e,t){return o_.apply(this,arguments)}function o_(){return o_=Ue(Le().mark((function e(t,n){var r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Dg(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,xE(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,_E(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),o_.apply(this,arguments)}function s_(e){return e.pu||(e.pu=function(e,t,n){var r=Dg(e);return r.su(),new yE(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:DE.bind(null,e),Zr:ME.bind(null,e),Wo:VE.bind(null,e)}),e.wu.push(function(){var t=Ue(Le().mark((function t(n){return Le().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Oo(),RE(e)?NE(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:OE(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function u_(e){return e.Iu||(e.Iu=function(e,t,n){var r=Dg(e);return r.su(),new gE(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:XE.bind(null,e),Zr:t_.bind(null,e),tu:$E.bind(null,e),Zo:ZE.bind(null,e)}),e.wu.push(function(){var t=Ue(Le().mark((function t(n){return Le().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Oo(),t.next=4,HE(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Ig("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var l_=function(){function e(t,n,r,i,a){l(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ug,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return f(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Mg(Lg.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function c_(e,t){if(Ag("AsyncQueue","".concat(t,": ").concat(e)),hk(e))return new Mg(Lg.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var f_=function(){function e(t){l(this,e),this.comparator=t?function(e,n){return t(e,n)||tk.comparator(e.key,n.key)}:function(e,t){return tk.comparator(e.key,t.key)},this.keyedMap=xw(),this.sortedSet=new yk(this.comparator)}return f(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),h_=function(){function e(){l(this,e),this.Tu=new yk(tk.comparator)}return f(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Pg():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),d_=function(){function e(t,n,r,i,a,o,s,u){l(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return f(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ab(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,f_.emptySet(n),a,r,i,!0,!1)}}]),e}(),p_=f((function e(){l(this,e),this.Au=void 0,this.listeners=[]})),v_=f((function e(){l(this,e),this.queries=new gw((function(e){return Nb(e)}),Ab),this.onlineState="Unknown",this.Ru=new Set}));function m_(e,t){return y_.apply(this,arguments)}function y_(){return y_=Ue(Le().mark((function e(t,n){var r,i,a,o,s;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Dg(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new p_),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=c_(e.t0,"Initialization of query '".concat(Rb(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&x_(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),y_.apply(this,arguments)}function g_(e,t){return k_.apply(this,arguments)}function k_(){return k_=Ue(Le().mark((function e(t,n){var r,i,a,o,s;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Dg(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),k_.apply(this,arguments)}function b_(e,t){var n,r=Dg(e),i=!1,a=Ut(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var l,c=Ut(u.listeners);try{for(c.s();!(l=c.n()).done;){l.value.Pu(o)&&(i=!0)}}catch(f){c.e(f)}finally{c.f()}u.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&x_(r)}function w_(e,t,n){var r=Dg(e),i=r.queries.get(t);if(i){var a,o=Ut(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function x_(e){e.Ru.forEach((function(e){e.next()}))}var E_=function(){function e(t,n,r){l(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return f(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Ut(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new d_(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=d_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}]),e}();var __=f((function e(t){l(this,e),this.key=t})),S_=f((function e(t){l(this,e),this.key=t})),T_=function(){function e(t,n){l(this,e),this.query=t,this.Lu=n,this.Uu=null,this.current=!1,this.qu=Aw(),this.mutatedKeys=Aw(),this.Ku=Db(t),this.Gu=new f_(this.Ku)}return f(e,[{key:"Qu",get:function(){return this.Lu}},{key:"ju",value:function(e,t){var n=this,r=t?t.Wu:new h_,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=Pb(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.zu(c,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ku(f,u)>0||l&&n.Ku(f,l)<0)&&(s=!0)):!c&&f?(r.track({type:0,doc:f}),p=!0):c&&!f&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,Wu:r,$i:s,mutatedKeys:a}}},{key:"zu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.Wu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pg()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],s=0===this.qu.size&&this.current?1:0,u=s!==this.Uu;return this.Uu=s,0!==a.length||u?{snapshot:new d_(this.query,e.Gu,i,a,e.mutatedKeys,0===s,u,!1),Yu:o}:{Yu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new h_,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}},{key:"Xu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.qu;this.qu=Aw(),this.Gu.forEach((function(t){e.Xu(t.key)&&(e.qu=e.qu.add(t.key))}));var n=[];return t.forEach((function(t){e.qu.has(t)||n.push(new S_(t))})),this.qu.forEach((function(e){t.has(e)||n.push(new __(e))})),n}},{key:"Zu",value:function(e){this.Lu=e.Hi,this.qu=Aw();var t=this.ju(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return d_.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}]),e}(),C_=f((function e(t,n,r){l(this,e),this.query=t,this.targetId=n,this.view=r})),I_=f((function e(t){l(this,e),this.key=t,this.ec=!1})),A_=function(){function e(t,n,r,i,a,o){l(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new gw((function(e){return Nb(e)}),Ab),this.ic=new Map,this.rc=new Set,this.oc=new yk(tk.comparator),this.uc=new Map,this.cc=new Lx,this.ac={},this.hc=new Map,this.lc=Ax.vn(),this.onlineState="Unknown",this.fc=void 0}return f(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function N_(e,t){return R_.apply(this,arguments)}function R_(){return R_=Ue(Le().mark((function e(t,n){var r,i,a,o,s,u;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=aS(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,tE(r.localStore,Cb(n));case 8:return s=e.sent,r.isPrimaryClient&&TE(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,P_(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),R_.apply(this,arguments)}function P_(e,t,n,r){return O_.apply(this,arguments)}function O_(){return O_=Ue(Le().mark((function e(t,n,r,i){var a,o,s,u,l,c;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=Ue(Le().mark((function e(t,n,r,i){var a,o,s;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ju(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,iE(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ju(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",($_(t,n.targetId,s.Yu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,iE(t.localStore,n,!0);case 3:return a=e.sent,o=new T_(n,a.Hi),s=o.ju(a.documents),u=Ow.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),l=o.applyChanges(s,t.isPrimaryClient,u),$_(t,r,l.Yu),c=new C_(n,r,o),e.abrupt("return",(t.sc.set(n,c),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),O_.apply(this,arguments)}function D_(e,t){return L_.apply(this,arguments)}function L_(){return L_=Ue(Le().mark((function e(t,n){var r,i,a;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Dg(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!Ab(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,nE(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),CE(r.remoteStore,i.targetId),X_(r,i.targetId)})).catch(lk);case 9:e.next=14;break;case 11:return X_(r,i.targetId),e.next=14,nE(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),L_.apply(this,arguments)}function M_(e,t,n){return U_.apply(this,arguments)}function U_(){return U_=Ue(Le().mark((function e(t,n,r){var i,a,o;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=oS(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Dg(e),a=Xg.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Aw());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=bw(),u=Aw();return i.Gi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=Ut(t);try{for(u.s();!(o=u.n()).done;){var l=o.value,c=iw(l,n.get(l.key).overlayedDocument);null!=c&&s.push(new sw(l.key,c,Jk(c.value.mapValue),Jb.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Ew(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new yk(Kg)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,eS(i,a.changes);case 9:return e.next=11,HE(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=c_(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),U_.apply(this,arguments)}function V_(e,t){return j_.apply(this,arguments)}function j_(){return j_=Ue(Le().mark((function e(t,n){var r,i;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dg(t),e.prev=1,e.next=4,Jx(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(Og(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?Og(n.ec):e.removedDocuments.size>0&&(Og(n.ec),n.ec=!1))})),e.next=8,eS(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,lk(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),j_.apply(this,arguments)}function F_(e,t,n){var r=Dg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Dg(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Ut(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&x_(n)}(r.eventManager,t),i.length&&r.nc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function z_(e,t,n){return B_.apply(this,arguments)}function B_(){return B_=Ue(Le().mark((function e(t,n,r){var i,a,o,s,u,l;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Dg(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new yk(tk.comparator)).insert(o,Zk.newNoDocument(o,Yg.min())),u=Aw().add(o),l=new Pw(Yg.min(),new Map,new bk(Kg),s,u),e.next=9,V_(i,l);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),Z_(i),e.next=16;break;case 14:return e.next=16,nE(i.localStore,n,!1).then((function(){return X_(i,n,r)})).catch(lk);case 16:case"end":return e.stop()}}),e)}))),B_.apply(this,arguments)}function H_(e,t){return q_.apply(this,arguments)}function q_(){return q_=Ue(Le().mark((function e(t,n){var r,i,a;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dg(t),i=n.batch.batchId,e.prev=1,e.next=4,Yx(r.localStore,n);case 4:return a=e.sent,Q_(r,i,null),K_(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,eS(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,lk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),q_.apply(this,arguments)}function W_(e,t,n){return G_.apply(this,arguments)}function G_(){return G_=Ue(Le().mark((function e(t,n,r){var i,a;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Dg(t),e.prev=1,e.next=4,function(e,t){var n=Dg(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Og(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Q_(i,n,r),K_(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,eS(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,lk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),G_.apply(this,arguments)}function K_(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function Q_(e,t,n){var r=Dg(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function X_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Ut(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc._c(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.ls(t).forEach((function(t){e.cc.containsKey(t)||Y_(e,t)}))}function Y_(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(CE(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),Z_(e))}function $_(e,t,n){var r,i=Ut(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof __?(e.cc.addReference(a.key,t),J_(e,a)):a instanceof S_?(Ig("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||Y_(e,a.key)):Pg()}}catch(o){i.e(o)}finally{i.f()}}function J_(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(Ig("SyncEngine","New document in limbo: "+n),e.rc.add(r),Z_(e))}function Z_(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new tk(Jg.fromString(t)),r=e.lc.next();e.uc.set(r,new I_(n)),e.oc=e.oc.insert(n,r),TE(e.remoteStore,new xx(Cb(wb(n.path)),r,2,dk.at))}}function eS(e,t,n){return tS.apply(this,arguments)}function tS(){return tS=Ue(Le().mark((function e(t,n,r){var i,a,o,s;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Dg(t),a=[],o=[],s=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){s.push(i.dc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=qx.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.nc.Wo(a),e.next=9,function(){var e=Ue(Le().mark((function e(t,n){var r,i,a,o,s,u,l,c;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dg(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return fk.forEach(n,(function(t){return fk.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return fk.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),hk(e.t0)){e.next=10;break}throw e.t0;case 10:Ig("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Ut(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ui.get(s),l=u.snapshotVersion,c=u.withLastLimboFreeSnapshotVersion(l),r.Ui=r.Ui.insert(s,c))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),tS.apply(this,arguments)}function nS(e,t){return rS.apply(this,arguments)}function rS(){return rS=Ue(Le().mark((function e(t,n){var r,i;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Dg(t)).currentUser.isEqual(n)){e.next=11;break}return Ig("SyncEngine","User change. New user:",n.toKey()),e.next=5,Qx(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new Mg(Lg.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,eS(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),rS.apply(this,arguments)}function iS(e,t){var n=Dg(e),r=n.uc.get(t);if(r&&r.ec)return Aw().add(r.key);var i=Aw(),a=n.ic.get(t);if(!a)return i;var o,s=Ut(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=n.sc.get(u);i=i.unionWith(l.view.Qu)}}catch(c){s.e(c)}finally{s.f()}return i}function aS(e){var t=Dg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=V_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=z_.bind(null,t),t.nc.Wo=b_.bind(null,t.eventManager),t.nc._c=w_.bind(null,t.eventManager),t}function oS(e){var t=Dg(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=H_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=W_.bind(null,t),t}var sS=function(){function e(){l(this,e),this.synchronizeTabs=!1}return f(e,[{key:"initialize",value:function(){var e=Ue(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=pE(t.databaseInfo.databaseId),this.sharedClientState=this.mc(t),this.persistence=this.gc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.yc(t),this.gcScheduler=this.Ic(t,this.localStore),this.indexBackfillerScheduler=this.Tc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e,t){return null}},{key:"Tc",value:function(e,t){return null}},{key:"yc",value:function(e){return Kx(this.persistence,new Wx,e.initialUser,this.It)}},{key:"gc",value:function(e){return new zx(Hx.Bs,this.It)}},{key:"mc",value:function(e){return new sE}},{key:"terminate",value:function(){var e=Ue(Le().mark((function e(){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),uS=function(){function e(){l(this,e)}return f(e,[{key:"initialize",value:function(){var e=Ue(Le().mark((function e(t,n){var r=this;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return F_(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=nS.bind(null,this.syncEngine),e.next=12,a_(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new v_}},{key:"createDatastore",value:function(e){var t,n=pE(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new hE(t));return function(e,t,n,r){return new kE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return F_(o.syncEngine,e,0)},a=lE.C()?new lE:new uE,new wE(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new A_(e,t,n,r,i,a);return o&&(s.fc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ue(Le().mark((function e(t){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Dg(t),Ig("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,_E(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var lS=function(){function e(t){l(this,e),this.observer=t,this.muted=!1}return f(e,[{key:"next",value:function(e){this.observer.next&&this.Ac(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ac(this.observer.error,e):Ag("Uncaught Error in snapshot listener:",e)}},{key:"Rc",value:function(){this.muted=!0}},{key:"Ac",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),cS=function(){function e(t,n,r,i){var a=this;l(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_g.UNAUTHENTICATED,this.clientId=Gg.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ue(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ig("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Ig("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return f(e,[{key:"getConfiguration",value:function(){var e=Ue(Le().mark((function e(){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Mg(Lg.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ug;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ue(Le().mark((function n(){var r;return Le().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=c_(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function fS(e,t){return hS.apply(this,arguments)}function hS(){return hS=Ue(Le().mark((function e(t,n){var r,i;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Ig("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ue(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Qx(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),hS.apply(this,arguments)}function dS(e,t){return pS.apply(this,arguments)}function pS(){return pS=Ue(Le().mark((function e(t,n){var r,i;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,vS(t);case 3:return r=e.sent,Ig("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return r_(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return r_(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),pS.apply(this,arguments)}function vS(e){return mS.apply(this,arguments)}function mS(){return mS=Ue(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Ig("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,fS(t,new sS);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),mS.apply(this,arguments)}function yS(e){return gS.apply(this,arguments)}function gS(){return gS=Ue(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Ig("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,dS(t,new uS);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),gS.apply(this,arguments)}function kS(e){return yS(e).then((function(e){return e.syncEngine}))}function bS(e){return wS.apply(this,arguments)}function wS(){return wS=Ue(Le().mark((function e(t){var n,r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yS(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=N_.bind(null,n.syncEngine),r.onUnlisten=D_.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),wS.apply(this,arguments)}function xS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ug;return e.asyncQueue.enqueueAndForget(Ue(Le().mark((function i(){return Le().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new lS({next:function(n){t.enqueueAndForget((function(){return g_(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Mg(Lg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new E_(n,a,{includeMetadataChanges:!0,Nu:!0});return m_(e,o)},i.next=3,bS(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var ES=new Map;function _S(e,t,n){if(!n)throw new Mg(Lg.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function SS(e){if(!tk.isDocumentKey(e))throw new Mg(Lg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function TS(e){if(tk.isDocumentKey(e))throw new Mg(Lg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function CS(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Pg()}function IS(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Mg(Lg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=CS(e);throw new Mg(Lg.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var AS=function(){function e(t){var n;if(l(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Mg(Lg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Mg(Lg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new Mg(Lg.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return f(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),NS=function(){function e(t,n,r,i){l(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AS({}),this._settingsFrozen=!1}return f(e,[{key:"app",get:function(){if(!this._app)throw new Mg(Lg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Mg(Lg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AS(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new jg;switch(e.type){case"gapi":var t=e.client;return new Bg(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Mg(Lg.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=ES.get(e);t&&(Ig("ComponentProvider","Removing Datastore"),ES.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var RS=function(){function e(t,n,r){l(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return f(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new OS(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),PS=function(){function e(t,n,r){l(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return f(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),OS=function(e){d(n,e);var t=k(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,e,r,wb(i)))._path=i,a.type="collection",a}return f(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new RS(this.firestore,null,new tk(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(PS);function DS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=vl(e),_S("collection","path",t),e instanceof NS){var a=Jg.fromString.apply(Jg,[t].concat(r));return TS(a),new OS(e,null,a)}if(!(e instanceof RS||e instanceof OS))throw new Mg(Lg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Jg.fromString.apply(Jg,[t].concat(r)));return TS(o),new OS(e.firestore,null,o)}function LS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=vl(e),1===arguments.length&&(t=Gg.R()),_S("doc","path",t),e instanceof NS){var a=Jg.fromString.apply(Jg,[t].concat(r));return SS(a),new RS(e,null,new tk(a))}if(!(e instanceof RS||e instanceof OS))throw new Mg(Lg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Jg.fromString.apply(Jg,[t].concat(r)));return SS(o),new RS(e.firestore,e instanceof OS?e.converter:null,new tk(o))}var MS=function(){function e(){var t=this;l(this,e),this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new vE(this,"async_queue_retry"),this.jc=function(){var e=dE();e&&Ig("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.bo()};var n=dE();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.jc)}return f(e,[{key:"isShuttingDown",get:function(){return this.Lc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Wc(),this.zc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;var t=dE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Wc(),this.Lc)return new Promise((function(){}));var n=new Ug;return this.zc((function(){return t.Lc&&t.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Bc.push(e),t.Hc()}))}},{key:"Hc",value:function(){var e=Ue(Le().mark((function e(){var t=this;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Bc.length){e.next=14;break}return e.prev=1,e.next=4,this.Bc[0]();case 4:this.Bc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),hk(e.t0)){e.next=12;break}throw e.t0;case 12:Ig("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Bc.length>0&&this.xo.Ao((function(){return t.Hc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"zc",value:function(e){var t=this,n=this.$c.then((function(){return t.Kc=!0,e().catch((function(e){t.qc=e,t.Kc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ag("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Kc=!1,e}))}));return this.$c=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);var i=l_.createAndSchedule(this,e,t,n,(function(e){return r.Jc(e)}));return this.Uc.push(i),i}},{key:"Wc",value:function(){this.qc&&Pg()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Yc",value:function(){var e=Ue(Le().mark((function e(){var t;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$c,e.next=3,t;case 3:if(t!==this.$c){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Xc",value:function(e){var t,n=Ut(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Zc",value:function(e){var t=this;return this.Yc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Ut(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Yc()}))}},{key:"ta",value:function(e){this.Qc.push(e)}},{key:"Jc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();var US=function(e){d(n,e);var t=k(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new MS,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return f(n,[{key:"_terminate",value:function(){return this._firestoreClient||jS(this),this._firestoreClient.terminate()}}]),n}(NS);function VS(e){return e._firestoreClient||jS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function jS(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Rk(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new cS(e._authCredentials,e._appCheckCredentials,e._queue,r)}var FS=function(){function e(){l(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Mg(Lg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ek(n)}return f(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var zS=function(){function e(t){l(this,e),this._byteString=t}return f(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Ek.fromBase64String(t))}catch(t){throw new Mg(Lg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Ek.fromUint8Array(t))}}]),e}(),BS=f((function e(t){l(this,e),this._methodName=t})),HS=function(){function e(t,n){if(l(this,e),!isFinite(t)||t<-90||t>90)throw new Mg(Lg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Mg(Lg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return f(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Kg(this._lat,e._lat)||Kg(this._long,e._long)}}]),e}(),qS=/^__.*__$/,WS=function(){function e(t,n,r){l(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return f(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new sw(e,this.data,this.fieldMask,t,this.fieldTransforms):new ow(e,this.data,t,this.fieldTransforms)}}]),e}();function GS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pg()}}var KS=function(){function e(t,n,r,i,a,o){l(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return f(e,[{key:"path",get:function(){return this.settings.path}},{key:"na",get:function(){return this.settings.na}},{key:"sa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.oa(e),r}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.ea(),r}},{key:"ca",value:function(e){return this.sa({path:void 0,ra:!0})}},{key:"aa",value:function(e){return iT(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ea",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.oa(this.path.get(e))}},{key:"oa",value:function(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(GS(this.na)&&qS.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}]),e}(),QS=function(){function e(t,n,r){l(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||pE(t)}return f(e,[{key:"fa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new KS({na:e,methodName:t,la:n,path:ek.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function XS(e){var t=e._freezeSettings(),n=pE(e._databaseId);return new QS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function YS(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.fa(a.merge||a.mergeFields?2:0,t,n,i);eT("Data must be an object, but it was:",o,r);var s,u,l=JS(r,o);if(a.merge)s=new xk(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var c,f=[],h=Ut(a.mergeFields);try{for(h.s();!(c=h.n()).done;){var d=c.value,p=tT(t,d,n);if(!o.contains(p))throw new Mg(Lg.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));aT(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new xk(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new WS(new $k(l),s,u)}function $S(e,t){if(ZS(e=vl(e)))return eT("Unsupported field value:",t,e),JS(e,t);if(e instanceof BS)return function(e,t){if(!GS(t.na))throw t.aa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.aa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Ut(e);try{for(a.s();!(n=a.n()).done;){var o=$S(n.value,t.ca(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=vl(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Vb(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Xg.fromDate(e);return{timestampValue:qw(t.It,n)}}if(e instanceof Xg){var r=new Xg(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:qw(t.It,r)}}if(e instanceof HS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof zS)return{bytesValue:Ww(t.It,e._byteString)};if(e instanceof RS){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.aa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Qw(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.aa("Unsupported field value: ".concat(CS(e)))}(e,t)}function JS(e,t){var n={};return mk(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vk(e,(function(e,r){var i=$S(r,t.ia(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function ZS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Xg||e instanceof HS||e instanceof zS||e instanceof RS||e instanceof BS)}function eT(e,t,n){if(!ZS(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=CS(n);throw"an object"===r?t.aa(e+" a custom object"):t.aa(e+" "+r)}}function tT(e,t,n){if((t=vl(t))instanceof FS)return t._internalPath;if("string"==typeof t)return rT(e,t);throw iT("Field path arguments must be of type string or ",e,!1,void 0,n)}var nT=new RegExp("[~\\*/\\[\\]]");function rT(e,t,n){if(t.search(nT)>=0)throw iT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return b(FS,u(t.split(".")))._internalPath}catch(r){throw iT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function iT(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Mg(Lg.INVALID_ARGUMENT,s+e+u)}function aT(e,t){return e.some((function(e){return e.isEqual(t)}))}var oT=function(){function e(t,n,r,i,a){l(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return f(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new RS(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new sT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(uT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),sT=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n,[{key:"data",value:function(){return $u(p(n.prototype),"data",this).call(this)}}]),n}(oT);function uT(e,t){return"string"==typeof t?rT(e,t):t instanceof FS?t._internalPath:t._delegate._internalPath}var lT=function(){function e(t,n){l(this,e),this.hasPendingWrites=t,this.fromCache=n}return f(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),cT=function(e){d(n,e);var t=k(n);function n(e,r,i,a,o,s){var u;return l(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return f(n,[{key:"exists",value:function(){return $u(p(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new fT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(uT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(oT),fT=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return $u(p(n.prototype),"data",this).call(this,e)}}]),n}(cT),hT=function(){function e(t,n,r,i){l(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new lT(i.hasPendingWrites,i.fromCache),this.query=r}return f(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new fT(n._firestore,n._userDataWriter,r.key,r,new lT(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Mg(Lg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new fT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new lT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new fT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new lT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:dT(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function dT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pg()}}function pT(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Mg(Lg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var vT=f((function e(){l(this,e)}));function mT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var yT=function(e){d(n,e);var t=k(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).wa=e,i.ya=r,i.type="orderBy",i}return f(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Mg(Lg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Mg(Lg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new vb(t,n);return function(e,t){if(null===Eb(e)){var n=_b(e);null!==n&&kT(e,n,t.field)}}(e,r),r}(e._query,this.wa,this.ya);return new PS(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new kb(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(vT);function gT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=uT("orderBy",e);return new yT(r,n)}function kT(e,t,n){if(!n.isEqual(t))throw new Mg(Lg.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var bT=function(){function e(){l(this,e)}return f(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Uk(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tk(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ck(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Pg()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return vk(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new HS(Tk(e.latitude),Tk(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ak(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Nk(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Sk(e);return new Xg(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Jg.fromString(e);Og(vx(n));var r=new Pk(n.get(1),n.get(3)),i=new tk(n.popFirst(5));return r.isEqual(t)||Ag("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function wT(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var xT=function(e){d(n,e);var t=k(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return f(n,[{key:"convertBytes",value:function(e){return new zS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new RS(this.firestore,null,t)}}]),n}(bT);function ET(e){e=IS(e,PS);var t=IS(e.firestore,US),n=VS(t),r=new xT(t);return pT(e._query),xS(n,e._query).then((function(n){return new hT(t,r,e,n)}))}function _T(e,t,n){e=IS(e,RS);var r=IS(e.firestore,US),i=wT(e.converter,t,n);return ST(r,[YS(XS(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Jb.none())])}function ST(e,t){return function(e,t){var n=new Ug;return e.asyncQueue.enqueueAndForget(Ue(Le().mark((function r(){return Le().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=M_,r.next=3,kS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(VS(e),t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Sg="9.10.0",tc(new ml("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new US(new Fg(e.getProvider("auth-internal")),new qg(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Mg(Lg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pk(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),uc(Eg,"3.5.0",e),uc(Eg,"3.5.0","esm2017")}();var TT="firebasestorage.googleapis.com",CT=function(e){d(n,e);var t=k(n);function n(e,r){var i;return l(this,n),(i=t.call(this,IT(e),"Firebase Storage: ".concat(r," (").concat(IT(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(y(i),n.prototype),i}return f(n,[{key:"_codeEquals",value:function(e){return IT(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(il);function IT(e){return"storage/"+e}function AT(){return new CT("unknown","An unknown error occurred, please check the error payload for server response.")}function NT(){return new CT("canceled","User canceled the upload/download.")}function RT(){return new CT("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function PT(e){return new CT("invalid-argument",e)}function OT(){return new CT("app-deleted","The Firebase app was deleted.")}function DT(e,t){return new CT("invalid-format","String does not match format '"+e+"': "+t)}function LT(e){throw new CT("internal-error","Internal error: "+e)}var MT,UT=function(){function e(t,n){l(this,e),this.bucket=t,this.path_=n}return f(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new CT("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===TT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],l=0;l<u.length;l++){var c=u[l],f=c.regex.exec(t);if(f){var h=f[c.indices.bucket],d=f[c.indices.path];d||(d=""),r=new e(h,d),c.postModify(r);break}}if(null==r)throw function(e){return new CT("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),VT=function(){function e(t){l(this,e),this.promise_=Promise.reject(t)}return f(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function jT(e){return"string"===typeof e||e instanceof String}function FT(e){return zT()&&e instanceof Blob}function zT(){return"undefined"!==typeof Blob}function BT(e,t,n,r){if(r<t)throw PT("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw PT("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function HT(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function qT(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(MT||(MT={}));var WT=function(){function e(t,n,r,i,a,o,s,u,c,f,h){var d=this;l(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return f(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=AT();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?OT():NT());else i(new CT("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new GT(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var l=!1;function c(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(l)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void c.call.apply(c,[null,e].concat(n));var a;if(u()||o)return h(),void c.call.apply(c,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),l||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new GT(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===MT.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new GT(o,r))}else{var s=r.getErrorCode()===MT.ABORT;t(!1,new GT(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),GT=f((function e(t,n,r){l(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function KT(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function QT(){for(var e=KT(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(zT())return new Blob(n);throw new CT("unsupported-environment","This browser doesn't seem to support creating Blobs")}var XT="raw",YT="base64",$T="base64url",JT="data_url",ZT=f((function e(t,n){l(this,e),this.data=t,this.contentType=n||null}));function eC(e,t){switch(e){case XT:return new ZT(tC(t));case YT:case $T:return new ZT(nC(e,t));case JT:return new ZT(function(e){var t=new rC(e);return t.base64?nC(YT,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw DT(JT,"Malformed data URL.")}return tC(t)}(t.rest)}(t),new rC(t).contentType)}throw AT()}function tC(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function nC(e,t){switch(e){case YT:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw DT(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case $T:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw DT(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(l){throw DT(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var rC=f((function e(t){l(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw DT(JT,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var iC=function(){function e(t,n){l(this,e);var r=0,i="";FT(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return f(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(FT(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(zT()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(QT.apply(null,i))}var a=n.map((function(e){return jT(e)?eC(XT,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function aC(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function oC(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function sC(e,t){return t}var uC=f((function e(t,n,r,i){l(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||sC})),lC=null;function cC(){if(lC)return lC;var e=[];e.push(new uC("bucket")),e.push(new uC("generation")),e.push(new uC("metageneration")),e.push(new uC("name","fullPath",!0));var t=new uC("name");t.xform=function(e,t){return function(e){return!jT(e)||e.length<2?e:oC(e)}(t)},e.push(t);var n=new uC("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new uC("timeCreated")),e.push(new uC("updated")),e.push(new uC("md5Hash",null,!0)),e.push(new uC("cacheControl",null,!0)),e.push(new uC("contentDisposition",null,!0)),e.push(new uC("contentEncoding",null,!0)),e.push(new uC("contentLanguage",null,!0)),e.push(new uC("contentType",null,!0)),e.push(new uC("metadata","customMetadata",!0)),lC=e}function fC(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new UT(n,r);return t._makeStorageReference(i)}})}(r,e),r}function hC(e,t,n){var r=aC(t);return null===r?null:fC(e,r,n)}function dC(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var pC=f((function e(t,n,r,i){l(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function vC(e){if(!e)throw AT()}function mC(e,t){return function(n,r){var i=hC(e,r,t);return vC(null!==i),i}}function yC(e,t){return function(n,r){var i=hC(e,r,t);return vC(null!==i),function(e,t,n,r){var i=aC(t);if(null===i)return null;if(!jT(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return HT("/b/"+o(i)+"/o/"+o(a),n,r)+qT({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function gC(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new CT("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new CT("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new CT("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new CT("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function kC(e){var t=gC(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new CT("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function bC(e,t,n){var r=HT(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new pC(r,"GET",mC(e,n),i);return a.errorHandler=kC(t),a}function wC(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function xC(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=wC(t,r,i),l="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+dC(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",c="\r\n--"+s+"--",f=iC.getBlob(l,r,c);if(null===f)throw RT();var h={name:u.fullPath},d=HT(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new pC(d,"POST",mC(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=gC(t),v}var EC=f((function e(t,n,r,i){l(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function _C(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){vC(!1)}return vC(!!n&&-1!==(t||["active"]).indexOf(n)),n}var SC=262144;function TC(e,t,n,r,i,a,o,s){var u=new EC(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new CT("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var l=u.total-u.current,c=l;i>0&&(c=Math.min(c,i));var f=u.current,h=f+c,d={"X-Goog-Upload-Command":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw RT();var v=t.maxUploadRetryTime,m=new pC(n,"POST",(function(e,n){var i,o=_C(e,["active","final"]),s=u.current+c,l=r.size();return i="final"===o?mC(t,a)(e,n):null,new EC(s,l,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=gC(e),m}var CC="running",IC="paused",AC="success",NC="canceled",RC="error";function PC(e){switch(e){case"running":case"pausing":case"canceling":return CC;case"paused":return IC;case"success":return AC;case"canceled":return NC;default:return RC}}var OC=f((function e(t,n,r){l(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function DC(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var LC=function(){function e(){var t=this;l(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=MT.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=MT.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=MT.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return f(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw LT("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw LT("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw LT("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw LT("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw LT("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),MC=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(LC);function UC(){return new MC}var VC=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;l(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=cC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return f(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=s(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=wC(t,r,i),s={name:o.fullPath},u=HT(a,e.host,e._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},c=dC(o,n),f=e.maxUploadRetryTime,h=new pC(u,"POST",(function(e){var t;_C(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){vC(!1)}return vC(jT(t)),t}),f);return h.urlParams=s,h.headers=l,h.body=c,h.errorHandler=gC(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,UC,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new pC(n,"POST",(function(e){var t=_C(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){vC(!1)}n||vC(!1);var i=Number(n);return vC(!isNaN(i)),new EC(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=gC(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,UC,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=SC*this._chunkMultiplier,n=new EC(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=TC(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,UC,i,a);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){SC*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=bC(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,UC,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=xC(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,UC,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=NT(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=PC(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new OC(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(PC(this._state)){case AC:DC(this._resolve.bind(null,this.snapshot))();break;case NC:case RC:DC(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(PC(this._state)){case CC:case IC:e.next&&DC(e.next.bind(e,this.snapshot))();break;case AC:e.complete&&DC(e.complete.bind(e))();break;default:e.error&&DC(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),jC=function(){function e(t,n){l(this,e),this._service=t,this._location=n instanceof UT?n:UT.makeFromUrl(n,t.host)}return f(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new UT(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return oC(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new UT(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new CT("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function FC(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=HT(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new pC(r,"GET",yC(e,n),i);return a.errorHandler=kC(t),a}(e.storage,e._location,cC());return e.storage.makeRequestWithTokens(t,UC).then((function(e){if(null===e)throw new CT("no-download-url","The given file does not have any download URLs.");return e}))}function zC(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=HT(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new pC(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=kC(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,UC)}function BC(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new UT(e._location.bucket,n);return new jC(e.storage,r)}function HC(e,t){if(e instanceof GC){var n=e;if(null==n._bucket)throw new CT("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new jC(n,n._bucket);return null!=t?HC(r,t):r}return void 0!==t?BC(e,t):e}function qC(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof GC)return new jC(e,t);throw PT("To use ref(service, url), the first argument must be a Storage instance.")}return HC(e,t)}function WC(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:UT.makeFromBucketSpec(n,e)}var GC=function(){function e(t,n,r,i,a){l(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=TT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?UT.makeFromBucketSpec(i,this._host):WC(this._host,this.app.options)}return f(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=UT.makeFromBucketSpec(this._url,e):this._bucket=WC(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){BT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){BT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Ue(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Ue(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new jC(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new VT(OT());var a=function(e,t,n,r,i,a){var o=qT(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new WT(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=Ue(Le().mark((function e(t,n){var r,i,a,o;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=s(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),KC="@firebase/storage",QC="0.9.9",XC="storage";function YC(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new VC(e,new iC(t),n)}(e=vl(e),t,n)}function $C(e,t){return qC(e=vl(e),t)}function JC(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new GC(r,i,a,n,oc)}tc(new ml(XC,JC,"PUBLIC").setMultipleInstances(!0)),uc(KC,QC,""),uc(KC,QC,"esm2017");var ZC=function(){return Array.from(Jl.values())}.length>0?sc():function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Yl,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ic.create("bad-app-name",{appName:String(i)});var a=Jl.get(i);if(a){if(ul(e,a.options)&&ul(r,a.config))return a;throw ic.create("duplicate-app",{appName:i})}var o,s=new wl(i),u=Ut(Zl.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s.addComponent(l)}}catch(f){u.e(f)}finally{u.f()}var c=new ac(e,r,s);return Jl.set(i,c),c}({apiKey:"AIzaSyC0sWOPtBUU-MO7frmf4tfzBvtwG8Msra0",authDomain:"foodaffairs-b330b.firebaseapp.com",databaseURL:"https://foodaffairs-b330b-default-rtdb.firebaseio.com",projectId:"foodaffairs-b330b",storageBucket:"foodaffairs-b330b.appspot.com",messagingSenderId:"593821604728",appId:"1:593821604728:web:bf87c7a7be335fdee1068d"}),eI=function(e,t){var n="string"==typeof e?e:t||"(default)";return nc("object"==typeof e?e:sc(),"firestore").getImmediate({identifier:n})}(ZC),tI=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sc(),t=arguments.length>1?arguments[1]:void 0,n=nc(e=vl(e),XC),r=n.getImmediate({identifier:t});return r}(ZC),nI=n(184),rI=(0,t.createContext)(),iI=function(e){var n=e.reducer,r=e.initialState,i=e.children;return(0,nI.jsx)(rI.Provider,{value:(0,t.useReducer)(n,r),children:i})},aI=function(){return(0,t.useContext)(rI)},oI="SET_USER",sI="SET_ITEMS",uI=function(e,t){switch(console.log(t),t.type){case oI:return nt(nt({},e),{},{user:t.user});case sI:return nt(nt({},e),{},{items:t.items});default:return e}},lI=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sc(),t=nc(e,"auth");return t.isInitialized()?t.getImmediate():jc(e,{popupRedirectResolver:dp,persistence:[ld,Vh,Fh]})}(ZC),n=new wh,r=s((0,t.useState)(!1),2),i=r[0],a=r[1],o=s(aI(),2),u=o[0].user,l=o[1],c=de(),f=function(){var t=Ue(Le().mark((function t(){var r,o,s;return Le().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u){t.next=11;break}return t.next=3,Sd(e,n);case 3:r=t.sent,o=r.user,o.refreshToken,s=o.providerData,l({type:oI,user:s[0]}),localStorage.setItem("user",JSON.stringify(s[0])),t.next=12;break;case 11:a(!i);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){localStorage.clear(),l({type:oI,user:null})};function d(){a(!1)}return(0,nI.jsxs)("div",{className:"",children:[(0,nI.jsxs)("div",{className:"lg:flex hidden justify-between w-5/6 mx-auto sticky bg-white items-center",children:[(0,nI.jsx)(Pe,{to:"/",children:(0,nI.jsx)("div",{className:"py-5 font-semibold text-xl text-green-700",children:"Green Bro"})}),(0,nI.jsxs)(Xu.ul,{initial:{opacity:0,x:-200},animate:{opacity:1,x:0},exit:{opacity:0,x:-200},className:"lg:flex gap-10 hidden",children:[(0,nI.jsx)("li",{className:"menu_item",children:(0,nI.jsx)(Pe,{to:"/",children:"Home"})}),(0,nI.jsx)("li",{className:"menu_item",children:(0,nI.jsx)(Pe,{to:"/about",children:"About Us"})}),(0,nI.jsx)("li",{className:"menu_item",children:"Menu"}),(0,nI.jsx)("li",{className:"menu_item",children:(0,nI.jsx)(Pe,{to:"/contact",children:"Contact"})})]}),(0,nI.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,nI.jsxs)("div",{className:"relative duration-300 transition-all ease-in-out hover:text-green-700 cursor-pointer hover:text-lg",children:[(0,nI.jsx)(We,{className:""}),(0,nI.jsx)("div",{className:"text-sm absolute -top-3.5 -right-0 text-red-500 font-bolder",children:"3"})]}),(0,nI.jsxs)("div",{className:"relative",children:[(0,nI.jsx)(Xu.img,{whileTap:{scale:.6},src:u?u.photoURL:Ze,alt:"avatar",className:"h-10 cursor-pointer rounded-full",onClick:f}),i&&(0,nI.jsxs)(Xu.div,{initial:{opacity:0,scale:.6},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.6},className:"w-max bg-primary shadow-xl rounded-lg flex flex-col absolute px-2 py-2 top-12 right-0",children:[u&&"obeewon20@gmail.com"===u.email&&(0,nI.jsx)(Pe,{to:"/new-item",onClick:d,children:(0,nI.jsxs)("p",{className:"px-4 py-2 rounded-lg flex flex-row items-center gap-4 hover:bg-green-700 hover:text-white transition-all duration-100 ease-in-out text-green-700 text-base cursor-pointer",children:["New Item ",(0,nI.jsx)(Ke,{})]})}),(0,nI.jsxs)("p",{onClick:function(){h(),d(),c("/")},className:"mx-auto px-4 mt-2 py-2 rounded-lg flex flex-row items-center gap-4 bg-green-800 hover:bg-green-600 hover:text-white transition-all duration-100 ease-in-out text-white text-base cursor-pointer",children:["Log Out ",(0,nI.jsx)(Je,{})]})]})]})]})]}),(0,nI.jsxs)("div",{className:"flex justify-between sticky bg-white z-50 lg:hidden items-center mx-auto w-5/6",children:[(0,nI.jsx)(Pe,{to:"/",children:(0,nI.jsx)("div",{className:" py-5  z-50 font-semibold text-xl text-green-700",children:"Green Bro"})}),(0,nI.jsxs)("div",{className:"flex items-center gap-5",children:[(0,nI.jsxs)("div",{className:"relative duration-300 transition-all ease-in-out hover:text-green-700 cursor-pointer hover:text-lg",children:[(0,nI.jsx)(We,{className:""}),(0,nI.jsx)("div",{className:"text-sm absolute -top-3.5 -right-0 text-red-500 font-bolder",children:"3"})]}),(0,nI.jsxs)("div",{className:"relative ",children:[(0,nI.jsx)(Xu.img,{whileTap:{scale:.6},src:u?u.photoURL:Ze,alt:"avatar",className:"h-10 cursor-pointer rounded-full",onClick:f}),i&&(0,nI.jsxs)(Xu.div,{initial:{opacity:0,scale:.6},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.6},className:"w-max bg-white shadow-xl rounded-lg text-green-800 flex flex-col absolute px-2 py-2 top-12 right-0",children:[(0,nI.jsx)(Pe,{onClick:d,to:"/",children:(0,nI.jsxs)("p",{className:"px-4 py-2 rounded-lg flex flex-row items-center gap-4 hover:bg-green-700 hover:text-white transition-all duration-100 ease-in-out text-green-700 text-base cursor-pointer",children:["Home ",(0,nI.jsx)(Xe,{})]})}),(0,nI.jsxs)("p",{className:"px-4 py-2 rounded-lg flex flex-row items-center gap-4 hover:bg-green-700 hover:text-white transition-all duration-100 ease-in-out text-green-700 text-base cursor-pointer",children:["About Us ",(0,nI.jsx)($e,{})]}),(0,nI.jsxs)("p",{className:"px-4 py-2 rounded-lg flex flex-row items-center gap-4 hover:bg-green-700 hover:text-white transition-all duration-100 ease-in-out text-green-700 text-base cursor-pointer",children:["Menu ",(0,nI.jsx)(Ye,{})]}),(0,nI.jsxs)("p",{className:"px-4 py-2 rounded-lg flex flex-row items-center gap-4 hover:bg-green-700 hover:text-white transition-all duration-100 ease-in-out text-green-700 text-base cursor-pointer",children:["Contact Us",(0,nI.jsx)(Ge,{})]}),u&&"obeewon20@gmail.com"===u.email&&(0,nI.jsx)(Pe,{to:"/new-item",onClick:d,children:(0,nI.jsxs)("p",{className:"px-4 py-2 rounded-lg flex flex-row items-center gap-4 hover:bg-green-800 hover:bg-green-700 hover:text-white transition-all duration-100 ease-in-out text-green-700 text-base cursor-pointer",children:["New Item ",(0,nI.jsx)(Ke,{})]})}),(0,nI.jsxs)("p",{onClick:function(){h(),d(),c("/")},className:"mx-auto px-4 mt-2 py-2 rounded-lg flex flex-row items-center gap-4 bg-green-800 hover:bg-green-600 hover:text-white transition-all duration-100 ease-in-out text-white text-base cursor-pointer",children:["Log Out ",(0,nI.jsx)(Je,{})]})]})]})]})]})]})};function cI(e){return He({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}}]})(e)}function fI(e){return He({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}}]})(e)}function hI(e){return He({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M15.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM5 12c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 8.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5zm5.8-10l2.4-2.4.8.8c1.3 1.3 3 2.1 5.1 2.1V9c-1.5 0-2.7-.6-3.6-1.5l-1.9-1.9c-.5-.4-1-.6-1.6-.6s-1.1.2-1.4.6L7.8 8.4c-.4.4-.6.9-.6 1.4 0 .6.2 1.1.6 1.4L11 14v5h2v-6.2l-2.2-2.3zM19 12c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 8.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5z"}}]})(e)}var dI=n.p+"static/media/mustard.84f75a13605d79d7bcd2.png",pI=(n.p,function(e){return console.log(e),(0,nI.jsx)(Xu.div,{initial:{opacity:0,x:-200},animate:{opacity:1,x:0},exit:{opacity:0,x:-200},children:(0,nI.jsxs)("div",{className:"shadow-lg rounded-lg px-4 py-5 h-56 hover:bg-gray-50 w-60 min-w-[250px]",children:[(0,nI.jsxs)("div",{className:"flex items-center gap-10",children:[(0,nI.jsx)(Xu.img,{alt:"veges",src:e.imageURL,whileHover:{scale:1.2},className:"rounded-2xl h-28 w-28 bg-gray-600"}),(0,nI.jsx)(Xu.div,{whileTap:{scale:.7},className:"rounded-full bg-green-700 cursor-pointer shadow-md h-10 w-10 flex justify-center items-center",children:(0,nI.jsx)(We,{className:"text-white"})})]}),(0,nI.jsxs)("div",{className:"text-right",children:[(0,nI.jsx)("p",{className:"font-bold",children:e.name}),(0,nI.jsx)("p",{className:"text-gray-400",children:e.category}),(0,nI.jsxs)("p",{className:"font-bold",children:[(0,nI.jsx)("span",{className:"text-green-700",children:"N"}),e.price]})]})]})})}),vI=function(){var e=s(t.useState(!0),2),n=e[0],r=e[1],i=s(aI(),2),a=i[0].items,o=(i[1],null===a||void 0===a?void 0:a.filter((function(e){return"Leafy Vegetables"===e.category}))),u=null===a||void 0===a?void 0:a.filter((function(e){return"Root Veges"===e.category})),l=o.map((function(e){return(0,nI.jsx)(pI,nt({flag:!0},e),e.id)})),c=u.map((function(e){return(0,nI.jsx)(pI,nt({flag:!0},e),e.id)}));function f(){r((function(e){return!e}))}function h(e){return(0,nI.jsx)(Xu.div,{whileTap:{scale:.7},className:"h-10 hover:bg-green-600 flex justify-center shadow-md cursor-pointer items-center text-white w-max px-3 bg-green-800 rounded-xl ",children:(0,nI.jsx)("p",{className:"text-xl",children:e.name})},e.name)}var d=[{id:1,name:"Fruits"},{id:2,name:"Nuts"},{id:3,name:"Leafy Green"},{id:4,name:"Roots"}].map((function(e){return(0,nI.jsx)(h,nt({},e),e.id)}));return(0,nI.jsxs)("div",{className:"mx-auto lg:mt-12 mt-8 w-5/6",children:[(0,nI.jsxs)("section",{className:"lg:flex gap-20 items-center",children:[(0,nI.jsxs)("div",{className:"lg:w-5/12",children:[(0,nI.jsxs)("p",{className:"flex items-center gap-2 bg-yellow-100 w-max text-black rounded-md px-2 py-1",children:["Bike Delivery",(0,nI.jsxs)("span",{className:"rounded-full bg-white shadow-xl w-6 h-6 flex items-center justify-center",children:[" ",(0,nI.jsx)(hI,{className:"drop-shadow-xl"})]})]}),(0,nI.jsxs)("p",{className:"text-5xl font-black ",children:["Be one with nature in its ",(0,nI.jsx)("span",{className:"text-green-700",children:"Glories"})]}),(0,nI.jsxs)("p",{className:"mt-5",children:[(0,nI.jsx)("span",{className:"italic text-gray-700",children:"\u201cWe don't need a melting pot in this country, folks. We need a salad bowl. In a salad bowl, you put in the different things. You want the vegetables - the lettuce, the cucumbers, the onions, the green peppers - to maintain their identity. You appreciate differences.\u201d"})," \u2014 Jane Elliot"]}),(0,nI.jsx)("button",{className:"bg-green-800 rounded-md px-4 py-2 mt-5 text-white hover:bg-green-600",children:"Re-up Now"})]}),(0,nI.jsx)("img",{src:dI,alt:"vegetables",className:"text-center mt-14 lg:mt-0 lg:w-4/12 w-3/6 lg:h-full"}),(0,nI.jsxs)("div",{className:"lg:flex hidden lg:flex-col gap-20 text-center",children:[(0,nI.jsxs)("p",{children:["More ",(0,nI.jsx)("span",{className:"text-green-700 font-bold",children:"Vegetables"}),", healthier ",(0,nI.jsx)("span",{className:"text-black font-bold",children:"Life"})]}),(0,nI.jsxs)("div",{children:[(0,nI.jsx)("p",{className:"text-2xl font-bold",children:"4+"}),(0,nI.jsx)("p",{children:"Categories"})]}),(0,nI.jsxs)("div",{children:[(0,nI.jsx)("p",{className:"text-2xl font-bold",children:"1 Store"}),(0,nI.jsx)("p",{children:"Life-long supply"})]})]})]}),(0,nI.jsxs)("section",{className:"my-40",children:[(0,nI.jsxs)("div",{className:"flex items-center justify-between lg:w-5/6 mx-auto",children:[(0,nI.jsx)("p",{className:"text-xl font-bold",children:n?"Our Vegetables":"Our Roots"}),(0,nI.jsxs)("div",{className:"flex gap-2",children:[(0,nI.jsx)(Xu.div,{whileTap:{scale:.7},onClick:f,className:"h-10 hover:bg-green-600 flex justify-center shadow-md cursor-pointer items-center text-white w-10 bg-green-800 rounded-xl ",children:(0,nI.jsx)(cI,{className:"text-xl"})}),(0,nI.jsx)(Xu.div,{whileTap:{scale:.7},onClick:f,className:"h-10 hover:bg-green-600 flex justify-center shadow-md cursor-pointer items-center text-white w-10 bg-green-800 rounded-xl ",children:(0,nI.jsx)(fI,{className:"text-xl"})})]})]}),(0,nI.jsx)("div",{id:"vegetableContainer",className:"lg:w-5/6 mx-auto my-5 py-2 overflow-x-scroll lg:flex-wrap lg:overflow-x-hidden scrollbar-none flex gap-7",children:n?l:c})]}),(0,nI.jsxs)("section",{className:"my-10",children:[(0,nI.jsx)("div",{className:"text-center text-xl font-bold",children:"Our Produce"}),(0,nI.jsx)("div",{className:"flex gap-8 justify-center mt-5",children:d})]})]})};n.p;function mI(e){return He({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M546.2 9.7c-5.6-12.5-21.6-13-28.3-1.2C486.9 62.4 431.4 96 368 96h-80C182 96 96 182 96 288c0 7 .8 13.7 1.5 20.5C161.3 262.8 253.4 224 384 224c8.8 0 16 7.2 16 16s-7.2 16-16 16C132.6 256 26 410.1 2.4 468c-6.6 16.3 1.2 34.9 17.5 41.6 16.4 6.8 35-1.1 41.8-17.3 1.5-3.6 20.9-47.9 71.9-90.6 32.4 43.9 94 85.8 174.9 77.2C465.5 467.5 576 326.7 576 154.3c0-50.2-10.8-102.2-29.8-144.6z"}}]})(e)}var yI=function(){var e=Ue(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_T(LS(eI,"foodaffairs","".concat(Date.now())),t,{merge:!0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gI=function(){var e=Ue(Le().mark((function e(){var t;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ET(mT(DS(eI,"foodaffairs"),gT("id","desc")));case 2:return t=e.sent,e.abrupt("return",t.docs.map((function(e){return e.data()})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),kI=function(){var e=s(t.useState(),2),n=e[0],r=e[1],i=s(t.useState(),2),a=i[0],o=i[1],u=s(t.useState(!1),2),l=u[0],c=u[1],f=s(t.useState(null),2),h=f[0],d=f[1],p=s(t.useState(),2),v=p[0],m=p[1],y=s(t.useState(),2),g=y[0],k=y[1],b=s(t.useState(!1),2),w=b[0],x=b[1],E=s(t.useState(),2),_=E[0],S=E[1],T=s(t.useState("danger"),2),C=T[0],I=T[1],A=s(aI(),2),N=(A[0].items,A[1]),R=function(){var e=Ue(Le().mark((function e(){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gI().then((function(e){N({type:sI,items:e})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){r(""),d(null),m(""),k(""),o("Select Strand")};return(0,nI.jsxs)("div",{className:"w-5/6 mx-auto my-10",children:[(0,nI.jsxs)("div",{className:"mx-auto my-10 w-3/6 justify-center flex items-center gap-3",children:[(0,nI.jsx)("p",{className:"font-bold text-lg text-green-800",children:"New Vegetable"}),(0,nI.jsx)(mI,{})]}),(0,nI.jsxs)("div",{className:"flex flex-col mx-auto lg:w-4/6 gap-10",children:[w&&(0,nI.jsx)(Xu.p,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center text-lg font-semibold py-1 rounded-md ".concat("danger"===C?"bg-red-400":"bg-emerald-400"),children:_}),(0,nI.jsxs)("div",{className:"flex flex-col",children:[(0,nI.jsxs)("div",{className:"border-b-2 border-green-700 rounded-md flex gap-2 items-center px-2 py-2",children:[(0,nI.jsx)(mI,{}),(0,nI.jsx)("input",{type:"text",required:!0,value:n,placeholder:"Add a title",onChange:function(e){return r(e.target.value)},className:"w-full rounded-md placeholder:text-gray-400 outline-none"})]}),(0,nI.jsxs)("div",{className:"border-b-2 mt-5 border-green-700 rounded-md flex gap-2 items-center px-2 py-2",children:[(0,nI.jsx)(mI,{}),(0,nI.jsxs)("select",{className:"w-full rounded-md placeholder:text-gray-400 outline-none",onChange:function(e){return o(e.target.value)},children:[(0,nI.jsx)("option",{value:a,children:"Select Category"}),[{id:1,name:"Leafy Vegetables"},{id:2,name:"Fruits"},{id:3,name:"Nuts"},{id:4,name:"Root Veges"}].map((function(e){return(0,nI.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]})]}),(0,nI.jsx)("div",{className:"border-2 border-green-700 h-56 rounded-lg mt-5 flex justify-center items-center",children:l?"loading...":(0,nI.jsx)("div",{children:h?(0,nI.jsxs)("div",{className:"relative flex gap-8 items-center",children:[(0,nI.jsx)("img",{src:h,alt:"uploaded",className:"h-48 relative object cover"}),(0,nI.jsx)("div",{children:(0,nI.jsx)("button",{type:"button",onClick:function(){c(!0),function(e){return zC(e=vl(e))}($C(tI,h)).then((function(){d(null),c(!1),x(!0),I("danger"),S("Trashed"),setTimeout((function(){x(!1)}),3e3)}))},className:"bottom-3 bg-green-800 rounded-md px-4 py-2 mt-5 text-white hover:bg-green-700 ease-in-out transition-all cursor-pointer",children:"Delete Image"})})]}):(0,nI.jsx)("div",{children:(0,nI.jsxs)("label",{className:"flex flex-col justify-center items-center cursor-pointer",children:[(0,nI.jsx)(Qe,{className:"text-3xl"}),(0,nI.jsx)("p",{children:"Click to upload"}),(0,nI.jsx)("input",{type:"file",accept:"image/*",name:"uploadimage",onChange:function(e){c(!0);var t=e.target.files[0],n=YC($C(tI,"Images/".concat(Date.now(),"-").concat(t.name)),t);n.on("changedState",(function(e){e.bytesTransferred,e.totalBytes}),(function(e){console.log(e),x(!0),S("Error Occurred, try again"),I("danger"),setTimeout((function(){x(!1),c(!1)}),3e3)}),(function(){(function(e){return FC(e=vl(e))})(n.snapshot.ref).then((function(e){d(e),c(!1),x(!0),S("success"),I("success"),setTimeout((function(){x(!1)}),3e3)}))})),R()},className:"w-0 h-0"})]})})})}),(0,nI.jsxs)("div",{className:"lg:flex gap-8",children:[(0,nI.jsxs)("div",{className:"lg:w-3/6 border-b-2 border-green-700 rounded-md flex gap-2 items-center px-2 py-2",children:[(0,nI.jsx)(mI,{}),(0,nI.jsx)("input",{type:"text",required:!0,value:v,placeholder:"Add Leaf Name",onChange:function(e){return m(e.target.value)},className:"w-full rounded-md placeholder:text-gray-400 outline-none"})]}),(0,nI.jsxs)("div",{className:"lg:w-3/6 mt-5 lg:mt-0 border-b-2 border-green-700 rounded-md flex gap-2 items-center px-2 py-2",children:[(0,nI.jsx)(mI,{}),(0,nI.jsx)("input",{type:"text",required:!0,value:g,placeholder:"Add Leaf Price",onChange:function(e){return k(e.target.value)},className:"w-full rounded-md placeholder:text-gray-400 outline-none"})]})]}),(0,nI.jsx)("div",{className:"text-right",children:(0,nI.jsx)("button",{onClick:function(){c(!0);try{if(n&&v&&g&&h&&a){var e={id:"".concat(Date.now()),title:n,imageURL:h,category:a,price:g,name:v};yI(e),c(!1),x(!0),P(),S("Added To Database"),I("success"),setTimeout((function(){x(!1)}),6e3)}else x(!0),S("Dude! Fill Properly"),I("danger"),setTimeout((function(){x(!1),c(!1)}),3e3)}catch(t){console.log(t),x(!0),S("Error Occurred, try again"),I("danger"),setTimeout((function(){x(!1),c(!1)}),3e3)}R()},className:"px-4 py-2 bg-green-800 rounded-md px-4 py-2 mt-5 text-white hover:bg-green-700 transition-all ease-in-out",children:"Roll Out"})})]})]})};function bI(){var e=(0,t.useRef)(!1);return st((function(){return e.current=!0,function(){e.current=!1}}),[]),e}var wI=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n,[{key:"getSnapshotBeforeUpdate",value:function(e){var t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){var n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft}return null}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return this.props.children}}]),n}(t.Component);function xI(e){var n=e.children,r=e.isPresent,i=(0,t.useId)(),a=(0,t.useRef)(null),o=(0,t.useRef)({width:0,height:0,top:0,left:0});return(0,t.useInsertionEffect)((function(){var e=o.current,t=e.width,n=e.height,s=e.top,u=e.left;if(!r&&a.current&&t&&n){a.current.dataset.motionPopId=i;var l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(t,"px !important;\n            height: ").concat(n,"px !important;\n            top: ").concat(s,"px !important;\n            left: ").concat(u,"px !important;\n          }\n        ")),function(){document.head.removeChild(l)}}}),[r]),t.createElement(wI,{isPresent:r,childRef:a,sizeRef:o},t.cloneElement(n,{ref:a}))}var EI=function(e){var n=e.children,r=e.initial,i=e.isPresent,a=e.onExitComplete,o=e.custom,s=e.presenceAffectsLayout,u=e.mode,l=bt(_I),c=(0,t.useId)(),f=(0,t.useMemo)((function(){return{id:c,initial:r,isPresent:i,custom:o,onExitComplete:function(e){l.set(e,!0);var t,n=Ut(l.values());try{for(n.s();!(t=n.n()).done;){if(!t.value)return}}catch(r){n.e(r)}finally{n.f()}a&&a()},register:function(e){return l.set(e,!1),function(){return l.delete(e)}}}}),s?void 0:[i]);return(0,t.useMemo)((function(){l.forEach((function(e,t){return l.set(t,!1)}))}),[i]),t.useEffect((function(){!i&&!l.size&&a&&a()}),[i]),"popLayout"===u&&(n=t.createElement(xI,{isPresent:i},n)),t.createElement(at.Provider,{value:f},n)};function _I(){return new Map}var SI=function(e){return e.key||""};var TI=function(e){var n=e.children,r=e.custom,i=e.initial,a=void 0===i||i,o=e.onExitComplete,l=e.exitBeforeEnter,c=e.presenceAffectsLayout,f=void 0===c||c,h=e.mode,d=void 0===h?"sync":h;l&&(d="wait",pr(!1,"Replace exitBeforeEnter with mode='wait'"));var p=function(){var e=bI(),n=s((0,t.useState)(0),2),r=n[0],i=n[1],a=(0,t.useCallback)((function(){e.current&&i(r+1)}),[r]);return[(0,t.useCallback)((function(){return ta.postRender(a)}),[a]),r]}(),v=s(p,1)[0],m=(0,t.useContext)(Et).forceRender;m&&(v=m);var y=bI(),g=function(e){var n=[];return t.Children.forEach(e,(function(e){(0,t.isValidElement)(e)&&n.push(e)})),n}(n),k=g,b=new Set,w=(0,t.useRef)(k),x=(0,t.useRef)(new Map).current,E=(0,t.useRef)(!0);if(st((function(){E.current=!1,function(e,t){e.forEach((function(e){var n=SI(e);t.set(n,e)}))}(g,x),w.current=k})),cr((function(){E.current=!0,x.clear(),b.clear()})),E.current)return t.createElement(t.Fragment,null,k.map((function(e){return t.createElement(EI,{key:SI(e),isPresent:!0,initial:!!a&&void 0,presenceAffectsLayout:f,mode:d},e)})));k=u(k);for(var _=w.current.map(SI),S=g.map(SI),T=_.length,C=0;C<T;C++){var I=_[C];-1===S.indexOf(I)&&b.add(I)}return"wait"===d&&b.size&&(k=[]),b.forEach((function(e){if(-1===S.indexOf(e)){var n=x.get(e);if(n){var i=_.indexOf(e);k.splice(i,0,t.createElement(EI,{key:SI(n),isPresent:!1,onExitComplete:function(){x.delete(e),b.delete(e);var t=w.current.findIndex((function(t){return t.key===e}));if(w.current.splice(t,1),!b.size){if(w.current=g,!1===y.current)return;v(),o&&o()}},custom:r,presenceAffectsLayout:f,mode:d},n))}}})),k=k.map((function(e){var n=e.key;return b.has(n)?e:t.createElement(EI,{key:SI(e),isPresent:!0,presenceAffectsLayout:f,mode:d},e)})),t.createElement(t.Fragment,null,b.size?k:k.map((function(e){return(0,t.cloneElement)(e)})))},CI=function(){return(0,nI.jsx)("div",{children:"AboutPage"})},II=function(){var e=function(){var e=t.useContext(ue).matches,n=e[e.length-1];return n?n.params:{}}(),n=e.staffId,r=e.userId,i=de();return(0,nI.jsxs)("div",{children:[(0,nI.jsxs)("div",{children:["ContactPage ",n,r]}),(0,nI.jsx)("button",{onClick:function(){i("/")},children:"Click Me"})]})};var AI=function(){var e=s(aI(),2),n=(e[0].items,e[1]),r=s((0,t.useState)(!1),2),i=r[0],a=r[1],o=function(){var e=Ue(Le().mark((function e(){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gI().then((function(e){console.log(e),a(!0),n({type:sI,items:e})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){o()}),[]),(0,nI.jsx)(TI,{wait:!0,children:i&&(0,nI.jsxs)("div",{className:"App",children:[(0,nI.jsx)(lI,{}),(0,nI.jsxs)(Se,{children:[(0,nI.jsx)(Ee,{path:"/",element:(0,nI.jsx)(vI,{})}),(0,nI.jsx)(Ee,{path:"/about",element:(0,nI.jsx)(CI,{})}),(0,nI.jsx)(Ee,{path:"/contact",element:(0,nI.jsx)(II,{})}),(0,nI.jsx)(Ee,{path:"/new-item",element:(0,nI.jsx)(kI,{})})]})]})})},NI={user:void("undefined"!==localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):localStorage.clear()),items:[]};i.createRoot(document.getElementById("root")).render((0,nI.jsx)(Re,{children:(0,nI.jsx)(iI,{initialState:NI,reducer:uI,children:(0,nI.jsx)(AI,{})})}))}()}();
//# sourceMappingURL=main.3c726ab9.js.map